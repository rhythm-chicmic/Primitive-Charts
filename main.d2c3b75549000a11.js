"use strict";(self.webpackChunkgraph=self.webpackChunkgraph||[]).push([[179],{104:()=>{function Ht(e){return"function"==typeof e}function gl(e){const n=e(i=>{Error.call(i),i.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const uc=gl(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ea(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class bi{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:i}=this;if(Ht(i))try{i()}catch(s){t=s instanceof uc?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{By(s)}catch(o){t=t??[],o instanceof uc?t=[...t,...o.errors]:t.push(o)}}if(t)throw new uc(t)}}add(t){var n;if(t&&t!==this)if(this.closed)By(t);else{if(t instanceof bi){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ea(n,t)}remove(t){const{_finalizers:n}=this;n&&ea(n,t),t instanceof bi&&t._removeParent(this)}}bi.EMPTY=(()=>{const e=new bi;return e.closed=!0,e})();const Ny=bi.EMPTY;function Vy(e){return e instanceof bi||e&&"closed"in e&&Ht(e.remove)&&Ht(e.add)&&Ht(e.unsubscribe)}function By(e){Ht(e)?e():e.unsubscribe()}const io={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},cc={setTimeout(e,t,...n){const{delegate:i}=cc;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=cc;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function zy(e){cc.setTimeout(()=>{const{onUnhandledError:t}=io;if(!t)throw e;t(e)})}function Cf(){}const fE=Sf("C",void 0,void 0);function Sf(e,t,n){return{kind:e,value:t,error:n}}let ro=null;function hc(e){if(io.useDeprecatedSynchronousErrorHandling){const t=!ro;if(t&&(ro={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:i}=ro;if(ro=null,n)throw i}}else e()}class Df extends bi{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Vy(t)&&t.add(this)):this.destination=bE}static create(t,n,i){return new vl(t,n,i)}next(t){this.isStopped?If(function mE(e){return Sf("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?If(function pE(e){return Sf("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?If(fE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const vE=Function.prototype.bind;function Mf(e,t){return vE.call(e,t)}class yE{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){dc(i)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){dc(i)}else dc(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){dc(n)}}}class vl extends Df{constructor(t,n,i){let r;if(super(),Ht(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&io.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Mf(t.next,s),error:t.error&&Mf(t.error,s),complete:t.complete&&Mf(t.complete,s)}):r=t}this.destination=new yE(r)}}function dc(e){io.useDeprecatedSynchronousErrorHandling?function gE(e){io.useDeprecatedSynchronousErrorHandling&&ro&&(ro.errorThrown=!0,ro.error=e)}(e):zy(e)}function If(e,t){const{onStoppedNotification:n}=io;n&&cc.setTimeout(()=>n(e,t))}const bE={closed:!0,next:Cf,error:function _E(e){throw e},complete:Cf},kf="function"==typeof Symbol&&Symbol.observable||"@@observable";function so(e){return e}function Hy(e){return 0===e.length?so:1===e.length?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}let dn=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){const s=function CE(e){return e&&e instanceof Df||function TE(e){return e&&Ht(e.next)&&Ht(e.error)&&Ht(e.complete)}(e)&&Vy(e)}(n)?n:new vl(n,i,r);return hc(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return new(i=Uy(i))((r,s)=>{const o=new vl({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}[kf](){return this}pipe(...n){return Hy(n)(this)}toPromise(n){return new(n=Uy(n))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return e.create=t=>new e(t),e})();function Uy(e){var t;return null!==(t=e??io.Promise)&&void 0!==t?t:Promise}const SE=gl(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let cr=(()=>{class e extends dn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const i=new jy(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new SE}next(n){hc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(n)}})}error(n){hc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){hc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:i,isStopped:r,observers:s}=this;return i||r?Ny:(this.currentObservers=null,s.push(n),new bi(()=>{this.currentObservers=null,ea(s,n)}))}_checkFinalizedStatuses(n){const{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){const n=new dn;return n.source=this,n}}return e.create=(t,n)=>new jy(t,n),e})();class jy extends cr{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===i||i.call(n,t)}error(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===i||i.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,i;return null!==(i=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==i?i:Ny}}function $y(e){return Ht(e?.lift)}function _n(e){return t=>{if($y(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function fn(e,t,n,i,r){return new DE(e,t,n,i,r)}class DE extends Df{constructor(t,n,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Ge(e,t){return _n((n,i)=>{let r=0;n.subscribe(fn(i,s=>{i.next(e.call(t,s,r++))}))})}function oo(e){return this instanceof oo?(this.v=e,this):new oo(e)}function kE(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(d){i[d]&&(r[d]=function(f){return new Promise(function(p,m){s.push([d,f,p,m])>1||a(d,f)})})}function a(d,f){try{!function l(d){d.value instanceof oo?Promise.resolve(d.value.v).then(u,c):h(s[0][2],d)}(i[d](f))}catch(p){h(s[0][3],p)}}function u(d){a("next",d)}function c(d){a("throw",d)}function h(d,f){d(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function EE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function qy(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=e[s](o)).done,o.value)})}}}const Ky=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Xy(e){return Ht(e?.then)}function Qy(e){return Ht(e[kf])}function Yy(e){return Symbol.asyncIterator&&Ht(e?.[Symbol.asyncIterator])}function Zy(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Jy=function xE(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function e_(e){return Ht(e?.[Jy])}function t_(e){return kE(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:i,done:r}=yield oo(n.read());if(r)return yield oo(void 0);yield yield oo(i)}}finally{n.releaseLock()}})}function n_(e){return Ht(e?.getReader)}function ki(e){if(e instanceof dn)return e;if(null!=e){if(Qy(e))return function PE(e){return new dn(t=>{const n=e[kf]();if(Ht(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Ky(e))return function OE(e){return new dn(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Xy(e))return function RE(e){return new dn(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,zy)})}(e);if(Yy(e))return i_(e);if(e_(e))return function FE(e){return new dn(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(n_(e))return function LE(e){return i_(t_(e))}(e)}throw Zy(e)}function i_(e){return new dn(t=>{(function NE(e,t){var n,i,r,s;return function ME(e,t,n,i){return new(n||(n=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(h){o(h)}}function l(c){try{u(i.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):function r(s){return s instanceof n?s:new n(function(o){o(s)})}(c.value).then(a,l)}u((i=i.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=EE(e);!(i=yield n.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function es(e,t,n,i=0,r=!1){const s=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(s),!r)return s}function Hn(e,t,n=1/0){return Ht(t)?Hn((i,r)=>Ge((s,o)=>t(i,s,r,o))(ki(e(i,r))),n):("number"==typeof t&&(n=t),_n((i,r)=>function VE(e,t,n,i,r,s,o,a){const l=[];let u=0,c=0,h=!1;const d=()=>{h&&!l.length&&!u&&t.complete()},f=m=>u<i?p(m):l.push(m),p=m=>{s&&t.next(m),u++;let g=!1;ki(n(m,c++)).subscribe(fn(t,_=>{r?.(_),s?f(_):t.next(_)},()=>{g=!0},void 0,()=>{if(g)try{for(u--;l.length&&u<i;){const _=l.shift();o?es(t,o,()=>p(_)):p(_)}d()}catch(_){t.error(_)}}))};return e.subscribe(fn(t,f,()=>{h=!0,d()})),()=>{a?.()}}(i,r,e,n)))}function ta(e=1/0){return Hn(so,e)}const Ar=new dn(e=>e.complete());function Af(e){return e[e.length-1]}function r_(e){return Ht(Af(e))?e.pop():void 0}function yl(e){return function zE(e){return e&&Ht(e.schedule)}(Af(e))?e.pop():void 0}function s_(e,t=0){return _n((n,i)=>{n.subscribe(fn(i,r=>es(i,e,()=>i.next(r),t),()=>es(i,e,()=>i.complete(),t),r=>es(i,e,()=>i.error(r),t)))})}function o_(e,t=0){return _n((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function a_(e,t){if(!e)throw new Error("Iterable cannot be null");return new dn(n=>{es(n,t,()=>{const i=e[Symbol.asyncIterator]();es(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function bn(e,t){return t?function qE(e,t){if(null!=e){if(Qy(e))return function UE(e,t){return ki(e).pipe(o_(t),s_(t))}(e,t);if(Ky(e))return function $E(e,t){return new dn(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}(e,t);if(Xy(e))return function jE(e,t){return ki(e).pipe(o_(t),s_(t))}(e,t);if(Yy(e))return a_(e,t);if(e_(e))return function WE(e,t){return new dn(n=>{let i;return es(n,t,()=>{i=e[Jy](),es(n,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void n.error(o)}s?n.complete():n.next(r)},0,!0)}),()=>Ht(i?.return)&&i.return()})}(e,t);if(n_(e))return function GE(e,t){return a_(t_(e),t)}(e,t)}throw Zy(e)}(e,t):ki(e)}function l_(e={}){const{connector:t=(()=>new cr),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return s=>{let o,a,l,u=0,c=!1,h=!1;const d=()=>{a?.unsubscribe(),a=void 0},f=()=>{d(),o=l=void 0,c=h=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return _n((m,g)=>{u++,!h&&!c&&d();const _=l=l??t();g.add(()=>{u--,0===u&&!h&&!c&&(a=xf(p,r))}),_.subscribe(g),!o&&u>0&&(o=new vl({next:b=>_.next(b),error:b=>{h=!0,d(),a=xf(f,n,b),_.error(b)},complete:()=>{c=!0,d(),a=xf(f,i),_.complete()}}),ki(m).subscribe(o))})(s)}}function xf(e,t,...n){if(!0===t)return void e();if(!1===t)return;const i=new vl({next:()=>{i.unsubscribe(),e()}});return ki(t(...n)).subscribe(i)}function Nt(e){for(let t in e)if(e[t]===Nt)return t;throw Error("Could not find renamed property on target object.")}function Pf(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ut(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ut).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Of(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const XE=Nt({__forward_ref__:Nt});function Ft(e){return e.__forward_ref__=Ft,e.toString=function(){return Ut(this())},e}function He(e){return Rf(e)?e():e}function Rf(e){return"function"==typeof e&&e.hasOwnProperty(XE)&&e.__forward_ref__===Ft}function Ff(e){return e&&!!e.\u0275providers}const fc="https://g.co/ng/security#xss";class Y extends Error{constructor(t,n){super(function pc(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function Ke(e){return"string"==typeof e?e:null==e?"":String(e)}function mc(e,t){throw new Y(-201,!1)}function Xi(e,t){null==e&&function kt(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function Ae(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function wn(e){return{providers:e.providers||[],imports:e.imports||[]}}function gc(e){return u_(e,vc)||u_(e,h_)}function u_(e,t){return e.hasOwnProperty(t)?e[t]:null}function c_(e){return e&&(e.hasOwnProperty(Lf)||e.hasOwnProperty(rA))?e[Lf]:null}const vc=Nt({\u0275prov:Nt}),Lf=Nt({\u0275inj:Nt}),h_=Nt({ngInjectableDef:Nt}),rA=Nt({ngInjectorDef:Nt});var Ue=(()=>((Ue=Ue||{})[Ue.Default=0]="Default",Ue[Ue.Host=1]="Host",Ue[Ue.Self=2]="Self",Ue[Ue.SkipSelf=4]="SkipSelf",Ue[Ue.Optional=8]="Optional",Ue))();let Nf;function Qi(e){const t=Nf;return Nf=e,t}function d_(e,t,n){const i=gc(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&Ue.Optional?null:void 0!==t?t:void mc(Ut(e))}const jt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),_l={},Vf="__NG_DI_FLAG__",yc="ngTempTokenPath",aA=/\n/gm,f_="__source";let bl;function na(e){const t=bl;return bl=e,t}function uA(e,t=Ue.Default){if(void 0===bl)throw new Y(-203,!1);return null===bl?d_(e,void 0,t):bl.get(e,t&Ue.Optional?null:void 0,t)}function ge(e,t=Ue.Default){return(function sA(){return Nf}()||uA)(He(e),t)}function ut(e,t=Ue.Default){return ge(e,_c(t))}function _c(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Bf(e){const t=[];for(let n=0;n<e.length;n++){const i=He(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Y(900,!1);let r,s=Ue.Default;for(let o=0;o<i.length;o++){const a=i[o],l=cA(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}t.push(ge(r,s))}else t.push(ge(i))}return t}function wl(e,t){return e[Vf]=t,e.prototype[Vf]=t,e}function cA(e){return e[Vf]}function Es(e){return{toString:e}.toString()}var hr=(()=>((hr=hr||{})[hr.OnPush=0]="OnPush",hr[hr.Default=1]="Default",hr))(),dr=(()=>{return(e=dr||(dr={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",dr;var e})();const ts={},St=[],bc=Nt({\u0275cmp:Nt}),zf=Nt({\u0275dir:Nt}),Hf=Nt({\u0275pipe:Nt}),m_=Nt({\u0275mod:Nt}),ns=Nt({\u0275fac:Nt}),Tl=Nt({__NG_ELEMENT_ID__:Nt});let fA=0;function Vt(e){return Es(()=>{const n=!0===e.standalone,i={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===hr.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||St,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||dr.Emulated,id:"c"+fA++,styles:e.styles||St,_:null,setInput:null,schemas:e.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=e.dependencies,o=e.features;return r.inputs=y_(e.inputs,i),r.outputs=y_(e.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(g_).filter(v_):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(ui).filter(v_):null,r})}function g_(e){return Et(e)||Jn(e)}function v_(e){return null!==e}function An(e){return Es(()=>({type:e.type,bootstrap:e.bootstrap||St,declarations:e.declarations||St,imports:e.imports||St,exports:e.exports||St,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function y_(e,t){if(null==e)return ts;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,t&&(t[r]=s)}return n}const xe=Vt;function Et(e){return e[bc]||null}function Jn(e){return e[zf]||null}function ui(e){return e[Hf]||null}function Ai(e,t){const n=e[m_]||null;if(!n&&!0===t)throw new Error(`Type ${Ut(e)} does not have '\u0275mod' property.`);return n}function xi(e){return Array.isArray(e)&&"object"==typeof e[1]}function pr(e){return Array.isArray(e)&&!0===e[1]}function $f(e){return 0!=(4&e.flags)}function Ml(e){return e.componentOffset>-1}function Dc(e){return 1==(1&e.flags)}function mr(e){return null!==e.template}function gA(e){return 0!=(256&e[2])}function lo(e,t){return e.hasOwnProperty(ns)?e[ns]:null}class _A{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function un(){return S_}function S_(e){return e.type.prototype.ngOnChanges&&(e.setInput=wA),bA}function bA(){const e=M_(this),t=e?.current;if(t){const n=e.previous;if(n===ts)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function wA(e,t,n,i){const r=this.declaredInputs[n],s=M_(e)||function TA(e,t){return e[D_]=t}(e,{previous:ts,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new _A(l&&l.currentValue,t,a===ts),e[i]=t}un.ngInherit=!0;const D_="__ngSimpleChanges__";function M_(e){return e[D_]||null}function Un(e){for(;Array.isArray(e);)e=e[0];return e}function Mc(e,t){return Un(t[e])}function Pi(e,t){return Un(t[e.index])}function E_(e,t){return e.data[t]}function Oi(e,t){const n=t[e];return xi(n)?n:n[0]}function Ic(e){return 64==(64&e[2])}function As(e,t){return null==t?null:e[t]}function A_(e){e[18]=0}function Gf(e,t){e[5]+=t;let n=e,i=e[3];for(;null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}const Xe={lFrame:z_(null),bindingsEnabled:!0};function P_(){return Xe.bindingsEnabled}function oe(){return Xe.lFrame.lView}function _t(){return Xe.lFrame.tView}function hi(e){return Xe.lFrame.contextLView=e,e[8]}function di(e){return Xe.lFrame.contextLView=null,e}function jn(){let e=O_();for(;null!==e&&64===e.type;)e=e.parent;return e}function O_(){return Xe.lFrame.currentTNode}function Pr(e,t){const n=Xe.lFrame;n.currentTNode=e,n.isParent=t}function qf(){return Xe.lFrame.isParent}function Kf(){Xe.lFrame.isParent=!1}function fi(){const e=Xe.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ua(){return Xe.lFrame.bindingIndex++}function FA(e,t){const n=Xe.lFrame;n.bindingIndex=n.bindingRootIndex=e,Xf(t)}function Xf(e){Xe.lFrame.currentDirectiveIndex=e}function N_(){return Xe.lFrame.currentQueryIndex}function Yf(e){Xe.lFrame.currentQueryIndex=e}function NA(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function V_(e,t,n){if(n&Ue.SkipSelf){let r=t,s=e;for(;!(r=r.parent,null!==r||n&Ue.Host||(r=NA(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;t=r,e=s}const i=Xe.lFrame=B_();return i.currentTNode=t,i.lView=e,!0}function Zf(e){const t=B_(),n=e[1];Xe.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function B_(){const e=Xe.lFrame,t=null===e?null:e.child;return null===t?z_(e):t}function z_(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function H_(){const e=Xe.lFrame;return Xe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const U_=H_;function Jf(){const e=H_();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function pi(){return Xe.lFrame.selectedIndex}function uo(e){Xe.lFrame.selectedIndex=e}function nn(){const e=Xe.lFrame;return E_(e.tView,e.selectedIndex)}function co(){Xe.lFrame.currentNamespace="svg"}function kc(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),l&&(e.viewHooks||(e.viewHooks=[])).push(-n,l),u&&((e.viewHooks||(e.viewHooks=[])).push(n,u),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,u)),null!=c&&(e.destroyHooks||(e.destroyHooks=[])).push(n,c)}}function Ec(e,t,n){j_(e,t,3,n)}function Ac(e,t,n,i){(3&e[2])===n&&j_(e,t,n,i)}function ep(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function j_(e,t,n,i){const s=i??-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&e[18]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(e[18]+=65536),(a<s||-1==s)&&(WA(e,n,t,l),e[18]=(4294901760&e[18])+l+2),l++}function WA(e,t,n,i){const r=n[i]<0,s=n[i+1],a=e[r?-n[i]:n[i]];if(r){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class kl{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function np(e,t,n){let i=0;for(;i<n.length;){const r=n[i];if("number"==typeof r){if(0!==r)break;i++;const s=n[i++],o=n[i++],a=n[i++];e.setAttribute(t,o,a,s)}else{const s=r,o=n[++i];W_(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),i++}}return i}function $_(e){return 3===e||4===e||6===e}function W_(e){return 64===e.charCodeAt(0)}function El(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||G_(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function G_(e,t,n,i,r){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===i)return void(null!==r&&(e[s+1]=r));if(i===e[s+1])return void(e[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==i&&e.splice(s++,0,i),null!==r&&e.splice(s++,0,r)}function q_(e){return-1!==e}function xc(e){return 32767&e}function Pc(e,t){let n=function XA(e){return e>>16}(e),i=t;for(;n>0;)i=i[15],n--;return i}let ip=!0;function Oc(e){const t=ip;return ip=e,t}let QA=0;const Or={};function Rc(e,t){const n=Q_(e,t);if(-1!==n)return n;const i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,rp(i.data,e),rp(t,null),rp(i.blueprint,null));const r=sp(e,t),s=e.injectorIndex;if(q_(r)){const o=xc(r),a=Pc(r,t),l=a[1].data;for(let u=0;u<8;u++)t[s+u]=a[o+u]|l[o+u]}return t[s+8]=r,s}function rp(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Q_(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function sp(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;null!==r;){if(i=ib(r),null===i)return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function op(e,t,n){!function YA(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Tl)&&(i=n[Tl]),null==i&&(i=n[Tl]=QA++);const r=255&i;t.data[e+(r>>5)]|=1<<r}(e,t,n)}function Y_(e,t,n){if(n&Ue.Optional||void 0!==e)return e;mc()}function Z_(e,t,n,i){if(n&Ue.Optional&&void 0===i&&(i=null),!(n&(Ue.Self|Ue.Host))){const r=e[9],s=Qi(void 0);try{return r?r.get(t,i,n&Ue.Optional):d_(t,i,n&Ue.Optional)}finally{Qi(s)}}return Y_(i,0,n)}function J_(e,t,n,i=Ue.Default,r){if(null!==e){if(1024&t[2]){const o=function nx(e,t,n,i,r){let s=e,o=t;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=eb(s,o,n,i|Ue.Self,Or);if(a!==Or)return a;let l=s.parent;if(!l){const u=o[21];if(u){const c=u.get(n,Or,i);if(c!==Or)return c}l=ib(o),o=o[15]}s=l}return r}(e,t,n,i,Or);if(o!==Or)return o}const s=eb(e,t,n,i,Or);if(s!==Or)return s}return Z_(t,n,i,r)}function eb(e,t,n,i,r){const s=function ex(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Tl)?e[Tl]:void 0;return"number"==typeof t?t>=0?255&t:tx:t}(n);if("function"==typeof s){if(!V_(t,e,i))return i&Ue.Host?Y_(r,0,i):Z_(t,n,i,r);try{const o=s(i);if(null!=o||i&Ue.Optional)return o;mc()}finally{U_()}}else if("number"==typeof s){let o=null,a=Q_(e,t),l=-1,u=i&Ue.Host?t[16][6]:null;for((-1===a||i&Ue.SkipSelf)&&(l=-1===a?sp(e,t):t[a+8],-1!==l&&nb(i,!1)?(o=t[1],a=xc(l),t=Pc(l,t)):a=-1);-1!==a;){const c=t[1];if(tb(s,a,c.data)){const h=JA(a,t,n,o,i,u);if(h!==Or)return h}l=t[a+8],-1!==l&&nb(i,t[1].data[a+8]===u)&&tb(s,a,t)?(o=c,a=xc(l),t=Pc(l,t)):a=-1}}return r}function JA(e,t,n,i,r,s){const o=t[1],a=o.data[e+8],c=Fc(a,o,n,null==i?Ml(a)&&ip:i!=o&&0!=(3&a.type),r&Ue.Host&&s===a);return null!==c?ho(t,o,c,a):Or}function Fc(e,t,n,i,r){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,c=s>>20,d=r?a+c:e.directiveEnd;for(let f=i?a:a+c;f<d;f++){const p=o[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(r){const f=o[l];if(f&&mr(f)&&f.type===n)return l}return null}function ho(e,t,n,i){let r=e[n];const s=t.data;if(function GA(e){return e instanceof kl}(r)){const o=r;o.resolving&&function QE(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Y(-200,`Circular dependency in DI detected for ${e}${n}`)}(function It(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ke(e)}(s[n]));const a=Oc(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Qi(o.injectImpl):null;V_(e,i,Ue.Default);try{r=e[n]=o.factory(void 0,s,e,i),t.firstCreatePass&&n>=i.directiveStart&&function $A(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=S_(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==l&&Qi(l),Oc(a),o.resolving=!1,U_()}}return r}function tb(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function nb(e,t){return!(e&Ue.Self||e&Ue.Host&&t)}class ha{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return J_(this._tNode,this._lView,t,_c(i),n)}}function tx(){return new ha(jn(),oe())}function ap(e){return Rf(e)?()=>{const t=ap(He(e));return t&&t()}:lo(e)}function ib(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}const fa="__parameters__";function ma(e,t,n){return Es(()=>{const i=function lp(e){return function(...n){if(e){const i=e(...n);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,u,c){const h=l.hasOwnProperty(fa)?l[fa]:Object.defineProperty(l,fa,{value:[]})[fa];for(;h.length<=c;)h.push(null);return(h[c]=h[c]||[]).push(o),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}class fe{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ae({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function fo(e,t){e.forEach(n=>Array.isArray(n)?fo(n,t):t(n))}function sb(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Lc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ol(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}function Ri(e,t,n){let i=ga(e,t);return i>=0?e[1|i]=n:(i=~i,function ox(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function cp(e,t){const n=ga(e,t);if(n>=0)return e[1|n]}function ga(e,t){return function ob(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){const s=i+(r-i>>1),o=e[s<<n];if(t===o)return s<<n;o>t?r=s:i=s+1}return~(r<<n)}(e,t,1)}const xs=wl(ma("Optional"),8),va=wl(ma("SkipSelf"),4);var Ti=(()=>((Ti=Ti||{})[Ti.Important=1]="Important",Ti[Ti.DashCase=2]="DashCase",Ti))();const gp=new Map;let kx=0;const yp="__ngContext__";function ni(e,t){xi(t)?(e[yp]=t[20],function Ax(e){gp.set(e[20],e)}(t)):e[yp]=t}function bp(e,t){return undefined(e,t)}function Nl(e){const t=e[3];return pr(t)?t[3]:t}function wp(e){return Mb(e[13])}function Tp(e){return Mb(e[4])}function Mb(e){for(;null!==e&&!pr(e);)e=e[4];return e}function _a(e,t,n,i,r){if(null!=i){let s,o=!1;pr(i)?s=i:xi(i)&&(o=!0,i=i[0]);const a=Un(i);0===e&&null!==n?null==r?Pb(t,n,a):po(t,n,a,r||null,!0):1===e&&null!==n?po(t,n,a,r||null,!0):2===e?function Ep(e,t,n){const i=zc(e,t);i&&function Qx(e,t,n,i){e.removeChild(t,n,i)}(e,i,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function Jx(e,t,n,i,r){const s=n[7];s!==Un(n)&&_a(t,e,i,s,r);for(let a=10;a<n.length;a++){const l=n[a];Vl(l[1],l,e,t,i,s)}}(t,e,s,n,r)}}function Sp(e,t,n){return e.createElement(t,n)}function kb(e,t){const n=e[9],i=n.indexOf(t),r=t[3];512&t[2]&&(t[2]&=-513,Gf(r,-1)),n.splice(i,1)}function Dp(e,t){if(e.length<=10)return;const n=10+t,i=e[n];if(i){const r=i[17];null!==r&&r!==e&&kb(r,i),t>0&&(e[n-1][4]=i[4]);const s=Lc(e,10+t);!function Ux(e,t){Vl(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function Eb(e,t){if(!(128&t[2])){const n=t[11];n.destroyNode&&Vl(e,t,n,3,null,null),function Wx(e){let t=e[13];if(!t)return Mp(e[1],e);for(;t;){let n=null;if(xi(t))n=t[13];else{const i=t[10];i&&(n=i)}if(!n){for(;t&&!t[4]&&t!==e;)xi(t)&&Mp(t[1],t),t=t[3];null===t&&(t=e),xi(t)&&Mp(t[1],t),n=t&&t[4]}t=n}}(t)}}function Mp(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function Xx(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const r=t[n[i]];if(!(r instanceof kl)){const s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(r)}finally{}}}}(e,t),function Kx(e,t){const n=e.cleanup,i=t[7];let r=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?i[r=o]():i[r=-o].unsubscribe(),s+=2}else{const o=i[r=n[s+1]];n[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();t[7]=null}}(e,t),1===t[1].type&&t[11].destroy();const n=t[17];if(null!==n&&pr(t[3])){n!==t[3]&&kb(n,t);const i=t[19];null!==i&&i.detachView(e)}!function xx(e){gp.delete(e[20])}(t)}}function Ab(e,t,n){return function xb(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[0];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=e.data[i.directiveStart+r];if(s===dr.None||s===dr.Emulated)return null}return Pi(i,n)}}(e,t.parent,n)}function po(e,t,n,i,r){e.insertBefore(t,n,i,r)}function Pb(e,t,n){e.appendChild(t,n)}function Ob(e,t,n,i,r){null!==i?po(e,t,n,i,r):Pb(e,t,n)}function zc(e,t){return e.parentNode(t)}function Rb(e,t,n){return Lb(e,t,n)}let jc,Pp,Lb=function Fb(e,t,n){return 40&e.type?Pi(e,n):null};function Hc(e,t,n,i){const r=Ab(e,i,t),s=t[11],a=Rb(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(n))for(let l=0;l<n.length;l++)Ob(s,r,n[l],a,!1);else Ob(s,r,n,a,!1)}function Uc(e,t){if(null!==t){const n=t.type;if(3&n)return Pi(t,e);if(4&n)return kp(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return Uc(e,i);{const r=e[t.index];return pr(r)?kp(-1,r):Un(r)}}if(32&n)return bp(t,e)()||Un(e[t.index]);{const i=Vb(e,t);return null!==i?Array.isArray(i)?i[0]:Uc(Nl(e[16]),i):Uc(e,t.next)}}return null}function Vb(e,t){return null!==t?e[16][6].projection[t.projection]:null}function kp(e,t){const n=10+e+1;if(n<t.length){const i=t[n],r=i[1].firstChild;if(null!==r)return Uc(i,r)}return t[7]}function Ap(e,t,n,i,r,s,o){for(;null!=n;){const a=i[n.index],l=n.type;if(o&&0===t&&(a&&ni(Un(a),i),n.flags|=2),32!=(32&n.flags))if(8&l)Ap(e,t,n.child,i,r,s,!1),_a(t,e,r,a,s);else if(32&l){const u=bp(n,i);let c;for(;c=u();)_a(t,e,r,c,s);_a(t,e,r,a,s)}else 16&l?Bb(e,t,i,n,r,s):_a(t,e,r,a,s);n=o?n.projectionNext:n.next}}function Vl(e,t,n,i,r,s){Ap(n,i,e.firstChild,t,r,s,!1)}function Bb(e,t,n,i,r,s){const o=n[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)_a(t,e,r,l[u],s);else Ap(e,t,l,o[3],r,s,!0)}function zb(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Hb(e,t,n){const{mergedAttrs:i,classes:r,styles:s}=n;null!==i&&np(e,t,i),null!==r&&zb(e,t,r),null!==s&&function tP(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}function mo(e){return function xp(){if(void 0===jc&&(jc=null,jt.trustedTypes))try{jc=jt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return jc}()?.createHTML(e)||e}class go{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fc})`}}class oP extends go{getTypeName(){return"HTML"}}class aP extends go{getTypeName(){return"Style"}}class lP extends go{getTypeName(){return"Script"}}class uP extends go{getTypeName(){return"URL"}}class cP extends go{getTypeName(){return"ResourceURL"}}function Fi(e){return e instanceof go?e.changingThisBreaksApplicationSecurity:e}function Rr(e,t){const n=function hP(e){return e instanceof go&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${fc})`)}return n===t}class vP{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(mo(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class yP{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const i=this.inertDocument.createElement("body");n.appendChild(i)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=mo(t),n;const i=this.inertDocument.createElement("body");return i.innerHTML=mo(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const n=t.attributes;for(let r=n.length-1;0<r;r--){const o=n.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&t.removeAttribute(o)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const bP=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Wc(e){return(e=String(e)).match(bP)?e:"unsafe:"+e}function os(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Bl(...e){const t={};for(const n of e)for(const i in n)n.hasOwnProperty(i)&&(t[i]=!0);return t}const qb=os("area,br,col,hr,img,wbr"),Kb=os("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xb=os("rp,rt"),Rp=Bl(qb,Bl(Kb,os("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bl(Xb,os("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bl(Xb,Kb)),Fp=os("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qb=Bl(Fp,os("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),os("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wP=os("script,style,template");class TP{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,i=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let r=this.checkClobberedElement(n,n.nextSibling);if(r){n=r;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!Rp.hasOwnProperty(n))return this.sanitizedSomething=!0,!wP.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!Qb.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Fp[a]&&(l=Wc(l)),this.buf.push(" ",o,'="',Yb(l),'"')}return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();Rp.hasOwnProperty(n)&&!qb.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Yb(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const CP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,SP=/([^\#-~ |!])/g;function Yb(e){return e.replace(/&/g,"&amp;").replace(CP,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(SP,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gc;function Zb(e,t){let n=null;try{Gc=Gc||function Gb(e){const t=new yP(e);return function _P(){try{return!!(new window.DOMParser).parseFromString(mo(""),"text/html")}catch{return!1}}()?new vP(t):t}(e);let i=t?String(t):"";n=Gc.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=Gc.getInertBodyElement(i)}while(i!==s);return mo((new TP).sanitizeChildren(Lp(n)||n))}finally{if(n){const i=Lp(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Lp(e){return"content"in e&&function DP(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Dt=(()=>((Dt=Dt||{})[Dt.NONE=0]="NONE",Dt[Dt.HTML=1]="HTML",Dt[Dt.STYLE=2]="STYLE",Dt[Dt.SCRIPT=3]="SCRIPT",Dt[Dt.URL=4]="URL",Dt[Dt.RESOURCE_URL=5]="RESOURCE_URL",Dt))();function Np(e){const t=function zl(){const e=oe();return e&&e[12]}();return t?t.sanitize(Dt.URL,e)||"":Rr(e,"URL")?Fi(e):Wc(Ke(e))}const qc=new fe("ENVIRONMENT_INITIALIZER"),tw=new fe("INJECTOR",-1),nw=new fe("INJECTOR_DEF_TYPES");class iw{get(t,n=_l){if(n===_l){const i=new Error(`NullInjectorError: No provider for ${Ut(t)}!`);throw i.name="NullInjectorError",i}return n}}function PP(...e){return{\u0275providers:rw(0,e),\u0275fromNgModule:!0}}function rw(e,...t){const n=[],i=new Set;let r;return fo(t,s=>{const o=s;Vp(o,n,[],i)&&(r||(r=[]),r.push(o))}),void 0!==r&&sw(r,n),n}function sw(e,t){for(let n=0;n<e.length;n++){const{providers:r}=e[n];Bp(r,s=>{t.push(s)})}}function Vp(e,t,n,i){if(!(e=He(e)))return!1;let r=null,s=c_(e);const o=!s&&Et(e);if(s||o){if(o&&!o.standalone)return!1;r=e}else{const l=e.ngModule;if(s=c_(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)Vp(u,t,n,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;i.add(r);try{fo(s.imports,c=>{Vp(c,t,n,i)&&(u||(u=[]),u.push(c))})}finally{}void 0!==u&&sw(u,t)}if(!a){const u=lo(r)||(()=>new r);t.push({provide:r,useFactory:u,deps:St},{provide:nw,useValue:r,multi:!0},{provide:qc,useValue:()=>ge(r),multi:!0})}const l=s.providers;null==l||a||Bp(l,c=>{t.push(c)})}}return r!==e&&void 0!==e.providers}function Bp(e,t){for(let n of e)Ff(n)&&(n=n.\u0275providers),Array.isArray(n)?Bp(n,t):t(n)}const OP=Nt({provide:String,useValue:Nt});function zp(e){return null!==e&&"object"==typeof e&&OP in e}function vo(e){return"function"==typeof e}const Hp=new fe("Set Injector scope."),Kc={},FP={};let Up;function Xc(){return void 0===Up&&(Up=new iw),Up}class as{}class lw extends as{get destroyed(){return this._destroyed}constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$p(t,o=>this.processProvider(o)),this.records.set(tw,ba(void 0,this)),r.has("environment")&&this.records.set(as,ba(void 0,this));const s=this.records.get(Hp);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(nw.multi,St,Ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=na(this),i=Qi(void 0);try{return t()}finally{na(n),Qi(i)}}get(t,n=_l,i=Ue.Default){this.assertNotDestroyed(),i=_c(i);const r=na(this),s=Qi(void 0);try{if(!(i&Ue.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function zP(e){return"function"==typeof e||"object"==typeof e&&e instanceof fe}(t)&&gc(t);a=l&&this.injectableDefInScope(l)?ba(jp(t),Kc):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&Ue.Self?Xc():this.parent).get(t,n=i&Ue.Optional&&n===_l?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[yc]=o[yc]||[]).unshift(Ut(t)),r)throw o;return function hA(e,t,n,i){const r=e[yc];throw t[f_]&&r.unshift(t[f_]),e.message=function dA(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=Ut(t);if(Array.isArray(t))r=t.map(Ut).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ut(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(aA,"\n  ")}`}("\n"+e.message,r,n,i),e.ngTokenPath=r,e[yc]=null,e}(o,t,"R3InjectorError",this.source)}throw o}finally{Qi(s),na(r)}}resolveInjectorInitializers(){const t=na(this),n=Qi(void 0);try{const i=this.get(qc.multi,St,Ue.Self);for(const r of i)r()}finally{na(t),Qi(n)}}toString(){const t=[],n=this.records;for(const i of n.keys())t.push(Ut(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Y(205,!1)}processProvider(t){let n=vo(t=He(t))?t:He(t&&t.provide);const i=function NP(e){return zp(e)?ba(void 0,e.useValue):ba(function uw(e,t,n){let i;if(vo(e)){const r=He(e);return lo(r)||jp(r)}if(zp(e))i=()=>He(e.useValue);else if(function aw(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...Bf(e.deps||[]));else if(function ow(e){return!(!e||!e.useExisting)}(e))i=()=>ge(He(e.useExisting));else{const r=He(e&&(e.useClass||e.provide));if(!function VP(e){return!!e.deps}(e))return lo(r)||jp(r);i=()=>new r(...Bf(e.deps))}return i}(e),Kc)}(t);if(vo(t)||!0!==t.multi)this.records.get(n);else{let r=this.records.get(n);r||(r=ba(void 0,Kc,!0),r.factory=()=>Bf(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){return n.value===Kc&&(n.value=FP,n.value=n.factory()),"object"==typeof n.value&&n.value&&function BP(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=He(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function jp(e){const t=gc(e),n=null!==t?t.factory:lo(e);if(null!==n)return n;if(e instanceof fe)throw new Y(204,!1);if(e instanceof Function)return function LP(e){const t=e.length;if(t>0)throw Ol(t,"?"),new Y(204,!1);const n=function nA(e){const t=e&&(e[vc]||e[h_]);if(t){const n=function iA(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Y(204,!1)}function ba(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function $p(e,t){for(const n of e)Array.isArray(n)?$p(n,t):n&&Ff(n)?$p(n.\u0275providers,t):t(n)}class HP{}class cw{}class jP{resolveComponentFactory(t){throw function UP(e){const t=Error(`No component factory found for ${Ut(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Hl=(()=>{class e{}return e.NULL=new jP,e})();function $P(){return wa(jn(),oe())}function wa(e,t){return new Tn(Pi(e,t))}let Tn=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=$P,e})();function WP(e){return e instanceof Tn?e.nativeElement:e}class Ul{}let ls=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function GP(){const e=oe(),n=Oi(jn().index,e);return(xi(n)?n:e)[11]}(),e})(),qP=(()=>{class e{}return e.\u0275prov=Ae({token:e,providedIn:"root",factory:()=>null}),e})();class yo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const KP=new yo("15.1.5"),Wp={};function qp(e){return e.ngOriginalError}class us{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&qp(t);for(;n&&qp(n);)n=qp(n);return n||null}}function cs(e){return e instanceof Function?e():e}function fw(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||e.charCodeAt(r+s)<=32)return r}n=r+1}}const pw="ng-template";function sO(e,t,n){let i=0;for(;i<e.length;){let r=e[i++];if(n&&"class"===r){if(r=e[i],-1!==fw(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function mw(e){return 4===e.type&&e.value!==pw}function oO(e,t,n){return t===(4!==e.type||n?e.value:pw)}function aO(e,t,n){let i=4;const r=e.attrs||[],s=function cO(e){for(let t=0;t<e.length;t++)if($_(e[t]))return t;return e.length}(r);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!oO(e,l,n)||""===l&&1===t.length){if(gr(i))return!1;o=!0}}else{const u=8&i?l:t[++a];if(8&i&&null!==e.attrs){if(!sO(e.attrs,u,n)){if(gr(i))return!1;o=!0}continue}const h=lO(8&i?"class":l,r,mw(e),n);if(-1===h){if(gr(i))return!1;o=!0;continue}if(""!==u){let d;d=h>s?"":r[h+1].toLowerCase();const f=8&i?d:null;if(f&&-1!==fw(f,u,0)||2&i&&u!==d){if(gr(i))return!1;o=!0}}}}else{if(!o&&!gr(i)&&!gr(l))return!1;if(o&&gr(l))continue;o=!1,i=l|1&i}}return gr(i)||o}function gr(e){return 0==(1&e)}function lO(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let s=!1;for(;r<t.length;){const o=t[r];if(o===e)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function hO(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function gw(e,t,n=!1){for(let i=0;i<t.length;i++)if(aO(e,t[i],n))return!0;return!1}function dO(e,t){e:for(let n=0;n<t.length;n++){const i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function vw(e,t){return e?":not("+t.trim()+")":t}function fO(e){let t=e[0],n=1,i=2,r="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&i){const a=e[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!gr(o)&&(t+=vw(s,r),r=""),i=o,s=s||!gr(i);n++}return""!==r&&(t+=vw(s,r)),t}const Qe={};function q(e){yw(_t(),oe(),pi()+e,!1)}function yw(e,t,n,i){if(!i)if(3==(3&t[2])){const s=e.preOrderCheckHooks;null!==s&&Ec(t,s,n)}else{const s=e.preOrderHooks;null!==s&&Ac(t,s,0,n)}uo(n)}function Tw(e,t=null,n=null,i){const r=Cw(e,t,n,i);return r.resolveInjectorInitializers(),r}function Cw(e,t=null,n=null,i,r=new Set){const s=[n||St,PP(e)];return i=i||("object"==typeof e?void 0:Ut(e)),new lw(s,t||Xc(),i||null,r)}let Ji=(()=>{class e{static create(n,i){if(Array.isArray(n))return Tw({name:""},i,n,"");{const r=n.name??"";return Tw({name:r},n.parent,n.providers,r)}}}return e.THROW_IF_NOT_FOUND=_l,e.NULL=new iw,e.\u0275prov=Ae({token:e,providedIn:"any",factory:()=>ge(tw)}),e.__NG_ELEMENT_ID__=-1,e})();function ne(e,t=Ue.Default){const n=oe();return null===n?ge(e,t):J_(jn(),n,He(e),t)}function xw(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const o=e.data[s];Yf(n[i]),o.contentQueries(2,t[s],s)}}}function Yc(e,t,n,i,r,s,o,a,l,u,c){const h=t.blueprint.slice();return h[0]=r,h[2]=76|i,(null!==c||e&&1024&e[2])&&(h[2]|=1024),A_(h),h[3]=h[15]=e,h[8]=n,h[10]=o||e&&e[10],h[11]=a||e&&e[11],h[12]=l||e&&e[12]||null,h[9]=u||e&&e[9]||null,h[6]=s,h[20]=function Ex(){return kx++}(),h[21]=c,h[16]=2==t.type?e[16]:h,h}function Sa(e,t,n,i,r){let s=e.data[t];if(null===s)s=function Zp(e,t,n,i,r){const s=O_(),o=qf(),l=e.data[t]=function BO(e,t,n,i,r,s){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(e,t,n,i,r),function RA(){return Xe.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const o=function Il(){const e=Xe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Pr(s,!0),s}function jl(e,t,n,i){if(0===n)return-1;const r=t.length;for(let s=0;s<n;s++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function Jp(e,t,n){Zf(t);try{const i=e.viewQuery;null!==i&&um(1,i,n);const r=e.template;null!==r&&Pw(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&xw(e,t),e.staticViewQueries&&um(2,e.viewQuery,n);const s=e.components;null!==s&&function LO(e,t){for(let n=0;n<t.length;n++)rR(e,t[n])}(t,s)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[2]&=-5,Jf()}}function Zc(e,t,n,i){const r=t[2];if(128!=(128&r)){Zf(t);try{A_(t),function F_(e){return Xe.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Pw(e,t,n,2,i);const o=3==(3&r);if(o){const u=e.preOrderCheckHooks;null!==u&&Ec(t,u,null)}else{const u=e.preOrderHooks;null!==u&&Ac(t,u,0,null),ep(t,0)}if(function nR(e){for(let t=wp(e);null!==t;t=Tp(t)){if(!t[2])continue;const n=t[9];for(let i=0;i<n.length;i++){const r=n[i];512&r[2]||Gf(r[3],1),r[2]|=512}}}(t),function tR(e){for(let t=wp(e);null!==t;t=Tp(t))for(let n=10;n<t.length;n++){const i=t[n],r=i[1];Ic(i)&&Zc(r,i,r.template,i[8])}}(t),null!==e.contentQueries&&xw(e,t),o){const u=e.contentCheckHooks;null!==u&&Ec(t,u)}else{const u=e.contentHooks;null!==u&&Ac(t,u,1),ep(t,1)}!function RO(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const r=n[i];if(r<0)uo(~r);else{const s=r,o=n[++i],a=n[++i];FA(o,s),a(2,t[s])}}}finally{uo(-1)}}(e,t);const a=e.components;null!==a&&function FO(e,t){for(let n=0;n<t.length;n++)iR(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&um(2,l,i),o){const u=e.viewCheckHooks;null!==u&&Ec(t,u)}else{const u=e.viewHooks;null!==u&&Ac(t,u,2),ep(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,Gf(t[3],-1))}finally{Jf()}}}function Pw(e,t,n,i,r){const s=pi(),o=2&i;try{uo(-1),o&&t.length>22&&yw(e,t,22,!1),n(i,r)}finally{uo(s)}}function em(e,t,n){if($f(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const o=e.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function tm(e,t,n){P_()&&(function WO(e,t,n,i){const r=n.directiveStart,s=n.directiveEnd;Ml(n)&&function ZO(e,t,n){const i=Pi(t,e),r=Ow(n),s=e[10],o=Jc(e,Yc(e,r,null,n.onPush?32:16,i,t,s,s.createRenderer(i,n),null,null,null));e[t.index]=o}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Rc(n,t),ni(i,t);const o=n.initialInputs;for(let a=r;a<s;a++){const l=e.data[a],u=ho(t,e,a,n);ni(u,t),null!==o&&JO(0,a-r,u,l,0,o),mr(l)&&(Oi(n.index,t)[8]=ho(t,e,a,n))}}(e,t,n,Pi(n,t)),64==(64&n.flags)&&Bw(e,t,n))}function nm(e,t,n=Pi){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(t,e):e[o];e[r++]=a}}}function Ow(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=im(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function im(e,t,n,i,r,s,o,a,l,u){const c=22+i,h=c+r,d=function NO(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:Qe);return n}(c,h),f="function"==typeof u?u():u;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function Rw(e,t,n,i){const r=Hw(t);null===n?r.push(i):(r.push(n),e.firstCreatePass&&Uw(e).push(i,r.length-1))}function Fw(e,t,n,i){for(let r in e)if(e.hasOwnProperty(r)){n=null===n?{}:n;const s=e[r];null===i?Lw(n,t,r,s):i.hasOwnProperty(r)&&Lw(n,t,i[r],s)}return n}function Lw(e,t,n,i){e.hasOwnProperty(n)?e[n].push(t,i):e[n]=[t,i]}function Nw(e,t){const n=Oi(t,e);16&n[2]||(n[2]|=32)}function rm(e,t,n,i){let r=!1;if(P_()){const s=null===i?null:{"":-1},o=function qO(e,t){const n=e.directiveRegistry;let i=null,r=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(gw(t,o.selectors,!1))if(i||(i=[]),mr(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),sm(e,t,a.length)}else i.unshift(o),sm(e,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(e,n);let a,l;null===o?a=l=null:[a,l]=o,null!==a&&(r=!0,Vw(e,t,n,a,s,l)),s&&function KO(e,t,n){if(t){const i=e.localNames=[];for(let r=0;r<t.length;r+=2){const s=n[t[r+1]];if(null==s)throw new Y(-301,!1);i.push(t[r],s)}}}(n,i,s)}return n.mergedAttrs=El(n.mergedAttrs,n.attrs),r}function Vw(e,t,n,i,r,s){for(let u=0;u<i.length;u++)op(Rc(n,t),e,i[u].type);!function QO(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,i.length);for(let u=0;u<i.length;u++){const c=i[u];c.providersResolver&&c.providersResolver(c)}let o=!1,a=!1,l=jl(e,t,i.length,null);for(let u=0;u<i.length;u++){const c=i[u];n.mergedAttrs=El(n.mergedAttrs,c.hostAttrs),YO(e,n,t,l,c),XO(l,c,r),null!==c.contentQueries&&(n.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=64);const h=c.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function zO(e,t,n){const r=t.directiveEnd,s=e.data,o=t.attrs,a=[];let l=null,u=null;for(let c=t.directiveStart;c<r;c++){const h=s[c],d=n?n.get(h):null,p=d?d.outputs:null;l=Fw(h.inputs,c,l,d?d.inputs:null),u=Fw(h.outputs,c,u,p);const m=null===l||null===o||mw(t)?null:eR(l,c,o);a.push(m)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=u}(e,n,s)}function Bw(e,t,n){const i=n.directiveStart,r=n.directiveEnd,s=n.index,o=function LA(){return Xe.lFrame.currentDirectiveIndex}();try{uo(s);for(let a=i;a<r;a++){const l=e.data[a],u=t[a];Xf(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&GO(l,u)}}finally{uo(-1),Xf(o)}}function GO(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function sm(e,t,n){t.componentOffset=n,(e.components||(e.components=[])).push(t.index)}function XO(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;mr(t)&&(n[""]=e)}}function YO(e,t,n,i,r){e.data[i]=r;const s=r.factory||(r.factory=lo(r.type)),o=new kl(s,mr(r),ne);e.blueprint[i]=o,n[i]=o,function jO(e,t,n,i,r){const s=r.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~t.index;(function $O(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,i,s)}}(e,t,i,jl(e,n,r.hostVars,Qe),r)}function Fr(e,t,n,i,r,s){const o=Pi(e,t);!function om(e,t,n,i,r,s,o){if(null==s)e.removeAttribute(t,r,n);else{const a=null==o?Ke(s):o(s,i||"",r);e.setAttribute(t,r,a,n)}}(t[11],o,s,e.value,n,i,r)}function JO(e,t,n,i,r,s){const o=s[t];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const u=o[l++],c=o[l++],h=o[l++];null!==a?i.setInput(n,h,u,c):n[c]=h}}}function eR(e,t,n){let i=null,r=0;for(;r<n.length;){const s=n[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===i&&(i=[]);const o=e[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){i.push(s,o[a+1],n[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function zw(e,t,n,i){return[e,!0,!1,t,null,0,i,n,null,null]}function iR(e,t){const n=Oi(t,e);if(Ic(n)){const i=n[1];48&n[2]?Zc(i,n,i.template,n[8]):n[5]>0&&am(n)}}function am(e){for(let i=wp(e);null!==i;i=Tp(i))for(let r=10;r<i.length;r++){const s=i[r];if(Ic(s))if(512&s[2]){const o=s[1];Zc(o,s,o.template,s[8])}else s[5]>0&&am(s)}const n=e[1].components;if(null!==n)for(let i=0;i<n.length;i++){const r=Oi(n[i],e);Ic(r)&&r[5]>0&&am(r)}}function rR(e,t){const n=Oi(t,e),i=n[1];(function sR(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(i,n),Jp(i,n,n[8])}function Jc(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function lm(e){for(;e;){e[2]|=32;const t=Nl(e);if(gA(e)&&!t)return e;e=t}return null}function eh(e,t,n,i=!0){const r=t[10];r.begin&&r.begin();try{Zc(e,t,e.template,n)}catch(o){throw i&&$w(t,o),o}finally{r.end&&r.end()}}function um(e,t,n){Yf(0),t(e,n)}function Hw(e){return e[7]||(e[7]=[])}function Uw(e){return e.cleanup||(e.cleanup=[])}function $w(e,t){const n=e[9],i=n?n.get(us,null):null;i&&i.handleError(t)}function cm(e,t,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=t[o],u=e.data[o];null!==u.setInput?u.setInput(l,r,i,a):l[a]=r}}function th(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=Of(r,a):2==s&&(i=Of(i,a+": "+t[++o]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function nh(e,t,n,i,r=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&i.push(Un(s)),pr(s))for(let a=10;a<s.length;a++){const l=s[a],u=l[1].firstChild;null!==u&&nh(l[1],l,u,i)}const o=n.type;if(8&o)nh(e,t,n.child,i);else if(32&o){const a=bp(n,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=Vb(t,n);if(Array.isArray(a))i.push(...a);else{const l=Nl(t[16]);nh(l[1],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}class $l{get rootNodes(){const t=this._lView,n=t[1];return nh(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pr(t)){const n=t[8],i=n?n.indexOf(this):-1;i>-1&&(Dp(t,i),Lc(n,i))}this._attachedToViewContainer=!1}Eb(this._lView[1],this._lView)}onDestroy(t){Rw(this._lView[1],this._lView,null,t)}markForCheck(){lm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){eh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $x(e,t){Vl(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Y(902,!1);this._appRef=t}}class oR extends $l{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;eh(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class Ww extends Hl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Et(t);return new Wl(n,this.ngModule)}}function Gw(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class lR{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=_c(i);const r=this.injector.get(t,Wp,i);return r!==Wp||n===Wp?r:this.parentInjector.get(t,n,i)}}class Wl extends cw{get inputs(){return Gw(this.componentDef.inputs)}get outputs(){return Gw(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function pO(e){return e.map(fO).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,r){let s=(r=r||this.ngModule)instanceof as?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new lR(t,s):t,a=o.get(Ul,null);if(null===a)throw new Y(407,!1);const l=o.get(qP,null),u=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",h=i?function VO(e,t,n){return e.selectRootElement(t,n===dr.ShadowDom)}(u,i,this.componentDef.encapsulation):Sp(u,c,function aR(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(c)),d=this.componentDef.onPush?288:272,f=im(0,null,null,1,0,null,null,null,null,null),p=Yc(null,f,null,d,null,null,a,u,l,o,null);let m,g;Zf(p);try{const _=this.componentDef;let b,y=null;_.findHostDirectiveDefs?(b=[],y=new Map,_.findHostDirectiveDefs(_,b,y),b.push(_)):b=[_];const v=function cR(e,t){const n=e[1];return e[22]=t,Sa(n,22,2,"#host",null)}(p,h),w=function hR(e,t,n,i,r,s,o,a){const l=r[1];!function dR(e,t,n,i){for(const r of e)t.mergedAttrs=El(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(th(t,t.mergedAttrs,!0),null!==n&&Hb(i,n,t))}(i,e,t,o);const u=s.createRenderer(t,n),c=Yc(r,Ow(n),null,n.onPush?32:16,r[e.index],e,s,u,a||null,null,null);return l.firstCreatePass&&sm(l,e,i.length-1),Jc(r,c),r[e.index]=c}(v,h,_,b,p,a,u);g=E_(f,22),h&&function pR(e,t,n,i){if(i)np(e,n,["ng-version",KP.full]);else{const{attrs:r,classes:s}=function mO(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let s=e[i];if("string"==typeof s)2===r?""!==s&&t.push(s,e[++i]):8===r&&n.push(s);else{if(!gr(r))break;r=s}i++}return{attrs:t,classes:n}}(t.selectors[0]);r&&np(e,n,r),s&&s.length>0&&zb(e,n,s.join(" "))}}(u,_,h,i),void 0!==n&&function mR(e,t,n){const i=e.projection=[];for(let r=0;r<t.length;r++){const s=n[r];i.push(null!=s?Array.from(s):null)}}(g,this.ngContentSelectors,n),m=function fR(e,t,n,i,r,s){const o=jn(),a=r[1],l=Pi(o,r);Vw(a,r,o,n,null,i);for(let c=0;c<n.length;c++)ni(ho(r,a,o.directiveStart+c,o),r);Bw(a,r,o),l&&ni(l,r);const u=ho(r,a,o.directiveStart+o.componentOffset,o);if(e[8]=r[8]=u,null!==s)for(const c of s)c(u,t);return em(a,o,e),u}(w,_,b,y,p,[gR]),Jp(f,p,null)}finally{Jf()}return new uR(this.componentType,m,wa(g,p),p,g)}}class uR extends HP{constructor(t,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new oR(r),this.componentType=t}setInput(t,n){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const s=this._rootLView;cm(s[1],s,r,t,n),Nw(s,this._tNode.index)}}get injector(){return new ha(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function gR(){const e=jn();kc(oe()[1],e)}function bt(e){let t=function qw(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const i=[e];for(;t;){let r;if(mr(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Y(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);const o=e;o.inputs=hm(e.inputs),o.declaredInputs=hm(e.declaredInputs),o.outputs=hm(e.outputs);const a=r.hostBindings;a&&bR(e,a);const l=r.viewQuery,u=r.contentQueries;if(l&&yR(e,l),u&&_R(e,u),Pf(e.inputs,r.inputs),Pf(e.declaredInputs,r.declaredInputs),Pf(e.outputs,r.outputs),mr(r)&&r.data.animation){const c=e.data;c.animation=(c.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(e),a===bt&&(n=!1)}}t=Object.getPrototypeOf(t)}!function vR(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=El(r.hostAttrs,n=El(n,r.hostAttrs))}}(i)}function hm(e){return e===ts?{}:e===St?[]:e}function yR(e,t){const n=e.viewQuery;e.viewQuery=n?(i,r)=>{t(i,r),n(i,r)}:t}function _R(e,t){const n=e.contentQueries;e.contentQueries=n?(i,r,s)=>{t(i,r,s),n(i,r,s)}:t}function bR(e,t){const n=e.hostBindings;e.hostBindings=n?(i,r)=>{t(i,r),n(i,r)}:t}let ih=null;function _o(){if(!ih){const e=jt.Symbol;if(e&&e.iterator)ih=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(ih=i)}}}return ih}function rh(e){return!!dm(e)&&(Array.isArray(e)||!(e instanceof Map)&&_o()in e)}function dm(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Lr(e,t,n){return e[t]=n}function ii(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function bo(e,t,n,i){const r=ii(e,t,n);return ii(e,t+1,i)||r}function Cn(e,t,n,i){const r=oe();return ii(r,ua(),t)&&(_t(),Fr(nn(),r,e,t,n,i)),Cn}function ce(e,t,n,i,r,s,o,a){const l=oe(),u=_t(),c=e+22,h=u.firstCreatePass?function AR(e,t,n,i,r,s,o,a,l){const u=t.consts,c=Sa(t,e,4,o||null,As(u,a));rm(t,n,c,As(u,l)),kc(t,c);const h=c.tViews=im(2,c,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,c),h.queries=t.queries.embeddedTView(c)),c}(c,u,l,t,n,i,r,s,o):u.data[c];Pr(h,!1);const d=l[11].createComment("");Hc(u,l,d,h),ni(d,l),Jc(l,l[c]=zw(d,l,d,h)),Dc(h)&&tm(u,l,h),null!=o&&nm(l,h,a)}function Sn(e){return function la(e,t){return e[t]}(function OA(){return Xe.lFrame.contextLView}(),22+e)}function j(e,t,n){const i=oe();return ii(i,ua(),t)&&function Li(e,t,n,i,r,s,o,a){const l=Pi(t,n);let c,u=t.inputs;!a&&null!=u&&(c=u[i])?(cm(e,n,c,i,r),Ml(t)&&Nw(n,t.index)):3&t.type&&(i=function HO(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(l,i,r))}(_t(),nn(),i,e,t,i[11],n,!1),j}function fm(e,t,n,i,r){const o=r?"class":"style";cm(e,n,t.inputs[o],o,i)}function le(e,t,n,i){const r=oe(),s=_t(),o=22+e,a=r[11],l=r[o]=Sp(a,t,function jA(){return Xe.lFrame.currentNamespace}()),u=s.firstCreatePass?function PR(e,t,n,i,r,s,o){const a=t.consts,u=Sa(t,e,2,r,As(a,s));return rm(t,n,u,As(a,o)),null!==u.attrs&&th(u,u.attrs,!1),null!==u.mergedAttrs&&th(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(o,s,r,0,t,n,i):s.data[o];return Pr(u,!0),Hb(a,l,u),32!=(32&u.flags)&&Hc(s,r,l,u),0===function kA(){return Xe.lFrame.elementDepthCount}()&&ni(l,r),function EA(){Xe.lFrame.elementDepthCount++}(),Dc(u)&&(tm(s,r,u),em(s,u,r)),null!==i&&nm(r,u),le}function pe(){let e=jn();qf()?Kf():(e=e.parent,Pr(e,!1));const t=e;!function AA(){Xe.lFrame.elementDepthCount--}();const n=_t();return n.firstCreatePass&&(kc(n,e),$f(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function qA(e){return 0!=(8&e.flags)}(t)&&fm(n,t,oe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function KA(e){return 0!=(16&e.flags)}(t)&&fm(n,t,oe(),t.stylesWithoutHost,!1),pe}function Ye(e,t,n,i){return le(e,t,n,i),pe(),Ye}function et(e,t,n){const i=oe(),r=_t(),s=e+22,o=r.firstCreatePass?function OR(e,t,n,i,r){const s=t.consts,o=As(s,i),a=Sa(t,e,8,"ng-container",o);return null!==o&&th(a,o,!0),rm(t,n,a,As(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,i,t,n):r.data[s];Pr(o,!0);const a=i[s]=i[11].createComment("");return Hc(r,i,a,o),ni(a,i),Dc(o)&&(tm(r,i,o),em(r,o,i)),null!=n&&nm(i,o),et}function tt(){let e=jn();const t=_t();return qf()?Kf():(e=e.parent,Pr(e,!1)),t.firstCreatePass&&(kc(t,e),$f(e)&&t.queries.elementEnd(e)),tt}function Pn(e,t,n){return et(e,t,n),tt(),Pn}function Ps(){return oe()}function ql(e){return!!e&&"function"==typeof e.then}const pm=function oT(e){return!!e&&"function"==typeof e.subscribe};function Ze(e,t,n,i){const r=oe(),s=_t(),o=jn();return function lT(e,t,n,i,r,s,o){const a=Dc(i),u=e.firstCreatePass&&Uw(e),c=t[8],h=Hw(t);let d=!0;if(3&i.type||o){const m=Pi(i,t),g=o?o(m):m,_=h.length,b=o?v=>o(Un(v[i.index])):i.index;let y=null;if(!o&&a&&(y=function RR(e,t,n,i){const r=e.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===n&&r[s+1]===i){const a=t[7],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(e,t,r,i.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=s,y.__ngLastListenerFn__=s,d=!1;else{s=cT(i,t,c,s,!1);const v=n.listen(g,r,s);h.push(s,v),u&&u.push(r,b,_,_+1)}}else s=cT(i,t,c,s,!1);const f=i.outputs;let p;if(d&&null!==f&&(p=f[r])){const m=p.length;if(m)for(let g=0;g<m;g+=2){const w=t[p[g]][p[g+1]].subscribe(s),S=h.length;h.push(s,w),u&&u.push(r,i.index,S,-(S+1))}}}(s,r,r[11],o,e,t,i),Ze}function uT(e,t,n,i){try{return!1!==n(i)}catch(r){return $w(e,r),!1}}function cT(e,t,n,i,r){return function s(o){if(o===Function)return i;lm(e.componentOffset>-1?Oi(e.index,t):t);let l=uT(t,0,i,o),u=s.__ngNextListenerFn__;for(;u;)l=uT(t,0,u,o)&&l,u=u.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Te(e=1){return function VA(e){return(Xe.lFrame.contextLView=function BA(e,t){for(;e>0;)t=t[15],e--;return t}(e,Xe.lFrame.contextLView))[8]}(e)}function FR(e,t){let n=null;const i=function uO(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?gw(e,s,!0):dO(i,s))return r}else n=r}return n}function Ra(e){const t=oe()[16][6];if(!t.projection){const i=t.projection=Ol(e?e.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const o=e?FR(s,e):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function Nr(e,t=0,n){const i=oe(),r=_t(),s=Sa(r,22+e,16,null,n||null);null===s.projection&&(s.projection=t),Kf(),32!=(32&s.flags)&&function Zx(e,t,n){Bb(t[11],0,t,n,Ab(e,n,t),Rb(n.parent||t[6],n,t))}(r,i,s)}function oh(e,t){return e<<17|t<<2}function Os(e){return e>>17&32767}function gm(e){return 2|e}function wo(e){return(131068&e)>>2}function vm(e,t){return-131069&e|t<<2}function ym(e){return 1|e}function bT(e,t,n,i,r){const s=e[n+1],o=null===t;let a=i?Os(s):wo(s),l=!1;for(;0!==a&&(!1===l||o);){const c=e[a+1];HR(e[a],t)&&(l=!0,e[a+1]=i?ym(c):gm(c)),a=i?Os(c):wo(c)}l&&(e[n+1]=i?gm(s):ym(s))}function HR(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ga(e,t)>=0}function To(e,t){return function vr(e,t,n,i){const r=oe(),s=_t(),o=function ss(e){const t=Xe.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);s.firstUpdatePass&&function ET(e,t,n,i){const r=e.data;if(null===r[n+1]){const s=r[pi()],o=function kT(e,t){return t>=e.expandoStartIndex}(e,n);(function OT(e,t){return 0!=(e.flags&(t?8:16))})(s,i)&&null===t&&!o&&(t=!1),t=function QR(e,t,n,i){const r=function Qf(e){const t=Xe.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=Kl(n=_m(null,e,t,n,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==r)if(n=_m(r,e,t,n,i),null===s){let l=function YR(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==wo(i))return e[Os(i)]}(e,t,i);void 0!==l&&Array.isArray(l)&&(l=_m(null,e,t,l[1],i),l=Kl(l,t.attrs,i),function ZR(e,t,n,i){e[Os(n?t.classBindings:t.styleBindings)]=i}(e,t,i,l))}else s=function JR(e,t,n){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Kl(i,e[s].hostAttrs,n);return Kl(i,t.attrs,n)}(e,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),n}(r,s,t,i),function BR(e,t,n,i,r,s){let o=s?t.classBindings:t.styleBindings,a=Os(o),l=wo(o);e[i]=n;let c,u=!1;if(Array.isArray(n)?(c=n[1],(null===c||ga(n,c)>0)&&(u=!0)):c=n,r)if(0!==l){const d=Os(e[a+1]);e[i+1]=oh(d,a),0!==d&&(e[d+1]=vm(e[d+1],i)),e[a+1]=function NR(e,t){return 131071&e|t<<17}(e[a+1],i)}else e[i+1]=oh(a,0),0!==a&&(e[a+1]=vm(e[a+1],i)),a=i;else e[i+1]=oh(l,0),0===a?a=i:e[l+1]=vm(e[l+1],i),l=i;u&&(e[i+1]=gm(e[i+1])),bT(e,c,i,!0),bT(e,c,i,!1),function zR(e,t,n,i,r){const s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&ga(s,t)>=0&&(n[i+1]=ym(n[i+1]))}(t,c,e,i,s),o=oh(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,n,o,i)}}(s,e,o,i),t!==Qe&&ii(r,o,t)&&function xT(e,t,n,i,r,s,o,a){if(!(3&t.type))return;const l=e.data,u=l[a+1],c=function VR(e){return 1==(1&e)}(u)?PT(l,t,n,r,wo(u),o):void 0;ah(c)||(ah(s)||function LR(e){return 2==(2&e)}(u)&&(s=PT(l,null,n,r,a,o)),function eP(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let s=-1===i.indexOf("-")?void 0:Ti.DashCase;null==r?e.removeStyle(n,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Ti.Important),e.setStyle(n,i,r,s))}}(i,o,Mc(pi(),n),r,s))}(s,s.data[pi()],r,r[11],e,r[o+1]=function nF(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Ut(Fi(e)))),e}(t,n),i,o)}(e,t,null,!0),To}function _m(e,t,n,i,r){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],i=Kl(i,s.hostAttrs,r),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),i}function Kl(e,t,n){const i=n?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ri(e,o,!!n||t[++s]))}return void 0===e?null:e}function PT(e,t,n,i,r,s){const o=null===t;let a;for(;r>0;){const l=e[r],u=Array.isArray(l),c=u?l[1]:l,h=null===c;let d=n[r+1];d===Qe&&(d=h?St:void 0);let f=h?cp(d,i):c===i?d:void 0;if(u&&!ah(f)&&(f=cp(l,i)),ah(f)&&(a=f,o))return a;const p=e[r+1];r=o?Os(p):wo(p)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=cp(l,i))}return a}function ah(e){return void 0!==e}function Je(e,t=""){const n=oe(),i=_t(),r=e+22,s=i.firstCreatePass?Sa(i,r,1,t,null):i.data[r],o=n[r]=function Cp(e,t){return e.createText(t)}(n[11],t);Hc(i,n,o,s),Pr(s,!1)}function Wn(e){return Co("",e,""),Wn}function Co(e,t,n){const i=oe(),r=function Ma(e,t,n,i){return ii(e,ua(),n)?t+Ke(n)+i:Qe}(i,e,t,n);return r!==Qe&&function hs(e,t,n){const i=Mc(t,e);!function Ib(e,t,n){e.setValue(t,n)}(e[11],i,n)}(i,pi(),r),Co}const Na="en-US";let tC=Na;class Va{}class IC{}class kC extends Va{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ww(this);const i=Ai(t);this._bootstrapComponents=cs(i.bootstrap),this._r3Injector=Cw(t,n,[{provide:Va,useValue:this},{provide:Hl,useValue:this.componentFactoryResolver}],Ut(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Mm extends IC{constructor(t){super(),this.moduleType=t}create(t){return new kC(this.moduleType,t)}}class TL extends Va{constructor(t,n,i){super(),this.componentFactoryResolver=new Ww(this),this.instance=null;const r=new lw([...t,{provide:Va,useValue:this},{provide:Hl,useValue:this.componentFactoryResolver}],n||Xc(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function dh(e,t,n=null){return new TL(e,t,n).injector}let CL=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const i=rw(0,n.type),r=i.length>0?dh([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,r)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Ae({token:e,providedIn:"environment",factory:()=>new e(ge(as))}),e})();function EC(e){e.getStandaloneInjector=t=>t.get(CL).getOrCreateStandaloneInjector(e)}function Do(e,t,n){const i=fi()+e,r=oe();return r[i]===Qe?Lr(r,i,n?t.call(n):t()):function Gl(e,t){return e[t]}(r,i)}function Vn(e,t,n,i){return function NC(e,t,n,i,r,s){const o=t+n;return ii(e,o,r)?Lr(e,o+1,s?i.call(s,r):i(r)):eu(e,o+1)}(oe(),fi(),e,t,n,i)}function fh(e,t,n,i,r){return function VC(e,t,n,i,r,s,o){const a=t+n;return bo(e,a,r,s)?Lr(e,a+2,o?i.call(o,r,s):i(r,s)):eu(e,a+2)}(oe(),fi(),e,t,n,i,r)}function LC(e,t,n,i,r,s){return function BC(e,t,n,i,r,s,o,a){const l=t+n;return function sh(e,t,n,i,r){const s=bo(e,t,n,i);return ii(e,t+2,r)||s}(e,l,r,s,o)?Lr(e,l+3,a?i.call(a,r,s,o):i(r,s,o)):eu(e,l+3)}(oe(),fi(),e,t,n,i,r,s)}function km(e,t,n,i,r,s,o){return function zC(e,t,n,i,r,s,o,a,l){const u=t+n;return function er(e,t,n,i,r,s){const o=bo(e,t,n,i);return bo(e,t+2,r,s)||o}(e,u,r,s,o,a)?Lr(e,u+4,l?i.call(l,r,s,o,a):i(r,s,o,a)):eu(e,u+4)}(oe(),fi(),e,t,n,i,r,s,o)}function eu(e,t){const n=e[t];return n===Qe?void 0:n}function Em(e){return t=>{setTimeout(e,void 0,t)}}const ft=class $L extends cr{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){let r=t,s=n||(()=>null),o=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Em(s),r&&(r=Em(r)),o&&(o=Em(o)));const a=super.subscribe({next:r,error:s,complete:o});return t instanceof bi&&t.add(a),a}};function WL(){return this._results[_o()]()}class Am{get changes(){return this._changes||(this._changes=new ft)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=_o(),i=Am.prototype;i[n]||(i[n]=WL)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const i=this;i.dirty=!1;const r=function Zi(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function rx(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}(i._results,r,n))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ds=(()=>{class e{}return e.__NG_ELEMENT_ID__=KL,e})();const GL=ds,qL=class extends GL{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}createEmbeddedView(t,n){const i=this._declarationTContainer.tViews,r=Yc(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,n||null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(i)),Jp(i,r,t),new $l(r)}};function KL(){return ph(jn(),oe())}function ph(e,t){return 4&e.type?new qL(t,e,wa(e,t)):null}let _r=(()=>{class e{}return e.__NG_ELEMENT_ID__=XL,e})();function XL(){return $C(jn(),oe())}const QL=_r,UC=class extends QL{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return wa(this._hostTNode,this._hostLView)}get injector(){return new ha(this._hostTNode,this._hostLView)}get parentInjector(){const t=sp(this._hostTNode,this._hostLView);if(q_(t)){const n=Pc(t,this._hostLView),i=xc(t);return new ha(n[1].data[i+8],n)}return new ha(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=jC(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const o=t.createEmbeddedView(n||{},s);return this.insert(o,r),o}createComponent(t,n,i,r,s){const o=t&&!function Pl(e){return"function"==typeof e}(t);let a;if(o)a=n;else{const h=n||{};a=h.index,i=h.injector,r=h.projectableNodes,s=h.environmentInjector||h.ngModuleRef}const l=o?t:new Wl(Et(t)),u=i||this.parentInjector;if(!s&&null==l.ngModule){const d=(o?u:this.parentInjector).get(as,null);d&&(s=d)}const c=l.create(u,r,void 0,s);return this.insert(c.hostView,a),c}insert(t,n){const i=t._lView,r=i[1];if(function IA(e){return pr(e[3])}(i)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const h=i[3],d=new UC(h,h[6],h[3]);d.detach(d.indexOf(t))}}const s=this._adjustIndex(n),o=this._lContainer;!function Gx(e,t,n,i){const r=10+i,s=n.length;i>0&&(n[r-1][4]=t),i<s-10?(t[4]=n[r],sb(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function qx(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=64}(r,i,o,s);const a=kp(s,o),l=i[11],u=zc(l,o[7]);return null!==u&&function jx(e,t,n,i,r,s){i[0]=r,i[6]=t,Vl(e,i,n,1,r,s)}(r,o[6],l,i,u,a),t.attachToViewContainerRef(),sb(xm(o),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=jC(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=Dp(this._lContainer,n);i&&(Lc(xm(this._lContainer),n),Eb(i[1],i))}detach(t){const n=this._adjustIndex(t,-1),i=Dp(this._lContainer,n);return i&&null!=Lc(xm(this._lContainer),n)?new $l(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function jC(e){return e[8]}function xm(e){return e[8]||(e[8]=[])}function $C(e,t){let n;const i=t[e.index];if(pr(i))n=i;else{let r;if(8&e.type)r=Un(i);else{const s=t[11];r=s.createComment("");const o=Pi(e,t);po(s,zc(s,o),r,function Yx(e,t){return e.nextSibling(t)}(s,o),!1)}t[e.index]=n=zw(i,t,r,e),Jc(t,n)}return new UC(n,e,t)}class Pm{constructor(t){this.queryList=t,this.matches=null}clone(){return new Pm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Om{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){const o=n.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new Om(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==QC(t,n).matches&&this.queries[n].setDirty()}}class WC{constructor(t,n,i=null){this.predicate=t,this.flags=n,this.read=i}}class Rm{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const r=null!==n?n.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==n?n.push(s):n=[s])}return null!==n?new Rm(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Fm{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Fm(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,n,YL(n,s)),this.matchTNodeWithReadOption(t,n,Fc(n,t,s,!1,!1))}else i===ds?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Fc(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Tn||r===_r||r===ds&&4&n.type)this.addMatch(n.index,-2);else{const s=Fc(n,t,r,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function YL(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function JL(e,t,n,i){return-1===n?function ZL(e,t){return 11&e.type?wa(e,t):4&e.type?ph(e,t):null}(t,e):-2===n?function eN(e,t,n){return n===Tn?wa(t,e):n===ds?ph(t,e):n===_r?$C(t,e):void 0}(e,t,i):ho(e,e[1],n,t)}function GC(e,t,n,i){const r=t[19].queries[i];if(null===r.matches){const s=e.data,o=n.matches,a=[];for(let l=0;l<o.length;l+=2){const u=o[l];a.push(u<0?null:JL(t,s[u],o[l+1],n.metadata.read))}r.matches=a}return r.matches}function Lm(e,t,n,i){const r=e.queries.getByIndex(n),s=r.matches;if(null!==s){const o=GC(e,t,r,n);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const u=s[a+1],c=t[-l];for(let h=10;h<c.length;h++){const d=c[h];d[17]===d[3]&&Lm(d[1],d,u,i)}if(null!==c[9]){const h=c[9];for(let d=0;d<h.length;d++){const f=h[d];Lm(f[1],f,u,i)}}}}}return i}function br(e){const t=oe(),n=_t(),i=N_();Yf(i+1);const r=QC(n,i);if(e.dirty&&function MA(e){return 4==(4&e[2])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const s=r.crossesNgTemplate?Lm(n,t,i,[]):GC(n,t,r,i);e.reset(s,WP),e.notifyOnChanges()}return!0}return!1}function zr(e,t,n){const i=_t();i.firstCreatePass&&(function XC(e,t,n){null===e.queries&&(e.queries=new Rm),e.queries.track(new Fm(t,n))}(i,new WC(e,t,n),-1),2==(2&t)&&(i.staticViewQueries=!0)),function KC(e,t,n){const i=new Am(4==(4&n));Rw(e,t,i,i.destroy),null===t[19]&&(t[19]=new Om),t[19].queries.push(new Pm(i))}(i,oe(),t)}function wr(){return function tN(e,t){return e[19].queries[t].queryList}(oe(),N_())}function QC(e,t){return e.queries.getByIndex(t)}function Hr(e,t){return ph(e,t)}function gh(...e){}const vh=new fe("Application Initializer");let yh=(()=>{class e{constructor(n){this.appInits=n,this.resolve=gh,this.reject=gh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(ql(s))n.push(s);else if(pm(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),0===n.length&&i(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(ge(vh,8))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const iu=new fe("AppId",{providedIn:"root",factory:function g0(){return`${Hm()}${Hm()}${Hm()}`}});function Hm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const v0=new fe("Platform Initializer"),Um=new fe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),y0=new fe("appBootstrapListener"),_0=new fe("AnimationModuleType");let TN=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Ur=new fe("LocaleId",{providedIn:"root",factory:()=>ut(Ur,Ue.Optional|Ue.SkipSelf)||function CN(){return typeof $localize<"u"&&$localize.locale||Na}()});class DN{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let b0=(()=>{class e{compileModuleSync(n){return new Mm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),s=cs(Ai(n).declarations).reduce((o,a)=>{const l=Et(a);return l&&o.push(new Wl(l)),o},[]);return new DN(i,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const kN=(()=>Promise.resolve(0))();function jm(e){typeof Zone>"u"?kN.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Lt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ft(!1),this.onMicrotaskEmpty=new ft(!1),this.onStable=new ft(!1),this.onError=new ft(!1),typeof Zone>"u")throw new Y(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function EN(){let e=jt.requestAnimationFrame,t=jt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function PN(e){const t=()=>{!function xN(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(jt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Wm(e),e.isCheckStableRunning=!0,$m(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Wm(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{try{return C0(e),n.invokeTask(r,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),S0(e)}},onInvoke:(n,i,r,s,o,a,l)=>{try{return C0(e),n.invoke(r,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),S0(e)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Wm(e),$m(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lt.isInAngularZone())throw new Y(909,!1)}static assertNotInAngularZone(){if(Lt.isInAngularZone())throw new Y(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,AN,gh,gh);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const AN={};function $m(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Wm(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function C0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function S0(e){e._nesting--,$m(e)}class ON{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ft,this.onMicrotaskEmpty=new ft,this.onStable=new ft,this.onError=new ft}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}}const D0=new fe(""),_h=new fe("");let Km,Gm=(()=>{class e{constructor(n,i,r){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Km||(function RN(e){Km=e}(r),r.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lt.assertNotInAngularZone(),jm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())jm(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,r){return[]}}return e.\u0275fac=function(n){return new(n||e)(ge(Lt),ge(qm),ge(_h))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})(),qm=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Km?.findTestabilityInTree(this,n,i)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Rs=null;const M0=new fe("AllowMultipleToken"),Xm=new fe("PlatformDestroyListeners");class I0{constructor(t,n){this.name=t,this.token=n}}function E0(e,t,n=[]){const i=`Platform: ${t}`,r=new fe(i);return(s=[])=>{let o=Qm();if(!o||o.injector.get(M0,!1)){const a=[...n,...s,{provide:r,useValue:!0}];e?e(a):function NN(e){if(Rs&&!Rs.get(M0,!1))throw new Y(400,!1);Rs=e;const t=e.get(x0);(function k0(e){const t=e.get(v0,null);t&&t.forEach(n=>n())})(e)}(function A0(e=[],t){return Ji.create({name:t,providers:[{provide:Hp,useValue:"platform"},{provide:Xm,useValue:new Set([()=>Rs=null])},...e]})}(a,i))}return function BN(e){const t=Qm();if(!t)throw new Y(401,!1);return t}()}}function Qm(){return Rs?.get(x0)??null}let x0=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const r=function O0(e,t){let n;return n="noop"===e?new ON:("zone.js"===e?void 0:e)||new Lt(t),n}(i?.ngZone,function P0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:Lt,useValue:r}];return r.run(()=>{const o=Ji.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),l=a.injector.get(us,null);if(!l)throw new Y(402,!1);return r.runOutsideAngular(()=>{const u=r.onError.subscribe({next:c=>{l.handleError(c)}});a.onDestroy(()=>{bh(this._modules,a),u.unsubscribe()})}),function R0(e,t,n){try{const i=n();return ql(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(l,r,()=>{const u=a.injector.get(yh);return u.runInitializers(),u.donePromise.then(()=>(function nC(e){Xi(e,"Expected localeId to be defined"),"string"==typeof e&&(tC=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ur,Na)||Na),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,i=[]){const r=F0({},i);return function FN(e,t,n){const i=new Mm(n);return Promise.resolve(i)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(n){const i=n.injector.get(ru);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!n.instance.ngDoBootstrap)throw new Y(-403,!1);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Y(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(Xm,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(ge(Ji))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function F0(e,t){return Array.isArray(t)?t.reduce(F0,e):{...e,...t}}let ru=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,i,r){this._zone=n,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new dn(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new dn(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Lt.assertNotInAngularZone(),jm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{Lt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),u.unsubscribe()}});this.isStable=function KE(...e){const t=yl(e),n=function HE(e,t){return"number"==typeof Af(e)?e.pop():t}(e,1/0),i=e;return i.length?1===i.length?ki(i[0]):ta(n)(bn(i,t)):Ar}(s,o.pipe(l_()))}bootstrap(n,i){const r=n instanceof cw;if(!this._injector.get(yh).done)throw!r&&function ia(e){const t=Et(e)||Jn(e)||ui(e);return null!==t&&t.standalone}(n),new Y(405,false);let o;o=r?n:this._injector.get(Hl).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function LN(e){return e.isBoundToModule}(o)?void 0:this._injector.get(Va),u=o.create(Ji.NULL,[],i||o.selector,a),c=u.location.nativeElement,h=u.injector.get(D0,null);return h?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),bh(this.components,u),h?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new Y(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;bh(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const i=this._injector.get(y0,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>bh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Y(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(ge(Lt),ge(as),ge(us))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function bh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let Ha=(()=>{class e{}return e.__NG_ELEMENT_ID__=HN,e})();function HN(e){return function UN(e,t,n){if(Ml(e)&&!n){const i=Oi(e.index,t);return new $l(i,i)}return 47&e.type?new $l(t[16],t):null}(jn(),oe(),16==(16&e))}class z0{constructor(){}supports(t){return rh(t)}create(t){return new KN(t)}}const qN=(e,t)=>t;class KN{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||qN}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){const o=!i||n&&n.currentIndex<U0(i,r,s)?n:i,a=U0(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(n=n._next,null==o.previousIndex)r++;else{s||(s=[]);const u=a-r,c=l-r;if(u!=c){for(let d=0;d<u;d++){const f=d<s.length?s[d]:s[d]=0,p=f+d;c<=p&&p<u&&(s[d]=f+1)}s[o.previousIndex]=c-u}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!rh(t))throw new Y(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,n=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(i&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),i=!0),n=n._next}else r=0,function IR(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[_o()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(r,a),null!==n&&Object.is(n.trackById,o)?(i&&(n=this._verifyReinsertion(n,a,o,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,r),i=!0),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,r)):t=this._addAfter(new XN(n,i),s,r),t}_verifyReinsertion(t,n,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){const r=null===n?this._itHead:n._next;return t._next=r,t._prev=n,null===r?this._itTail=t:r._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new H0),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,i=t._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new H0),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class XN{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QN{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const n=t._prevDup,i=t._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class H0{constructor(){this.map=new Map}put(t){const n=t.trackById;let i=this.map.get(n);i||(i=new QN,this.map.set(n,i)),i.add(t)}get(t,n){const r=this.map.get(t);return r?r.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function U0(e,t,n){const i=e.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}class j0{constructor(){}supports(t){return t instanceof Map||dm(t)}create(){return new YN}}class YN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||dm(t)))throw new Y(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,n);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new ZN(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i))}}class ZN{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $0(){return new Ch([new z0])}let Ch=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(null!=i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||$0()),deps:[[e,new va,new xs]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(null!=i)return i;throw new Y(901,!1)}}return e.\u0275prov=Ae({token:e,providedIn:"root",factory:$0}),e})();function W0(){return new su([new j0])}let su=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||W0()),deps:[[e,new va,new xs]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(i)return i;throw new Y(901,!1)}}return e.\u0275prov=Ae({token:e,providedIn:"root",factory:W0}),e})();const t2=E0(null,"core",[]);let n2=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(ge(ru))},e.\u0275mod=An({type:e}),e.\u0275inj=wn({}),e})(),tg=null;function jr(){return tg}class o2{}const Xt=new fe("DocumentToken");let ng=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ae({token:e,factory:function(){return function a2(){return ge(G0)}()},providedIn:"platform"}),e})();const l2=new fe("Location Initialized");let G0=(()=>{class e extends ng{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return jr().getBaseHref(this._doc)}onPopState(n){const i=jr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=jr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){q0()?this._history.pushState(n,i,r):this._location.hash=r}replaceState(n,i,r){q0()?this._history.replaceState(n,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(ge(Xt))},e.\u0275prov=Ae({token:e,factory:function(){return function u2(){return new G0(ge(Xt))}()},providedIn:"platform"}),e})();function q0(){return!!window.history.pushState}function ig(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function K0(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function ps(e){return e&&"?"!==e[0]?"?"+e:e}let Io=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ae({token:e,factory:function(){return ut(Q0)},providedIn:"root"}),e})();const X0=new fe("appBaseHref");let Q0=(()=>{class e extends Io{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ut(Xt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ig(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+ps(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,s){const o=this.prepareExternalUrl(r+ps(s));this._platformLocation.pushState(n,i,o)}replaceState(n,i,r,s){const o=this.prepareExternalUrl(r+ps(s));this._platformLocation.replaceState(n,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(ge(ng),ge(X0,8))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),c2=(()=>{class e extends Io{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){const i=ig(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,s){let o=this.prepareExternalUrl(r+ps(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,i,o)}replaceState(n,i,r,s){let o=this.prepareExternalUrl(r+ps(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(ge(ng),ge(X0,8))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})(),rg=(()=>{class e{constructor(n){this._subject=new ft,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const i=this._locationStrategy.getBaseHref();this._basePath=function f2(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(K0(Y0(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+ps(i))}normalize(n){return e.stripTrailingSlash(function d2(e,t){return e&&new RegExp(`^${e}([/;?#]|$)`).test(t)?t.substring(e.length):t}(this._basePath,Y0(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ps(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ps(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}}return e.normalizeQueryParams=ps,e.joinWithSlash=ig,e.stripTrailingSlash=K0,e.\u0275fac=function(n){return new(n||e)(ge(Io))},e.\u0275prov=Ae({token:e,factory:function(){return function h2(){return new rg(ge(Io))}()},providedIn:"root"}),e})();function Y0(e){return e.replace(/\/index.html$/,"")}class J2{constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Oh=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const i=this._viewContainer;n.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new J2(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),uS(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{uS(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(n,i){return!0}}return e.\u0275fac=function(n){return new(n||e)(ne(_r),ne(ds),ne(Ch))},e.\u0275dir=xe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function uS(e,t){e.context.$implicit=t.item}let ja=(()=>{class e{constructor(n,i){this._viewContainer=n,this._context=new tV,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){cS("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){cS("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}}return e.\u0275fac=function(n){return new(n||e)(ne(_r),ne(ds))},e.\u0275dir=xe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class tV{constructor(){this.$implicit=null,this.ngIf=null}}function cS(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Ut(t)}'.`)}class mg{constructor(t,n){this._viewContainerRef=t,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let $a=(()=>{class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const i=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const i of this._defaultViews)i.enforceState(n)}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=xe({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),e})(),Rh=(()=>{class e{constructor(n,i,r){this.ngSwitch=r,r._addCase(),this._view=new mg(n,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(n){return new(n||e)(ne(_r),ne(ds),ne($a,9))},e.\u0275dir=xe({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),e})(),Fh=(()=>{class e{constructor(n,i,r){r._addDefault(new mg(n,i))}}return e.\u0275fac=function(n){return new(n||e)(ne(_r),ne(ds),ne($a,9))},e.\u0275dir=xe({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),e})(),ir=(()=>{class e{constructor(n,i,r){this._ngEl=n,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,i){const[r,s]=n.split("."),o=-1===r.indexOf("-")?void 0:Ti.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(n){n.forEachRemovedItem(i=>this._setStyle(i.key,null)),n.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),n.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return e.\u0275fac=function(n){return new(n||e)(ne(Tn),ne(su),ne(ls))},e.\u0275dir=xe({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),lu=(()=>{class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(n.ngTemplateOutlet||n.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(n){return new(n||e)(ne(_r))},e.\u0275dir=xe({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[un]}),e})(),Lh=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=An({type:e}),e.\u0275inj=wn({}),e})();const fS="browser";let EV=(()=>{class e{}return e.\u0275prov=Ae({token:e,providedIn:"root",factory:()=>new AV(ge(Xt),window)}),e})();class AV{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function xV(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=pS(this.window.history)||pS(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function pS(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class sB extends o2{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class wg extends sB{static makeCurrent(){!function s2(e){tg||(tg=e)}(new wg)}onAndCancel(t,n,i){return t.addEventListener(n,i,!1),()=>{t.removeEventListener(n,i,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function oB(){return cu=cu||document.querySelector("base"),cu?cu.getAttribute("href"):null}();return null==n?null:function aB(e){Vh=Vh||document.createElement("a"),Vh.setAttribute("href",e);const t=Vh.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){cu=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Q2(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const i=n.indexOf("="),[r,s]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Vh,cu=null;const _S=new fe("TRANSITION_ID"),uB=[{provide:vh,useFactory:function lB(e,t,n){return()=>{n.get(yh).donePromise.then(()=>{const i=jr(),r=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[_S,Xt,Ji],multi:!0}];let hB=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})();const Bh=new fe("EventManagerPlugins");let zh=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>r.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}addGlobalEventListener(n,i,r){return this._findPluginFor(i).addGlobalEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){const i=this._eventNameToPlugin.get(n);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(ge(Bh),ge(Lt))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})();class bS{constructor(t){this._doc=t}addGlobalEventListener(t,n,i){const r=jr().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${n}`);return this.addEventListener(r,n,i)}}let wS=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const i=new Set;n.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})(),hu=(()=>{class e extends wS{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,i,r){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(n){const i=[];this._addStylesToHost(this._stylesSet,n,i),this._hostNodes.set(n,i)}removeHost(n){const i=this._hostNodes.get(n);i&&i.forEach(TS),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(n,r,i)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(TS))}}return e.\u0275fac=function(n){return new(n||e)(ge(Xt))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})();function TS(e){jr().remove(e)}const Tg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Cg=/%COMP%/g;function Sg(e,t){return t.flat(100).map(n=>n.replace(Cg,e))}function DS(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Hh=(()=>{class e{constructor(n,i,r){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Dg(n)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;switch(i.encapsulation){case dr.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new vB(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(n),r}case dr.ShadowDom:return new yB(this.eventManager,this.sharedStylesHost,n,i);default:if(!this.rendererByCompId.has(i.id)){const r=Sg(i.id,i.styles);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(ge(zh),ge(hu),ge(iu))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})();class Dg{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(Tg[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(IS(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(IS(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;const s=Tg[r];s?t.setAttributeNS(s,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){const r=Tg[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(Ti.DashCase|Ti.Important)?t.style.setProperty(n,i,r&Ti.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&Ti.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t[n]=i}setValue(t,n){t.nodeValue=n}listen(t,n,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,DS(i)):this.eventManager.addEventListener(t,n,DS(i))}}function IS(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class vB extends Dg{constructor(t,n,i,r){super(t),this.component=i;const s=Sg(r+"-"+i.id,i.styles);n.addStyles(s),this.contentAttr=function pB(e){return"_ngcontent-%COMP%".replace(Cg,e)}(r+"-"+i.id),this.hostAttr=function mB(e){return"_nghost-%COMP%".replace(Cg,e)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}}class yB extends Dg{constructor(t,n,i,r){super(t),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Sg(r.id,r.styles);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let _B=(()=>{class e extends bS{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}}return e.\u0275fac=function(n){return new(n||e)(ge(Xt))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})();const kS=["alt","control","meta","shift"],bB={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wB={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let TB=(()=>{class e extends bS{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,i,r){const s=e.parseEventName(i),o=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const i=n.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=e._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),kS.forEach(u=>{const c=i.indexOf(u);c>-1&&(i.splice(c,1),o+=u+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(n,i){let r=bB[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(r=n.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),kS.forEach(o=>{o!==r&&(0,wB[o])(n)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(n,i,r){return s=>{e.matchEventFullKeyCode(s,n)&&r.runGuarded(()=>i(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(ge(Xt))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})();const MB=E0(t2,"browser",[{provide:Um,useValue:fS},{provide:v0,useValue:function CB(){wg.makeCurrent()},multi:!0},{provide:Xt,useFactory:function DB(){return function sP(e){Pp=e}(document),document},deps:[]}]),xS=new fe(""),PS=[{provide:_h,useClass:class cB{addToWindow(t){jt.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},jt.getAllAngularTestabilities=()=>t.getAllTestabilities(),jt.getAllAngularRootElements=()=>t.getAllRootElements(),jt.frameworkStabilizers||(jt.frameworkStabilizers=[]),jt.frameworkStabilizers.push(i=>{const r=jt.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,n,i){return null==n?null:t.getTestability(n)??(i?jr().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:D0,useClass:Gm,deps:[Lt,qm,_h]},{provide:Gm,useClass:Gm,deps:[Lt,qm,_h]}],OS=[{provide:Hp,useValue:"root"},{provide:us,useFactory:function SB(){return new us},deps:[]},{provide:Bh,useClass:_B,multi:!0,deps:[Xt,Lt,Um]},{provide:Bh,useClass:TB,multi:!0,deps:[Xt]},{provide:Hh,useClass:Hh,deps:[zh,hu,iu]},{provide:Ul,useExisting:Hh},{provide:wS,useExisting:hu},{provide:hu,useClass:hu,deps:[Xt]},{provide:zh,useClass:zh,deps:[Bh,Lt]},{provide:class PV{},useClass:hB,deps:[]},[]];let RS=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:iu,useValue:n.appId},{provide:_S,useExisting:iu},uB]}}}return e.\u0275fac=function(n){return new(n||e)(ge(xS,12))},e.\u0275mod=An({type:e}),e.\u0275inj=wn({providers:[...OS,...PS],imports:[Lh,n2]}),e})(),FS=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(ge(Xt))},e.\u0275prov=Ae({token:e,factory:function(n){let i=null;return i=n?new n:function kB(){return new FS(ge(Xt))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let kg=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ae({token:e,factory:function(n){let i=null;return i=n?new(n||e):ge(VS),i},providedIn:"root"}),e})(),VS=(()=>{class e extends kg{constructor(n){super(),this._doc=n}sanitize(n,i){if(null==i)return null;switch(n){case Dt.NONE:return i;case Dt.HTML:return Rr(i,"HTML")?Fi(i):Zb(this._doc,String(i)).toString();case Dt.STYLE:return Rr(i,"Style")?Fi(i):i;case Dt.SCRIPT:if(Rr(i,"Script"))return Fi(i);throw new Error("unsafe value used in a script context");case Dt.URL:return Rr(i,"URL")?Fi(i):Wc(String(i));case Dt.RESOURCE_URL:if(Rr(i,"ResourceURL"))return Fi(i);throw new Error(`unsafe value used in a resource URL context (see ${fc})`);default:throw new Error(`Unexpected SecurityContext ${n} (see ${fc})`)}}bypassSecurityTrustHtml(n){return function dP(e){return new oP(e)}(n)}bypassSecurityTrustStyle(n){return function fP(e){return new aP(e)}(n)}bypassSecurityTrustScript(n){return function pP(e){return new lP(e)}(n)}bypassSecurityTrustUrl(n){return function mP(e){return new uP(e)}(n)}bypassSecurityTrustResourceUrl(n){return function gP(e){return new cP(e)}(n)}}return e.\u0275fac=function(n){return new(n||e)(ge(Xt))},e.\u0275prov=Ae({token:e,factory:function(n){let i=null;return i=n?new n:function FB(e){return new VS(e.get(Xt))}(ge(Ji)),i},providedIn:"root"}),e})();function Oe(...e){return bn(e,yl(e))}class Dr extends cr{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const Uh=gl(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:LB}=Array,{getPrototypeOf:NB,prototype:VB,keys:BB}=Object;function BS(e){if(1===e.length){const t=e[0];if(LB(t))return{args:t,keys:null};if(function zB(e){return e&&"object"==typeof e&&NB(e)===VB}(t)){const n=BB(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}const{isArray:HB}=Array;function zS(e){return Ge(t=>function UB(e,t){return HB(t)?e(...t):e(t)}(e,t))}function HS(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}function Eg(...e){const t=yl(e),n=r_(e),{args:i,keys:r}=BS(e);if(0===i.length)return bn([],t);const s=new dn(function jB(e,t,n=so){return i=>{US(t,()=>{const{length:r}=e,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)US(t,()=>{const u=bn(e[l],t);let c=!1;u.subscribe(fn(i,h=>{s[l]=h,c||(c=!0,a--),a||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,r?o=>HS(r,o):so));return n?s.pipe(zS(n)):s}function US(e,t,n){e?es(n,e,t):t()}function jh(...e){return function $B(){return ta(1)}()(bn(e,yl(e)))}function jS(e){return new dn(t=>{ki(e()).subscribe(t)})}function Wa(e,t){const n=Ht(e)?e:()=>e,i=r=>r.error(n());return new dn(t?r=>t.schedule(i,0,r):i)}function Ag(){return _n((e,t)=>{let n=null;e._refCount++;const i=fn(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const r=e._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}class $S extends dn{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,$y(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new bi;const n=this.getSubject();t.add(this.source.subscribe(fn(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=bi.EMPTY)}return t}refCount(){return Ag()(this)}}function $r(e,t){return _n((n,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();n.subscribe(fn(i,l=>{r?.unsubscribe();let u=0;const c=s++;ki(e(l,c)).subscribe(r=fn(i,h=>i.next(t?t(l,h,c,u++):h),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function ko(e){return e<=0?()=>Ar:_n((t,n)=>{let i=0;t.subscribe(fn(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function WS(...e){const t=yl(e);return _n((n,i)=>{(t?jh(e,n,t):jh(e,n)).subscribe(i)})}function Wr(e,t){return _n((n,i)=>{let r=0;n.subscribe(fn(i,s=>e.call(t,s,r++)&&i.next(s)))})}function $h(e){return _n((t,n)=>{let i=!1;t.subscribe(fn(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function GS(e=WB){return _n((t,n)=>{let i=!1;t.subscribe(fn(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function WB(){return new Uh}function Ls(e,t){const n=arguments.length>=2;return i=>i.pipe(e?Wr((r,s)=>e(r,s,i)):so,ko(1),n?$h(t):GS(()=>new Uh))}function Ns(e,t){return Ht(t)?Hn(e,t,1):Hn(e,1)}function Fn(e,t,n){const i=Ht(e)||t||n?{next:e,error:t,complete:n}:e;return i?_n((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(fn(s,l=>{var u;null===(u=i.next)||void 0===u||u.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var u;a=!1,null===(u=i.error)||void 0===u||u.call(i,l),s.error(l)},()=>{var l,u;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(u=i.finalize)||void 0===u||u.call(i)}))}):so}function gs(e){return _n((t,n)=>{let s,i=null,r=!1;i=t.subscribe(fn(n,void 0,void 0,o=>{s=ki(e(o,gs(e)(t))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function GB(e,t,n,i,r){return(s,o)=>{let a=n,l=t,u=0;s.subscribe(fn(o,c=>{const h=u++;l=a?e(l,c,h):(a=!0,c),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function qS(e,t){return _n(GB(e,t,arguments.length>=2,!0))}function xg(e){return e<=0?()=>Ar:_n((t,n)=>{let i=[];t.subscribe(fn(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(const r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function KS(e,t){const n=arguments.length>=2;return i=>i.pipe(e?Wr((r,s)=>e(r,s,i)):so,xg(1),n?$h(t):GS(()=>new Uh))}function Wh(e){return _n((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const nt="primary",du=Symbol("RouteTitle");class XB{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ga(e){return new XB(e)}function QB(e,t,n){const i=n.path.split("/");if(i.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=e[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function Gr(e,t){const n=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!XS(e[r],t[r]))return!1;return!0}function XS(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),i=[...t].sort();return n.every((r,s)=>i[s]===r)}return e===t}function QS(e){return Array.prototype.concat.apply([],e)}function YS(e){return e.length>0?e[e.length-1]:null}function Gn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Vs(e){return pm(e)?e:ql(e)?bn(Promise.resolve(e)):Oe(e)}const Gh=!1,ZB={exact:function eD(e,t,n){if(!Ao(e.segments,t.segments)||!qh(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!e.children[i]||!eD(e.children[i],t.children[i],n))return!1;return!0},subset:tD},ZS={exact:function JB(e,t){return Gr(e,t)},subset:function ez(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>XS(e[n],t[n]))},ignored:()=>!0};function JS(e,t,n){return ZB[n.paths](e.root,t.root,n.matrixParams)&&ZS[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function tD(e,t,n){return nD(e,t,t.segments,n)}function nD(e,t,n,i){if(e.segments.length>n.length){const r=e.segments.slice(0,n.length);return!(!Ao(r,n)||t.hasChildren()||!qh(r,n,i))}if(e.segments.length===n.length){if(!Ao(e.segments,n)||!qh(e.segments,n,i))return!1;for(const r in t.children)if(!e.children[r]||!tD(e.children[r],t.children[r],i))return!1;return!0}{const r=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(Ao(e.segments,r)&&qh(e.segments,r,i)&&e.children[nt])&&nD(e.children[nt],t,s,i)}}function qh(e,t,n){return t.every((i,r)=>ZS[n](e[r].parameters,i.parameters))}class Eo{constructor(t=new ht([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ga(this.queryParams)),this._queryParamMap}toString(){return iz.serialize(this)}}class ht{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Gn(n,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kh(this)}}class fu{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ga(this.parameters)),this._parameterMap}toString(){return sD(this)}}function Ao(e,t){return e.length===t.length&&e.every((n,i)=>n.path===t[i].path)}let pu=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ae({token:e,factory:function(){return new Pg},providedIn:"root"}),e})();class Pg{parse(t){const n=new dz(t);return new Eo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${mu(t.root,!0)}`,i=function oz(e){const t=Object.keys(e).map(n=>{const i=e[n];return Array.isArray(i)?i.map(r=>`${Xh(n)}=${Xh(r)}`).join("&"):`${Xh(n)}=${Xh(i)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${i}${"string"==typeof t.fragment?`#${function rz(e){return encodeURI(e)}(t.fragment)}`:""}`}}const iz=new Pg;function Kh(e){return e.segments.map(t=>sD(t)).join("/")}function mu(e,t){if(!e.hasChildren())return Kh(e);if(t){const n=e.children[nt]?mu(e.children[nt],!1):"",i=[];return Gn(e.children,(r,s)=>{s!==nt&&i.push(`${s}:${mu(r,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function nz(e,t){let n=[];return Gn(e.children,(i,r)=>{r===nt&&(n=n.concat(t(i,r)))}),Gn(e.children,(i,r)=>{r!==nt&&(n=n.concat(t(i,r)))}),n}(e,(i,r)=>r===nt?[mu(e.children[nt],!1)]:[`${r}:${mu(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[nt]?`${Kh(e)}/${n[0]}`:`${Kh(e)}/(${n.join("//")})`}}function iD(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xh(e){return iD(e).replace(/%3B/gi,";")}function Og(e){return iD(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qh(e){return decodeURIComponent(e)}function rD(e){return Qh(e.replace(/\+/g,"%20"))}function sD(e){return`${Og(e.path)}${function sz(e){return Object.keys(e).map(t=>`;${Og(t)}=${Og(e[t])}`).join("")}(e.parameters)}`}const az=/^[^\/()?;=#]+/;function Yh(e){const t=e.match(az);return t?t[0]:""}const lz=/^[^=?&#]+/,cz=/^[^&#]+/;class dz{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ht([],{}):new ht([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[nt]=new ht(t,n)),i}parseSegment(){const t=Yh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Y(4009,Gh);return this.capture(t),new fu(Qh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=Yh(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const r=Yh(this.remaining);r&&(i=r,this.capture(i))}t[Qh(n)]=Qh(i)}parseQueryParam(t){const n=function uz(e){const t=e.match(lz);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const o=function hz(e){const t=e.match(cz);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=rD(n),s=rD(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Yh(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Y(4010,Gh);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=nt);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[nt]:new ht([],o),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Y(4011,Gh)}}function Rg(e){return e.segments.length>0?new ht([],{[nt]:e}):e}function Zh(e){const t={};for(const i of Object.keys(e.children)){const s=Zh(e.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function fz(e){if(1===e.numberOfChildren&&e.children[nt]){const t=e.children[nt];return new ht(e.segments.concat(t.segments),t.children)}return e}(new ht(e.segments,t))}function xo(e){return e instanceof Eo}function gz(e,t,n,i,r){if(0===n.length)return qa(t.root,t.root,t.root,i,r);const s=function lD(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new aD(!0,0,e);let t=0,n=!1;const i=e.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Gn(s.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new aD(n,t,i)}(n);return s.toRoot()?qa(t.root,t.root,new ht([],{}),i,r):function o(l){const u=function yz(e,t,n,i){if(e.isAbsolute)return new Ka(t.root,!0,0);if(-1===i)return new Ka(n,n===t.root,0);return function uD(e,t,n){let i=e,r=t,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Y(4005,!1);r=i.segments.length}return new Ka(i,!1,r-s)}(n,i+(gu(e.commands[0])?0:1),e.numberOfDoubleDots)}(s,t,e.snapshot?._urlSegment,l),c=u.processChildren?Xa(u.segmentGroup,u.index,s.commands):Lg(u.segmentGroup,u.index,s.commands);return qa(t.root,u.segmentGroup,c,i,r)}(e.snapshot?._lastPathIndex)}function gu(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function vu(e){return"object"==typeof e&&null!=e&&e.outlets}function qa(e,t,n,i,r){let o,s={};i&&Gn(i,(l,u)=>{s[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`}),o=e===t?n:oD(e,t,n);const a=Rg(Zh(o));return new Eo(a,s,r)}function oD(e,t,n){const i={};return Gn(e.children,(r,s)=>{i[s]=r===t?n:oD(r,t,n)}),new ht(e.segments,i)}class aD{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&gu(i[0]))throw new Y(4003,!1);const r=i.find(vu);if(r&&r!==YS(i))throw new Y(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ka{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}}function Lg(e,t,n){if(e||(e=new ht([],{})),0===e.segments.length&&e.hasChildren())return Xa(e,t,n);const i=function bz(e,t,n){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return s;const o=e.segments[r],a=n[i];if(vu(a))break;const l=`${a}`,u=i<n.length-1?n[i+1]:null;if(r>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!hD(l,u,o))return s;i+=2}else{if(!hD(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const s=new ht(e.segments.slice(0,i.pathIndex),{});return s.children[nt]=new ht(e.segments.slice(i.pathIndex),e.children),Xa(s,0,r)}return i.match&&0===r.length?new ht(e.segments,{}):i.match&&!e.hasChildren()?Ng(e,t,n):i.match?Xa(e,0,r):Ng(e,t,n)}function Xa(e,t,n){if(0===n.length)return new ht(e.segments,{});{const i=function _z(e){return vu(e[0])?e[0].outlets:{[nt]:e}}(n),r={};return!i[nt]&&e.children[nt]&&1===e.numberOfChildren&&0===e.children[nt].segments.length?Xa(e.children[nt],t,n):(Gn(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=Lg(e.children[o],t,s))}),Gn(e.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new ht(e.segments,r))}}function Ng(e,t,n){const i=e.segments.slice(0,t);let r=0;for(;r<n.length;){const s=n[r];if(vu(s)){const l=wz(s.outlets);return new ht(i,l)}if(0===r&&gu(n[0])){i.push(new fu(e.segments[t].path,cD(n[0]))),r++;continue}const o=vu(s)?s.outlets[nt]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&gu(a)?(i.push(new fu(o,cD(a))),r+=2):(i.push(new fu(o,{})),r++)}return new ht(i,{})}function wz(e){const t={};return Gn(e,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[i]=Ng(new ht([],{}),0,n))}),t}function cD(e){const t={};return Gn(e,(n,i)=>t[i]=`${n}`),t}function hD(e,t,n){return e==n.path&&Gr(t,n.parameters)}const yu="imperative";class qr{constructor(t,n){this.id=t,this.url=n}}class Vg extends qr{constructor(t,n,i="imperative",r=null){super(t,n),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Po extends qr{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Jh extends qr{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dD extends qr{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=16}}class fD extends qr{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Tz extends qr{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cz extends qr{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sz extends qr{constructor(t,n,i,r,s){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dz extends qr{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mz extends qr{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Iz{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kz{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ez{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Az{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xz{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pz{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pD{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Rz=(()=>{class e{createUrlTree(n,i,r,s,o,a){return gz(n||i.root,r,s,o,a)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})(),Fz=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ae({token:e,factory:function(t){return Rz.\u0275fac(t)},providedIn:"root"}),e})();class mD{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Bg(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){const n=Bg(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=zg(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return zg(t,this._root).map(n=>n.value)}}function Bg(e,t){if(e===t.value)return t;for(const n of t.children){const i=Bg(e,n);if(i)return i}return null}function zg(e,t){if(e===t.value)return[t];for(const n of t.children){const i=zg(e,n);if(i.length)return i.unshift(t),i}return[]}class vs{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Qa(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class gD extends mD{constructor(t,n){super(t),this.snapshot=n,Hg(this,t)}toString(){return this.snapshot.toString()}}function vD(e,t){const n=function Lz(e,t){const o=new ed([],{},{},"",{},nt,t,null,e.root,-1,{});return new _D("",new vs(o,[]))}(e,t),i=new Dr([new fu("",{})]),r=new Dr({}),s=new Dr({}),o=new Dr({}),a=new Dr(""),l=new Ya(i,r,o,a,s,nt,t,n.root);return l.snapshot=n.root,new gD(new vs(l,[]),n)}class Ya{constructor(t,n,i,r,s,o,a,l){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(Ge(u=>u[du]))??Oe(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ge(t=>Ga(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ge(t=>Ga(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yD(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const r=n[i],s=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Nz(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(i))}class ed{get title(){return this.data?.[du]}constructor(t,n,i,r,s,o,a,l,u,c,h){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ga(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ga(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _D extends mD{constructor(t,n){super(n),this.url=t,Hg(this,n)}toString(){return bD(this._root)}}function Hg(e,t){t.value._routerState=e,t.children.forEach(n=>Hg(e,n))}function bD(e){const t=e.children.length>0?` { ${e.children.map(bD).join(", ")} } `:"";return`${e.value}${t}`}function Ug(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Gr(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Gr(t.params,n.params)||e.params.next(n.params),function YB(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Gr(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Gr(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function jg(e,t){const n=Gr(e.params,t.params)&&function tz(e,t){return Ao(e,t)&&e.every((n,i)=>Gr(n.parameters,t[i].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||jg(e.parent,t.parent))}function _u(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=t.value;const r=function Bz(e,t,n){return t.children.map(i=>{for(const r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return _u(e,i,r);return _u(e,i)})}(e,t,n);return new vs(i,r)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>_u(e,a)),o}}const i=function zz(e){return new Ya(new Dr(e.url),new Dr(e.params),new Dr(e.queryParams),new Dr(e.fragment),new Dr(e.data),e.outlet,e.component,e)}(t.value),r=t.children.map(s=>_u(e,s));return new vs(i,r)}}const $g="ngNavigationCancelingError";function wD(e,t){const{redirectTo:n,navigationBehaviorOptions:i}=xo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=TD(!1,0,t);return r.url=n,r.navigationBehaviorOptions=i,r}function TD(e,t,n){const i=new Error("NavigationCancelingError: "+(e||""));return i[$g]=!0,i.cancellationCode=t,n&&(i.url=n),i}function CD(e){return SD(e)&&xo(e.url)}function SD(e){return e&&e[$g]}class Hz{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new bu,this.attachRef=null}}let bu=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new Hz,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const td=!1;let Wg=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=nt,this.activateEvents=new ft,this.deactivateEvents=new ft,this.attachEvents=new ft,this.detachEvents=new ft,this.parentContexts=ut(bu),this.location=ut(_r),this.changeDetector=ut(Ha),this.environmentInjector=ut(as)}ngOnChanges(n){if(n.name){const{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Y(4012,td);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Y(4012,td);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Y(4012,td);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new Y(4013,td);this._activatedRoute=n;const r=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Uz(n,a,r.injector);if(i&&function jz(e){return!!e.resolveComponentFactory}(i)){const u=i.resolveComponentFactory(o);this.activated=r.createComponent(u,r.length,l)}else this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=xe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[un]}),e})();class Uz{constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===Ya?this.route:t===bu?this.childContexts:this.parent.get(t,n)}}let Gg=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Vt({type:e,selectors:[["ng-component"]],standalone:!0,features:[EC],decls:1,vars:0,template:function(n,i){1&n&&Ye(0,"router-outlet")},dependencies:[Wg],encapsulation:2}),e})();function DD(e,t){return e.providers&&!e._injector&&(e._injector=dh(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Kg(e){const t=e.children&&e.children.map(Kg),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==nt&&(n.component=Gg),n}function rr(e){return e.outlet||nt}function MD(e,t){const n=e.filter(i=>rr(i)===t);return n.push(...e.filter(i=>rr(i)!==t)),n}function wu(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Kz{constructor(t,n,i,r){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r}activate(t){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),Ug(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){const r=Qa(n);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Gn(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,n,i){const r=t.value,s=n?n.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,n,o.children)}else this.deactivateChildRoutes(t,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=Qa(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=Qa(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,n,i){const r=Qa(n);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Pz(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Az(t.value.snapshot))}activateRoutes(t,n,i){const r=t.value,s=n?n.value:null;if(Ug(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,o.children)}else this.activateChildRoutes(t,n,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Ug(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=wu(r.snapshot),l=a?.get(Hl)??null;o.attachRef=null,o.route=r,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class ID{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class nd{constructor(t,n){this.component=t,this.route=n}}function Xz(e,t,n){const i=e._root;return Tu(i,t?t._root:null,n,[i.value])}function Za(e,t){const n=Symbol(),i=t.get(e,n);return i===n?"function"!=typeof e||function tA(e){return null!==gc(e)}(e)?t.get(e):e:i}function Tu(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Qa(t);return e.children.forEach(o=>{(function Yz(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function Zz(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Ao(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ao(e.url,t.url)||!Gr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jg(e,t)||!Gr(e.queryParams,t.queryParams);default:return!jg(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new ID(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Tu(e,t,s.component?a?a.children:null:n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new nd(a.outlet.component,o))}else o&&Cu(t,a,r),r.canActivateChecks.push(new ID(i)),Tu(e,null,s.component?a?a.children:null:n,i,r)})(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Gn(s,(o,a)=>Cu(o,n.getContext(a),r)),r}function Cu(e,t,n){const i=Qa(e),r=e.value;Gn(i,(s,o)=>{Cu(s,r.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new nd(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Su(e){return"function"==typeof e}function Xg(e){return e instanceof Uh||"EmptyError"===e?.name}const id=Symbol("INITIAL_VALUE");function Ja(){return $r(e=>Eg(e.map(t=>t.pipe(ko(1),WS(id)))).pipe(Ge(t=>{for(const n of t)if(!0!==n){if(n===id)return id;if(!1===n||n instanceof Eo)return n}return!0}),Wr(t=>t!==id),ko(1)))}function kD(e){return function wE(...e){return Hy(e)}(Fn(t=>{if(xo(t))throw wD(0,t)}),Ge(t=>!0===t))}const Qg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ED(e,t,n,i,r){const s=Yg(e,t,n);return s.matched?function mH(e,t,n,i){const r=t.canMatch;return r&&0!==r.length?Oe(r.map(o=>{const a=Za(o,e);return Vs(function rH(e){return e&&Su(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(Ja(),kD()):Oe(!0)}(i=DD(t,i),t,n).pipe(Ge(o=>!0===o?s:{...Qg})):Oe(s)}function Yg(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Qg}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const r=(t.matcher||QB)(n,e,t);if(!r)return{...Qg};const s={};Gn(r.posParams,(a,l)=>{s[l]=a.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function rd(e,t,n,i){if(n.length>0&&function yH(e,t,n){return n.some(i=>sd(e,t,i)&&rr(i)!==nt)}(e,n,i)){const s=new ht(t,function vH(e,t,n,i){const r={};r[nt]=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&rr(s)!==nt){const o=new ht([],{});o._sourceSegment=e,o._segmentIndexShift=t.length,r[rr(s)]=o}return r}(e,t,i,new ht(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function _H(e,t,n){return n.some(i=>sd(e,t,i))}(e,n,i)){const s=new ht(e.segments,function gH(e,t,n,i,r){const s={};for(const o of i)if(sd(e,n,o)&&!r[rr(o)]){const a=new ht([],{});a._sourceSegment=e,a._segmentIndexShift=t.length,s[rr(o)]=a}return{...r,...s}}(e,t,n,i,e.children));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const r=new ht(e.segments,e.children);return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:n}}function sd(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function AD(e,t,n,i){return!!(rr(e)===i||i!==nt&&sd(t,n,e))&&("**"===e.path||Yg(t,e,n).matched)}function xD(e,t,n){return 0===t.length&&!e.children[n]}const od=!1;class ad{constructor(t){this.segmentGroup=t||null}}class PD{constructor(t){this.urlTree=t}}function Du(e){return Wa(new ad(e))}function OD(e){return Wa(new PD(e))}class CH{constructor(t,n,i,r,s){this.injector=t,this.configLoader=n,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=rd(this.urlTree.root,[],[],this.config).segmentGroup,n=new ht(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,nt).pipe(Ge(s=>this.createUrlTree(Zh(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(gs(s=>{if(s instanceof PD)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof ad?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,nt).pipe(Ge(r=>this.createUrlTree(Zh(r),t.queryParams,t.fragment))).pipe(gs(r=>{throw r instanceof ad?this.noMatchError(r):r}))}noMatchError(t){return new Y(4002,od)}createUrlTree(t,n,i){const r=Rg(t);return new Eo(r,n,i)}expandSegmentGroup(t,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,n,i).pipe(Ge(s=>new ht([],s))):this.expandSegment(t,i,n,i.segments,r,!0)}expandChildren(t,n,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return bn(r).pipe(Ns(s=>{const o=i.children[s],a=MD(n,s);return this.expandSegmentGroup(t,a,o,s).pipe(Ge(l=>({segment:l,outlet:s})))}),qS((s,o)=>(s[o.outlet]=o.segment,s),{}),KS())}expandSegment(t,n,i,r,s,o){return bn(i).pipe(Ns(a=>this.expandSegmentAgainstRoute(t,n,i,a,r,s,o).pipe(gs(u=>{if(u instanceof ad)return Oe(null);throw u}))),Ls(a=>!!a),gs((a,l)=>{if(Xg(a))return xD(n,r,s)?Oe(new ht([],{})):Du(n);throw a}))}expandSegmentAgainstRoute(t,n,i,r,s,o,a){return AD(r,n,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,n,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,i,r,s,o):Du(n):Du(n)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?OD(s):this.lineralizeSegments(i,s).pipe(Hn(o=>{const a=new ht(o,{});return this.expandSegment(t,a,n,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=Yg(n,r,s);if(!a)return Du(n);const h=this.applyRedirectCommands(l,r.redirectTo,c);return r.redirectTo.startsWith("/")?OD(h):this.lineralizeSegments(r,h).pipe(Hn(d=>this.expandSegment(t,n,i,d.concat(u),o,!1)))}matchSegmentAgainstRoute(t,n,i,r,s){return"**"===i.path?(t=DD(i,t),i.loadChildren?(i._loadedRoutes?Oe({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(Ge(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new ht(r,{})))):Oe(new ht(r,{}))):ED(n,i,r,t).pipe($r(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(t=i._injector??t,i,r).pipe(Hn(c=>{const h=c.injector??t,d=c.routes,{segmentGroup:f,slicedSegments:p}=rd(n,a,l,d),m=new ht(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(h,d,m).pipe(Ge(y=>new ht(a,y)));if(0===d.length&&0===p.length)return Oe(new ht(a,{}));const g=rr(i)===s;return this.expandSegment(h,m,d,p,g?nt:s,!0).pipe(Ge(b=>new ht(a.concat(b.segments),b.children)))})):Du(n)))}getChildConfig(t,n,i){return n.children?Oe({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Oe({routes:n._loadedRoutes,injector:n._loadedInjector}):function pH(e,t,n,i){const r=t.canLoad;return void 0===r||0===r.length?Oe(!0):Oe(r.map(o=>{const a=Za(o,e);return Vs(function eH(e){return e&&Su(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(Ja(),kD())}(t,n,i).pipe(Hn(r=>r?this.configLoader.loadChildren(t,n).pipe(Fn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function wH(e){return Wa(TD(od,3))}())):Oe({routes:[],injector:t})}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Oe(i);if(r.numberOfChildren>1||!r.children[nt])return Wa(new Y(4e3,od));r=r.children[nt]}}applyRedirectCommands(t,n,i){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i)}applyRedirectCreateUrlTree(t,n,i,r){const s=this.createSegmentGroup(t,n.root,i,r);return new Eo(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const i={};return Gn(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[s]=n[a]}else i[s]=r}),i}createSegmentGroup(t,n,i,r){const s=this.createSegments(t,n.segments,i,r);let o={};return Gn(n.children,(a,l)=>{o[l]=this.createSegmentGroup(t,a,i,r)}),new ht(s,o)}createSegments(t,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,n,i){const r=i[n.path.substring(1)];if(!r)throw new Y(4001,od);return r}findOrReturn(t,n){let i=0;for(const r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}}class DH{}class kH{constructor(t,n,i,r,s,o,a){this.injector=t,this.rootComponentType=n,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const t=rd(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,nt).pipe(Ge(n=>{if(null===n)return null;const i=new ed([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},nt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new vs(i,n),s=new _D(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const n=t.value,i=yD(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,n,i):this.processSegment(t,n,i,i.segments,r)}processChildren(t,n,i){return bn(Object.keys(i.children)).pipe(Ns(r=>{const s=i.children[r],o=MD(n,r);return this.processSegmentGroup(t,o,s,r)}),qS((r,s)=>r&&s?(r.push(...s),r):null),function qB(e,t=!1){return _n((n,i)=>{let r=0;n.subscribe(fn(i,s=>{const o=e(s,r++);(o||t)&&i.next(s),!o&&i.complete()}))})}(r=>null!==r),$h(null),KS(),Ge(r=>{if(null===r)return null;const s=FD(r);return function EH(e){e.sort((t,n)=>t.value.outlet===nt?-1:n.value.outlet===nt?1:t.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(t,n,i,r,s){return bn(n).pipe(Ns(o=>this.processSegmentAgainstRoute(o._injector??t,o,i,r,s)),Ls(o=>!!o),gs(o=>{if(Xg(o))return xD(i,r,s)?Oe([]):Oe(null);throw o}))}processSegmentAgainstRoute(t,n,i,r,s){if(n.redirectTo||!AD(n,i,r,s))return Oe(null);let o;if("**"===n.path){const a=r.length>0?YS(r).parameters:{},l=ND(i)+r.length;o=Oe({snapshot:new ed(r,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VD(n),rr(n),n.component??n._loadedComponent??null,n,LD(i),l,BD(n)),consumedSegments:[],remainingSegments:[]})}else o=ED(i,n,r,t).pipe(Ge(({matched:a,consumedSegments:l,remainingSegments:u,parameters:c})=>{if(!a)return null;const h=ND(i)+l.length;return{snapshot:new ed(l,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VD(n),rr(n),n.component??n._loadedComponent??null,n,LD(i),h,BD(n)),consumedSegments:l,remainingSegments:u}}));return o.pipe($r(a=>{if(null===a)return Oe(null);const{snapshot:l,consumedSegments:u,remainingSegments:c}=a;t=n._injector??t;const h=n._loadedInjector??t,d=function AH(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=rd(i,u,c,d.filter(g=>void 0===g.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(h,d,f).pipe(Ge(g=>null===g?null:[new vs(l,g)]));if(0===d.length&&0===p.length)return Oe([new vs(l,[])]);const m=rr(n)===s;return this.processSegment(h,d,f,p,m?nt:s).pipe(Ge(g=>null===g?null:[new vs(l,g)]))}))}}function xH(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function FD(e){const t=[],n=new Set;for(const i of e){if(!xH(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),n.add(r)):t.push(i)}for(const i of n){const r=FD(i.children);t.push(new vs(i.value,r))}return t.filter(i=>!n.has(i))}function LD(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function ND(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function VD(e){return e.data||{}}function BD(e){return e.resolve||{}}function zD(e){return"string"==typeof e.title||null===e.title}function Zg(e){return $r(t=>{const n=e(t);return n?bn(n).pipe(Ge(()=>t)):Oe(t)})}const el=new fe("ROUTES");let Jg=(()=>{class e{constructor(n,i){this.injector=n,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Oe(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const i=Vs(n.loadComponent()).pipe(Ge(UD),Fn(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Wh(()=>{this.componentLoaders.delete(n)})),r=new $S(i,()=>new cr).pipe(Ag());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Oe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(Ge(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,u,c=!1;Array.isArray(a)?u=a:(l=a.create(n).injector,u=QS(l.get(el,[],Ue.Self|Ue.Optional)));return{routes:u.map(Kg),injector:l}}),Wh(()=>{this.childrenLoaders.delete(i)})),o=new $S(s,()=>new cr).pipe(Ag());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(n){return Vs(n()).pipe(Ge(UD),Hn(r=>r instanceof IC||Array.isArray(r)?Oe(r):bn(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(n){return new(n||e)(ge(Ji),ge(b0))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function UD(e){return function zH(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let ud=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new cr,this.configLoader=ut(Jg),this.environmentInjector=ut(as),this.urlSerializer=ut(pu),this.rootContexts=ut(bu),this.navigationId=0,this.afterPreactivation=()=>Oe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new kz(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Iz(r))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:i})}setupNavigations(n){return this.transitions=new Dr({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yu,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Wr(i=>0!==i.id),Ge(i=>({...i,extractedUrl:n.urlHandlingStrategy.extract(i.rawUrl)})),$r(i=>{let r=!1,s=!1;return Oe(i).pipe(Fn(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),$r(o=>{const a=n.browserUrlTree.toString(),l=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const c="";return this.events.next(new dD(o.id,n.serializeUrl(i.rawUrl),c,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),Ar}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return jD(o.source)&&(n.browserUrlTree=o.extractedUrl),Oe(o).pipe($r(c=>{const h=this.transitions?.getValue();return this.events.next(new Vg(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),h!==this.transitions?.getValue()?Ar:Promise.resolve(c)}),function SH(e,t,n,i){return $r(r=>function TH(e,t,n,i,r){return new CH(e,t,n,i,r).apply()}(e,t,n,r.extractedUrl,i).pipe(Ge(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Fn(c=>{this.currentNavigation={...this.currentNavigation,finalUrl:c.urlAfterRedirects},i.urlAfterRedirects=c.urlAfterRedirects}),function OH(e,t,n,i,r){return Hn(s=>function IH(e,t,n,i,r,s,o="emptyOnly"){return new kH(e,t,n,i,r,o,s).recognize().pipe($r(a=>null===a?function MH(e){return new dn(t=>t.error(e))}(new DH):Oe(a)))}(e,t,n,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe(Ge(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Fn(c=>{if(i.targetSnapshot=c.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!c.extras.skipLocationChange){const d=n.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl);n.setBrowserUrl(d,c)}n.browserUrlTree=c.urlAfterRedirects}const h=new Tz(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:c,extractedUrl:h,source:d,restoredState:f,extras:p}=o,m=new Vg(c,this.urlSerializer.serialize(h),d,f);this.events.next(m);const g=vD(h,this.rootComponentType).snapshot;return Oe(i={...o,targetSnapshot:g,urlAfterRedirects:h,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const c="";return this.events.next(new dD(o.id,n.serializeUrl(i.extractedUrl),c,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),Ar}}),Fn(o=>{const a=new Cz(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Ge(o=>i={...o,guards:Xz(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function oH(e,t){return Hn(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Oe({...n,guardsResult:!0}):function aH(e,t,n,i){return bn(e).pipe(Hn(r=>function fH(e,t,n,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Oe(s.map(a=>{const l=wu(t)??r,u=Za(a,l);return Vs(function iH(e){return e&&Su(e.canDeactivate)}(u)?u.canDeactivate(e,t,n,i):l.runInContext(()=>u(e,t,n,i))).pipe(Ls())})).pipe(Ja()):Oe(!0)}(r.component,r.route,n,t,i)),Ls(r=>!0!==r,!0))}(o,i,r,e).pipe(Hn(a=>a&&function Jz(e){return"boolean"==typeof e}(a)?function lH(e,t,n,i){return bn(t).pipe(Ns(r=>jh(function cH(e,t){return null!==e&&t&&t(new Ez(e)),Oe(!0)}(r.route.parent,i),function uH(e,t){return null!==e&&t&&t(new xz(e)),Oe(!0)}(r.route,i),function dH(e,t,n){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function Qz(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(o)).filter(o=>null!==o).map(o=>jS(()=>Oe(o.guards.map(l=>{const u=wu(o.node)??n,c=Za(l,u);return Vs(function nH(e){return e&&Su(e.canActivateChild)}(c)?c.canActivateChild(i,e):u.runInContext(()=>c(i,e))).pipe(Ls())})).pipe(Ja())));return Oe(s).pipe(Ja())}(e,r.path,n),function hH(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Oe(!0);const r=i.map(s=>jS(()=>{const o=wu(t)??n,a=Za(s,o);return Vs(function tH(e){return e&&Su(e.canActivate)}(a)?a.canActivate(t,e):o.runInContext(()=>a(t,e))).pipe(Ls())}));return Oe(r).pipe(Ja())}(e,r.route,n))),Ls(r=>!0!==r,!0))}(i,s,e,t):Oe(a)),Ge(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Fn(o=>{if(i.guardsResult=o.guardsResult,xo(o.guardsResult))throw wD(0,o.guardsResult);const a=new Sz(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Wr(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),Zg(o=>{if(o.guards.canActivateChecks.length)return Oe(o).pipe(Fn(a=>{const l=new Dz(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),$r(a=>{let l=!1;return Oe(a).pipe(function RH(e,t){return Hn(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Oe(n);let s=0;return bn(r).pipe(Ns(o=>function FH(e,t,n,i){const r=e.routeConfig,s=e._resolve;return void 0!==r?.title&&!zD(r)&&(s[du]=r.title),function LH(e,t,n,i){const r=function NH(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===r.length)return Oe({});const s={};return bn(r).pipe(Hn(o=>function VH(e,t,n,i){const r=wu(t)??i,s=Za(e,r);return Vs(s.resolve?s.resolve(t,n):r.runInContext(()=>s(t,n)))}(e[o],t,n,i).pipe(Ls(),Fn(a=>{s[o]=a}))),xg(1),function KB(e){return Ge(()=>e)}(s),gs(o=>Xg(o)?Ar:Wa(o)))}(s,e,t,i).pipe(Ge(o=>(e._resolvedData=o,e.data=yD(e,n).resolve,r&&zD(r)&&(e.data[du]=r.title),null)))}(o.route,i,e,t)),Fn(()=>s++),xg(1),Hn(o=>s===r.length?Oe(n):Ar))})}(n.paramsInheritanceStrategy,this.environmentInjector),Fn({next:()=>l=!0,complete:()=>{l||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Fn(a=>{const l=new Mz(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Zg(o=>{const a=l=>{const u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(Fn(c=>{l.component=c}),Ge(()=>{})));for(const c of l.children)u.push(...a(c));return u};return Eg(a(o.targetSnapshot.root)).pipe($h(),ko(1))}),Zg(()=>this.afterPreactivation()),Ge(o=>{const a=function Vz(e,t,n){const i=_u(e,t._root,n?n._root:void 0);return new gD(i,t)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return i={...o,targetRouterState:a}}),Fn(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((e,t,n)=>Ge(i=>(new Kz(t,i.targetRouterState,i.currentRouterState,n).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o)),Fn({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new Po(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),Wh(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),gs(o=>{if(s=!0,SD(o)){CD(o)||(n.navigated=!0,n.restoreHistory(i,!0));const a=new Jh(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),CD(o)){const l=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),u={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||jD(i.source)};n.scheduleNavigation(l,yu,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{n.restoreHistory(i,!0);const a=new fD(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);this.events.next(a);try{i.resolve(n.errorHandler(o))}catch(l){i.reject(l)}}return Ar}))}))}cancelNavigationTransition(n,i,r){const s=new Jh(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(s),n.resolve(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function jD(e){return e!==yu}let $D=(()=>{class e{buildTitle(n){let i,r=n.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===nt);return i}getResolvedTitleForRoute(n){return n.data[du]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ae({token:e,factory:function(){return ut(HH)},providedIn:"root"}),e})(),HH=(()=>{class e extends $D{constructor(n){super(),this.title=n}updateTitle(n){const i=this.buildTitle(n);void 0!==i&&this.title.setTitle(i)}}return e.\u0275fac=function(n){return new(n||e)(ge(FS))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),UH=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ae({token:e,factory:function(){return ut($H)},providedIn:"root"}),e})();class jH{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let $H=(()=>{class e extends jH{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=function $n(e){return Es(()=>{const t=e.prototype.constructor,n=t[ns]||ap(t),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const s=r[ns]||ap(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}(e)))(i||e)}}(),e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const cd=new fe("",{providedIn:"root",factory:()=>({})});let GH=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ae({token:e,factory:function(){return ut(qH)},providedIn:"root"}),e})(),qH=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function KH(e){throw e}function XH(e,t,n){return t.parse("/")}const QH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},YH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Di=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ut(TN),this.isNgZoneEnabled=!1,this.options=ut(cd,{optional:!0})||{},this.errorHandler=this.options.errorHandler||KH,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||XH,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ut(GH),this.routeReuseStrategy=ut(UH),this.urlCreationStrategy=ut(Fz),this.titleStrategy=ut($D),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=QS(ut(el,{optional:!0})??[]),this.navigationTransitions=ut(ud),this.urlSerializer=ut(pu),this.location=ut(rg),this.isNgZoneEnabled=ut(Lt)instanceof Lt&&Lt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Eo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=vD(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),yu,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const i="popstate"===n.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,i,n.state)},0)}))}navigateToSyncWithBrowser(n,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(Kg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:o;let c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...s};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=s||null}return null!==c&&(c=this.removeEmptyProps(c)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,n,c,u??null)}navigateByUrl(n,i={skipLocationChange:!1}){const r=xo(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,yu,null,i)}navigate(n,i={skipLocationChange:!1}){return function ZH(e){for(let t=0;t<e.length;t++){if(null==e[t])throw new Y(4008,!1)}}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let i;try{i=this.urlSerializer.parse(n)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,n)}return i}isActive(n,i){let r;if(r=!0===i?{...QH}:!1===i?{...YH}:i,xo(n))return JS(this.currentUrlTree,n,r);const s=this.parseUrl(n);return JS(this.currentUrlTree,s,r)}removeEmptyProps(n){return Object.keys(n).reduce((i,r)=>{const s=n[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(n,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u,c;return o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((h,d)=>{a=h,l=d}),c="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:c,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}setBrowserUrl(n,i){const r=this.urlSerializer.serialize(n),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(n,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class GD{}let t3=(()=>{class e{constructor(n,i,r,s,o){this.router=n,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Wr(n=>n instanceof Po),Ns(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=dh(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return bn(r).pipe(ta())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(n,i):Oe(null);const s=r.pipe(Hn(o=>null===o?Oe(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return i.loadComponent&&!i._loadedComponent?bn([s,this.loader.loadComponent(i)]).pipe(ta()):s})}}return e.\u0275fac=function(n){return new(n||e)(ge(Di),ge(b0),ge(as),ge(GD),ge(Jg))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const tv=new fe("");let qD=(()=>{class e{constructor(n,i,r,s,o={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Vg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Po&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof pD&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new pD(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(n){!function Aw(){throw new Error("invalid")}()},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})();function Oo(e,t){return{\u0275kind:e,\u0275providers:t}}function XD(){const e=ut(Ji);return t=>{const n=e.get(ru);if(t!==n.components[0])return;const i=e.get(Di),r=e.get(QD);1===e.get(iv)&&i.initialNavigation(),e.get(YD,null,Ue.Optional)?.setUpPreloading(),e.get(tv,null,Ue.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const QD=new fe("",{factory:()=>new cr}),iv=new fe("",{providedIn:"root",factory:()=>1});const YD=new fe("");function a3(e){return Oo(0,[{provide:YD,useExisting:t3},{provide:GD,useExisting:e}])}const ZD=new fe("ROUTER_FORROOT_GUARD"),l3=[rg,{provide:pu,useClass:Pg},Di,bu,{provide:Ya,useFactory:function KD(e){return e.routerState.root},deps:[Di]},Jg,[]];function u3(){return new I0("Router",Di)}let JD=(()=>{class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[l3,[],{provide:el,multi:!0,useValue:n},{provide:ZD,useFactory:f3,deps:[[Di,new xs,new va]]},{provide:cd,useValue:i||{}},i?.useHash?{provide:Io,useClass:c2}:{provide:Io,useClass:Q0},{provide:tv,useFactory:()=>{const e=ut(EV),t=ut(Lt),n=ut(cd),i=ut(ud),r=ut(pu);return n.scrollOffset&&e.setOffset(n.scrollOffset),new qD(r,i,e,t,n)}},i?.preloadingStrategy?a3(i.preloadingStrategy).\u0275providers:[],{provide:I0,multi:!0,useFactory:u3},i?.initialNavigation?p3(i):[],[{provide:eM,useFactory:XD},{provide:y0,multi:!0,useExisting:eM}]]}}static forChild(n){return{ngModule:e,providers:[{provide:el,multi:!0,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(ge(ZD,8))},e.\u0275mod=An({type:e}),e.\u0275inj=wn({imports:[Gg]}),e})();function f3(e){return"guarded"}function p3(e){return["disabled"===e.initialNavigation?Oo(3,[{provide:vh,multi:!0,useFactory:()=>{const t=ut(Di);return()=>{t.setUpLocationChangeListener()}}},{provide:iv,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Oo(2,[{provide:iv,useValue:0},{provide:vh,multi:!0,deps:[Ji],useFactory:t=>{const n=t.get(l2,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const s=t.get(Di),o=t.get(QD);(function i(r){t.get(Di).events.pipe(Wr(o=>o instanceof Po||o instanceof Jh||o instanceof fD),Ge(o=>o instanceof Po||o instanceof Jh&&(0===o.code||1===o.code)&&null),Wr(o=>null!==o),ko(1)).subscribe(()=>{r()})})(()=>{r(!0)}),t.get(ud).afterPreactivation=()=>(r(!0),o.closed?Oe(void 0):o),s.initialNavigation()}))}}]).\u0275providers:[]]}const eM=new fe(""),vt={Auto:0,Left:2,Right:3},At={Auto:0,Vertical:1,Horizontal:2,Matrix:3},L={AliceBlue:"#f0f8ff",AntiqueWhite:"#faebd7",Aqua:"#00ffff",Aquamarine:"#7fffd4",Azure:"#f0ffff",Beige:"#f5f5dc",Bisque:"#ffe4c4",Black:"#000000",BlanchedAlmond:"#ffebcd",Blue:"#0000ff",BlueViolet:"#8a2be2",Brown:"#a52a2a",BurlyWood:"#deb887",Bronze:"#cd7f32",CadetBlue:"#5f9ea0",ChartReuse:"#7fff00",Chocolate:"#d2691e",Coral:"#ff7f50",CornflowerBlue:"#6495ed",Cornsilk:"#fff8dc",Crimson:"#dc143c",Cyan:"#00ffff",DarkBlue:"#00008b",DarkCyan:"#008b8b",DarkGoldenrod:"#b8860b",DarkGray:"#a9a9a9",DarkGreen:"#006400",DarkKhaki:"#bdb76b",DarkMagenta:"#8b008b",DarkOliveGreen:"#556b2f",Darkorange:"#ff8c00",DarkOrchid:"#9932cc",DarkRed:"#8b0000",DarkSalmon:"#e9967a",DarkSeaGreen:"#8fbc8f",DarkSlateBlue:"#483d8b",DarkSlateGray:"#2f4f4f",DarkTurquoise:"#00ced1",DarkViolet:"#9400d3",DeepPink:"#ff1493",DeepSkyBlue:"#00bfff",DimGray:"#696969",DodgerBlue:"#1e90ff",FireBrick:"#b22222",FloralWhite:"#fffaf0",ForestGreen:"#228b22",Fuchsia:"#ff00ff",Gainsboro:"#dcdcdc",GhostWhite:"#f8f8ff",Gold:"#ffd700",Goldenrod:"#daa520",Gray:"#808080",Green:"#008000",GreenYellow:"#adff2f",Honeydew:"#f0fff0",Hotpink:"#ff69b4",IndianRed:"#cd5c5c",Indigo:"#4b0082",Ivory:"#fffff0",Khaki:"#f0e68c",Lavender:"#e6e6fa",LavenderBlush:"#fff0f5",Lawngreen:"#7cfc00",Lemonchiffon:"#fffacd",LightBlue:"#add8e6",LightCoral:"#f08080",LightCyan:"#e0ffff",LightGoldenrodYellow:"#fafad2",LightGray:"#d3d3d3",LightGreen:"#90ee90",LightPink:"#ffb6c1",LightSalmon:"#ffa07a",LightSeaGreen:"#20b2aa",LightSkyBlue:"#87cefa",LightSlateGray:"#778899",LightSteelBlue:"#b0c4de",LightYellow:"#ffffe0",Lime:"#00ff00",Limegreen:"#32cd32",Linen:"#faf0e6",Magenta:"#ff00ff",Maroon:"#800000",MediumAquamarine:"#66cdaa",MediumBlue:"#0000cd",MediumOrchid:"#ba55d3",MediumPurple:"#9370d8",MediumSeaGreen:"#3cb371",MediumSlateBlue:"#7b68ee",MediumSpringGreen:"#00fa9a",MediumTurquoise:"#48d1cc",MediumVioletRed:"#c71585",MidnightBlue:"#191970",MintCream:"#f5fffa",MistyRose:"#ffe4e1",Moccasin:"#ffe4b5",NavajoWhite:"#ffdead",Navy:"#000080",Oldlace:"#fdf5e6",Olive:"#808000",Olivedrab:"#6b8e23",Orange:"#ffa500",OrangeRed:"#ff4500",Orchid:"#da70d6",PaleGoldenRod:"#eee8aa",PaleGreen:"#98fb98",PaleTurquoise:"#afeeee",PaleVioletRed:"#d87093",Papayawhip:"#ffefd5",Peachpuff:"#ffdab9",Peru:"#cd853f",Pink:"#ffc0cb",Plum:"#dda0dd",PowderBlue:"#b0e0e6",Purple:"#800080",Red:"#ff0000",RosyBrown:"#bc8f8f",RoyalBlue:"#4169e1",SaddleBrown:"#8b4513",Salmon:"#fa8072",SandyBrown:"#f4a460",SeaGreen:"#2e8b57",Seashell:"#fff5ee",Sienna:"#a0522d",Silver:"#c0c0c0",SkyBlue:"#87ceeb",SlateBlue:"#6a5acd",SlateGray:"#708090",Snow:"#fffafa",SpringGreen:"#00ff7f",SteelBlue:"#4682b4",Tan:"#d2b48c",Teal:"#008080",Thistle:"#d8bfd8",Tomato:"#ff6347",Turquoise:"#40e0d0",Violet:"#ee82ee",Wheat:"#f5deb3",White:"#ffffff",WhiteSmoke:"#f5f5f5",Yellow:"#ffff00",YellowGreen:"#9acd32"},Ro={From:0,Between:1,To:2},hd={Offbeat:0,Straight:1},Fo={Squared:0,Angular:1,Curved:2},Bs={None:0,Dot:1,Bevel:2,Round:3},Re={Auto:0,True:1,False:2},yt={None:0,Parents:1,Children:2},Ie={Center:0,Left:1,Right:2},dt={Regular:0,Assistant:1,SubAssistant:4,Adviser:2,SubAdviser:5,GeneralPartner:6,LimitedPartner:7,AdviserPartner:8},Qt={Solid:0,Dotted:1,Dashed:2},zs={Default:0,CursorOnly:1,HighlightOnly:3,Inactive:2},dd={ParentsAndChildren:0,ParentsChildrenSiblingsAndSpouses:1},qe={Top:0,Bottom:1,Left:2,Right:3,None:4},sn={None:0,PageWidth:1,PageHeight:2,FitToPage:3,AutoSize:5,SelectionOnly:6},be={Auto:0,TopLeft:8,Top:1,TopRight:2,RightTop:11,Right:3,RightBottom:12,BottomRight:4,Bottom:5,BottomLeft:6,LeftBottom:10,Left:7,LeftTop:9},Hs={None:0,FullStack:1},en={Rectangle:0,Oval:1,Triangle:2,CrossOut:3,Circle:4,Rhombus:5,Wedge:7,FramedOval:8,FramedTriangle:9,FramedWedge:10,FramedRhombus:11,None:6},it={Horizontal:0,RotateLeft:1,RotateRight:2,Auto:3},Le={Top:0,Middle:1,Bottom:2},ie={Auto:0,Normal:1,Dot:2,Line:3,Invisible:4},xt={Auto:0,Background:1,Foreground:2};let fd;function pd(e){var t,s,a;if("#"===e.substr(0,1))return e;if(null!==(t=/(.*?)rgb\((\d+), (\d+), (\d+)\)/.exec(e))&&t.length>0)return s=(parseInt(t[2],10)<<16|parseInt(t[3],10)<<8|parseInt(t[4],10)).toString(16),t[1]+"000000".substr(0,6-s.length)+s;if(void 0===fd)for(a in fd={},L)L.hasOwnProperty(a)&&(fd[a.toUpperCase()]=L[a]);return fd[e.toUpperCase()]}function Lo(e){return"#"===e.substr(0,1)&&7===e.length?parseInt(e.substr(1,2),16):null}const rv={};function tM(e,t,n){var i=t,r=e+","+t+","+n;return rv.hasOwnProperty(r)?i=rv[r]:(nM(t,e)<nM(n,e)&&(i=n),rv[r]=i),i}function nM(e,t){var i=pd(e),r=pd(t),s=.2126*Math.pow(Lo(i)/255,2.2)+.7152*Math.pow(Lo(i)/255,2.2)+.0722*Math.pow(Lo(i)/255,2.2),o=.2126*Math.pow(Lo(r)/255,2.2)+.7152*Math.pow(Lo(r)/255,2.2)+.0722*Math.pow(Lo(r)/255,2.2);return s>o?(s+.05)/(o+.05):(o+.05)/(s+.05)}function Fe(e,t){switch(this.width=0,this.height=0,arguments.length){case 1:this.width=e.width,this.height=e.height;break;case 2:this.width=e,this.height=t}}function nl(e){var t=e.getBoundingClientRect(),i=e.ownerDocument.documentElement;return{top:t.top+window.pageYOffset-i.clientTop,left:t.left+window.pageXOffset-i.clientLeft}}function Ni(e){var t=!0;return null!=e&&e.toString().length>0&&(t=!1),t}function b3(e){for(var t=[],n="",i=0;i<e.length;i+=1){var r=e[i];r>="A"&&r<="Z"?(""!==n&&t.push(n),n=r):n+=r}return""!==n&&t.push(n),t}function ku(e){return null!==e&&"object"==typeof e}function gd(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function Bn(e,t){var n;if(null===e)n=null;else if(Array.isArray(e))if(t)n=e.slice(0);else{n=[];for(var i=0,r=e.length;i<r;i+=1)n.push(Bn(e[i],t))}else if("object"==typeof e)for(var s in n={},e)e.hasOwnProperty(s)&&(n[s]=t?e[s]:Bn(e[s],t));else n=e;return n}function w3(e,t){for(var n=1;n<arguments.length;n+=1){var i=arguments[n];if(void 0!==i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}function Ir(e){var t={},n={},i={},r={},s={};function g(N,B,U){var X,Q,G,ae;if(null!=t[B]&&null!=(X=i[B]))for(G=0,ae=X.length;G<ae&&!U.call(N,Q=X[G],t[Q],G,ae-1);G+=1);}function C(N){var B=null;return null!=n[N]&&(B=n[N]),B}function V(N,B){var U,X=N.length;for(U=0;U<X;U+=1)if(N[U]==B)return N.splice(U,1),X-1;return X}function x(N){return t[N]}function re(N,B,U){if(null!=U&&t.hasOwnProperty(B)){var X=C(B);if(null!=X&&U.call(N,X,t[X]))return;g(N,X,function(Q,G){Q!=B&&U.call(N,Q,G)}),g(N,B,function(Q,G){U.call(N,Q,G)})}}return function l(N){ku(N)&&(t=Bn(N.nodes,!0),n=Bn(N.parents,!0),i=Bn(N.children,!1),r=Bn(N.roots,!1),s=Bn(N.rootChildren,!0))}(e),{loop:function u(N,B){var U;if(null!=B)for(U in t)if(t.hasOwnProperty(U)&&B.call(N,U,t[U]))break},loopLevels:function c(N,B,U){var G,ae,de,je,Ot,Zt,X=0,Q=[];switch(arguments.length){case 2:ae=B;break;case 3:G=B,ae=U}if(null!=ae){if(null==G)for(je in s)s.hasOwnProperty(je)&&(Q=Q.concat(s[je]));else null!=i[G]&&(Q=Q.concat(i[G]));for(;Q.length>0;){for(de=[],Ot=0,Zt=Q.length;Ot<Zt;Ot+=1)switch(G=Q[Ot],ae.call(N,G,t[G],X)){case 1:de=[];break;case 2:break;default:null!=i[G]&&(de=de.concat(i[G]))}Q=de,X+=1}}},loopParents:function m(N,B,U,X){var Q=B;if(null!=t[Q]&&null!=U){if(!0===X&&U.call(N,Q,t[Q]))return;for(;null!=(Q=n[Q])&&!U.call(N,Q,t[Q]););}},loopChildren:g,loopChildrenRange:function _(N,B,U,X,Q){var G,ae,de;if(null!=t[B]&&null!=(G=i[B]))if(U<X)for(U=Math.max(U,0),X=Math.min(X,G.length-1),de=U;de<=X&&!Q.call(N,ae=G[de],t[ae],de,NaN);de+=1);else for(U=Math.min(U,G.length-1),X=Math.max(0,X),de=U;de>=X&&!Q.call(N,ae=G[de],t[ae],de,NaN);de-=1);},loopChildrenReversed:function b(N,B,U){var X,Q,G,ae;if(null!=t[B]&&(ae=(X=i[B]).length-1,null!=X))for(G=ae;G>=0&&!U.call(N,Q=X[G],t[Q],G,ae);G-=1);},loopPostOrder:function h(N,B){var X,Q,G,ae,de,U=[];if(null!=B){for(Q in s)s.hasOwnProperty(Q)&&(U=U.concat(s[Q]));for(;U.length>0;)if((X=U[U.length-1])!=ae&&null!=(de=i[X]))for(G=de.length-1;G>=0;G-=1)U.push(de[G]);else if(U.pop(),B.call(N,X,t[X],ae=n[X],t[ae]))break}},loopPreOrder:function d(N,B,U){var Q,G,ae,de,je,Ot,Zt,Zn,X=[];switch(arguments.length){case 2:Zn=B;break;case 3:Zt=B,Zn=U}if(null!=Zn){if(x(Zt))X.push(Zt);else for(G in s)s.hasOwnProperty(G)&&(X=X.concat(s[G]));for(;X.length>0&&((Q=X[X.length-1])==je||!Zn.call(N,Q,t[Q],de=n[Q],t[de]));)if(Q!=je&&null!=(Ot=i[Q]))for(ae=Ot.length-1;ae>=0;ae-=1)X.push(Ot[ae]);else X.pop(),je=n[Q]}},loopEulerWalk:function f(N,B){var X,ae,de,je,Ot,Zt,U=[],Q=[],G=0;if(null!=B){for(ae in s)if(s.hasOwnProperty(ae))for(de=0,je=(Zt=s[ae]).length;de<je;de+=1)U.push(Zt[de]),Q.push(0);for(;U.length>0&&!B.call(N,X=U[de=U.length-1],t[X],G=Q[de]);)if(X!=Ot&&null!=(Zt=i[X]))for(de=Zt.length-1;de>=0;de-=1)U.push(Zt[de]),Q.push(G+1),de>0&&(U.push(X),Q.push(G));else U.pop(),Q.pop(),Ot=n[X]}},loopNeighbours:function W(N,B,U,X){var ae,Q={},G=[B],de=0;if(null!=X&&t.hasOwnProperty(B))for(Q[B]=!0;G.length>0;){ae=[];for(var je=0,Ot=G.length;je<Ot;je+=1){var Zt=G[je];if(de>0&&X.call(N,Zt,t[Zt],de))return;de<U&&re(this,Zt,function(Zn,ml){Q.hasOwnProperty(Zn)||(ae.push(Zn),Q[Zn]=!0)})}G=ae,de+=1}},zipUp:function p(N,B,U,X){var Q,G;if(null!=X)for(;null!=B&&null!=U&&B!=U&&!X.call(N,B,Q=n[B],U,G=n[U]);)B=Q,U=G},parentid:C,parent:function M(N){var B=null;return null!=n[N]&&(B=t[n[N]]),B},adopt:function k(N,B){if(null==t[N]||null==t[B])throw"Both parent and child should be in hierarchy!";if(N==B)throw"Item cannot be parent of itself!";r.hasOwnProperty(B)&&(V(s[r[B]],B)||delete s[r[B]],delete r[B]),n.hasOwnProperty(B)&&(V(i[n[B]],B)||delete i[n[B]]),n[B]=N,null!=i[N]?i[N].push(B):i[N]=[B]},moveChildren:function S(N,B){null!=t[N]&&null!=t[B]&&N!=B&&null!=i[N]&&(g(this,N,function(U,X,Q){n[U]=B}),i[B]=null!=i[B]?i[B].concat(i[N]):i[N],delete i[N])},node:x,add:function v(N,B,U,X){var Q,G,ae,de;if(null!=t[B])throw"Node already exists";if(null!=B&&null!=U&&null==t[B]&&(null!=t[N]?(n[B]=N,null!=i[N]?null==X?i[N].push(B):i[N].splice(X,0,B):i[N]=[B]):(r[B]=N,null!=s[N]?null==X?s[N].push(B):s[N].splice(X,0,B):s[N]=[B]),t[B]=U,null!=s[B]))for(i[B]=s[B],delete s[B],Q=0,G=(ae=i[B]).length;Q<G;Q+=1)delete r[de=ae[Q]],n[de]=B},insert:function w(N,B,U){null!=t[N]&&null!=B&&null==t[B]&&null!=U&&(t[B]=U,null!=i[N]&&(i[B]=i[N]),i[N]=[B],g(this,B,function(X,Q,G){n[X]=B}),n[B]=N)},hasNodes:function T(){return!gd(s)},hasChildren:function D(N){return null!=i[N]},countChildren:function I(N){return null!=i[N]?i[N].length:0},countSiblings:function E(N){var B=C(N);return null!=B?i[B].length:0},indexOf:function P(N){var B=C(N);return null!=B?i[B].findIndex(U=>U===N):null},getChild:function O(N,B){var X,U=null;return null!=(X=i[N])&&(U=t[X[B]]),U},arrangeChildren:function y(N,B){var U,X,Q;if(B=B.slice(0),null!=t[N])if(null!=i[N]){if(i[N].length!=B.length)throw"Collections of children don't match each other!";for(X=0,Q=B.length;X<Q;X+=1)if(n[U=B[X]]!=N)throw"Child "+U+" does not belong to given node!";i[N]=B}else if(B.length>0)throw"Collections of children don't match each other!"},validate:function F(){var B,N=!0;for(B in r)if(r.hasOwnProperty(B)&&null!=r[B]){N=!1;break}return N},clone:function z(){return Ir({nodes:t,parents:n,children:i,roots:r,rootChildren:s})},BREAK:1,SKIP:2}}function T3(e){this.key=e.key,this.priority=e.priority,this.item=e.item}function iM(e){var t=null,i={};function r(b,y,v){this.key=b,this.priority=y,this.item=v,this.degree=0,this.marked=!1,this.parent=null,this.child=null,this.left=null,this.right=null}function a(b,y){var v=i[b.right];y.right=b.right,y.left=b.key,b.right=y.key,v.left=y.key}function l(b){var y=i[b.left],v=i[b.right];y.right=v.key,v.left=y.key,b.right=b.key,b.left=b.key}function c(){var b=null;return null!=t&&(b=new T3(i[t])),b}function h(){var b=c();if(null!=b){var y=i[t],v=i[y.right];if(null!=y.child){var w=i[y.child],S=i[w.left];y.right=w.key,v.left=S.key,w.left=y.key,S.right=v.key,l(y),delete i[y.key],t=null,d(w.key)}else l(y),delete i[y.key],t=null,v.key!=y.key&&d(v.key)}return b}function d(b){for(var v,y=[],w={},S=b;!w.hasOwnProperty(S);){var T=i[S],C=T.right;for(w[S]=!0,T.parent=null;null!=(v=y[T.degree]);)(e?T.priority>v.priority:T.priority<v.priority)?f(T,v):(f(v,T),T=v),y[T.degree-1]=null;y[T.degree]=T,(null==t||null==i[t]||(e?i[t].priority<=T.priority:i[t].priority>=T.priority))&&(t=T.key),S=C}}function f(b,y){b.degree+=1,l(y);var v=i[b.child];null!=v?(a(v,y),(e?v.priority<y.priority:v.priority>y.priority)&&(b.child=y.key)):b.child=y.key,y.parent=b.key}function p(b,y){var v=i[b];if(e?v.priority>y:v.priority<y)throw"Priority increase is not supported";if(v.priority=y,null!=v.parent){var w=i[v.parent];(e?w.priority<v.priority:w.priority>v.priority)&&(m(w,v),g(w))}(e?i[t].priority<v.priority:i[t].priority>v.priority)&&(t=v.key)}function m(b,y){y.marked=!1,y.parent=null,y.right==y.key?b.child=null:(b.child=y.right,l(y)),b.degree-=1,a(i[t],y)}function g(b){if(null!=b.parent)if(b.marked){var y=i[b.parent];m(y,b),g(y)}else b.marked=!0}return{add:function o(b,y,v){if(i.hasOwnProperty(b))throw"Duplicate keys are not supported!";var w=new r(b,y,v);if(i[b]=w,null==t)w.left=b,w.right=b,t=b;else{var S=i[t];a(S,w),(e?S.priority<w.priority:S.priority>w.priority)&&(t=b)}},getPriority:function u(b){var y=null;return i.hasOwnProperty(b)&&(y=i[b].priority),y},setPriority:p,heapRoot:c,extractRoot:h,deleteKey:function _(b){p(b,e?1/0:-1),h()},validate:function s(){var b=0;for(var y in i)if(i.hasOwnProperty(y)){var v=i[y];if(b+=1,null!=v.child){if(!i.hasOwnProperty(v.child))throw"Child does not exists";var w=i[v.child];if(w.parent!=v.key)throw"Child references wrong parent"}if(null!=v.parent&&!i.hasOwnProperty(v.parent))throw"Parent does not exists";if(null!=v.left){if(!i.hasOwnProperty(v.left))throw"Left does not exists";if((w=i[v.left]).right!=v.key)throw"Left references wrong right"}if(null!=v.right){if(!i.hasOwnProperty(v.right))throw"Right does not exists";if((w=i[v.right]).left!=v.key)throw"Right references wrong left"}}if(null==t&&b>0)throw"Orphans";if(null!=t){if(!i.hasOwnProperty(t))throw"Root node does not exists";if(null!=(v=i[t]).parent)throw"Root node has parent reference";for(var S=[t],T={},C=0;S.length>0;){for(var M=[],D=0,I=S.length;D<I;D+=1)for(var E=i[S[D]];!T.hasOwnProperty(E.key);)T[E.key]=!0,C+=1,null!=E.child&&M.push(E.child),E=i[E.right];S=M}if(b!=C)throw"Tree has loops or orpants"}}}}function No(){var e={};function l(b,y,v,w){var T,C,M,D,I,E,S=[];if(S.push(y),v[y]=!0,null!=w)for(;S.length>0;){for(C=[],M=0,D=S.length;M<D;M+=1){if(w.call(b,T=S[M]))return;for(E in I=e[T])I.hasOwnProperty(E)&&!v.hasOwnProperty(E)&&(v[E]=!0,C.push(E))}S=C}}function c(b,y){var w,S,T,v=null,C=0,M=null;for(w in e)if(e.hasOwnProperty(w)){for(T in C=0,S=e[w])S.hasOwnProperty(T)&&(C+=y.call(b,S[T],w,T));(C>M||null==M)&&(v=w,M=C)}return v}function f(b,y,v,w,S){var C,D,P,O,V,k,x,F,z,W,T={},M=[],I={},E=0;if(null!=v&&null!=w&&(null==y&&(y=c(b,v)),null!=y))for(w.call(b,y),T[y]=!0,E+=1,I[y]=null;E>0;){for(C in M=[],P=null,O=null,V={},T)if(T.hasOwnProperty(C)){for(x in D=!1,k=e[C])if(k.hasOwnProperty(x)&&!I.hasOwnProperty(x))switch(F=v.call(b,k[x],C,x),D=!0,S){case 1:null==V[x]&&(V[x]=0),V[x]+=F,(!O||V[x]>O)&&(P=x,O=V[x]);break;case 2:V[x]=null==V[x]?F:Math.min(V[x],F),(!O||V[x]<O)&&(P=x,O=V[x])}D||M.push(C)}if(null==P)break;for(T[P]=!0,E+=1,I[P]=!0,w.call(b,P),z=0,W=M.length;z<W;z+=1)delete T[M[z]],E-=1}}return{addEdge:function i(b,y,v){(null==e[b]||null==e[b][y])&&null!=v&&(null==e[b]&&(e[b]={}),e[b][y]=v,null==e[y]&&(e[y]={}),e[y][b]=v)},edge:function r(b,y){var v=null;return null!=e[b]&&e[b][y]&&(v=e[b][y]),v},hasNode:function s(b){return e.hasOwnProperty(b)},loopNodes:function a(b,y,v){var w={};if(null==y)for(y in e)e.hasOwnProperty(y)&&(w.hasOwnProperty[y]||l(b,y,w,v));else l(b,y,w,v)},loopNodeEdges:function o(b,y,v){var w,S;if(null!=v&&null!=(w=e[y]))for(S in w)w.hasOwnProperty(S)&&v.call(b,S,w[S])},getSpanningTree:function u(b,y){var S,C,M,D,I,v=Ir(),w=iM(!0),T={};for(w.add(b,0,null),T[b]=null;null!=(S=w.extractRoot());){for(M in C=e[S.key])C.hasOwnProperty(M)&&!v.node(M)&&(D=null!=y?y(C[M]):C[M],null==(I=w.getPriority(M))?(w.add(M,D,null),T[M]=S.key.toString()):I<=D&&(w.setPriority(M,D),T[M]=S.key.toString()));v.add(T[S.key],S.key.toString(),{})}return v},getTotalWeightGrowthSequence:function h(b,y,v){f(b,c(b,y),y,v,1)},getMinimumWeightGrowthSequence:function d(b,y,v,w){f(b,y,v,w,2)},getShortestPath:function p(b,y,v,w,S){var D,I,E,P,O,V,k,F,z,T=iM(!1),C={},M={},x={},W=0,re=0;for(F=0,z=v.length;F<z;F+=1)x.hasOwnProperty(I=v[F])||(W+=1,x[I]=!0);for(T.add(y,0,null),M[y]=null;null!=(D=T.extractRoot());){for(I in E=e[D.key])E.hasOwnProperty(I)&&(O=1,null!=w?(O=w.call(b,E[I],D,I),P=D.priority+O):P=D.priority+1,O>=0&&(null!=(C=T.getPriority(I))?C>P&&(T.setPriority(I,P),M[I]=D.key):M.hasOwnProperty(I)||(T.add(I,P,null),M[I]=D.key)));if(x.hasOwnProperty(D.key)){for(V=[],k=D.key;null!=k;)V.push(k),k=M[k];if(S.call(b,V,D.key),(re+=1)>=W)break}}},dfsPath:function m(b,y,v,w){var S=[],T={};if(S.push(y),T[y]=null,y!=v)for(;S.length>0&&!T.hasOwnProperty(v);){var C=S[S.length-1];S.length-=1;var M=e[C];for(var D in M)if(M.hasOwnProperty(D)&&!T.hasOwnProperty(D)&&w.call(b,C,D,M[D])&&(S.push(D),T[D]=C,D==v))break}C=v;for(var I=[];T.hasOwnProperty(C);)I.push(C),C=T[C];var E=[];if(I.length>0)for(var P=I.length-1;P>=0;P-=1)E.push(I[P]);return E},getLevelGraph:function g(b,y,v){var T,C,M,w={},S=[];for(S.push(y),w[y]=1;S.length>0;){for(var D=[],I=0,E=S.length;I<E;I+=1)for(var P in C=w[T=S[I]],M=e[T])M.hasOwnProperty(P)&&(w.hasOwnProperty(P)||v.call(b,T,P,M[P])&&(D.push(P),w[P]=C+1));S=D}var O=No();for(T in e)if(w.hasOwnProperty(T))for(P in C=w[T],M=e[T])w.hasOwnProperty(P)&&C+1==w[P]&&O.addEdge(T,P,M[P]);return O},dfsLoop:function _(b,y,v,w){var C,S=[],T={};for(S.push(y),T[y]=!0;S.length>0;){C=S[S.length-1],S.length-=1;var M=e[C];for(var D in M)if(M.hasOwnProperty(D)&&!T.hasOwnProperty(D)&&v.call(b,C,D,M[D])&&(S.push(D),T[D]=!0,w.call(b,D)))return}}}}function sv(){var e={},t={},n={},i=null,r=null;function s(T,C){if(e.hasOwnProperty(T))throw"Duplicate segments are not supported!";e[T]=C,t[T]=null,null==r?(i=T,n[T]=null):(t[r]=T,n[T]=r),r=T}function d(T,C){if(e.hasOwnProperty(T))throw"Duplicate segments are not supported!";e[T]=C,n[T]=null,null==i?(r=T,t[T]=null):(n[i]=T,t[T]=i),i=T}function f(T,C,M){if(e.hasOwnProperty(C))throw"Duplicate segments are not supported!";if(null==T)d(C,M);else{var D=t[T];null==D?s(C,M):(e[C]=M,t[T]=C,t[C]=D,n[D]=C,n[C]=T)}}function _(T,C,M,D){var E,I=M;if(null==I&&(I=T?i:r),null!=C)for(;null!=I;){if(null!=(E=e[I])&&C(E,I))return;I=I==D?null:T?t[I]:n[I]}}function y(T,C,M){_(!0,T,C,M)}return{add:s,item:function a(T){return e[T]},nextKey:function l(T){return t[T]},prevKey:function u(T){return n[T]},startKey:function c(){return i},endKey:function h(){return r},unshift:d,insertAfter:f,insertBefore:function p(T,C,M){if(e.hasOwnProperty(C))throw"Duplicate segments are not supported!";if(null==T||!e.hasOwnProperty(T))throw"Before key should be defined!";var D=n[T];null==D?d(C,M):f(D,C,M)},remove:function m(T){var C=n[T],M=t[T];null!=C?t[C]=M:i=M,null!=M?n[M]=C:r=C,delete e[T],delete t[T],delete n[T]},isEmpty:function o(){return null==i},attach:function b(T){T.iterate(function(C,M){s(M,C)})},iterate:y,iterateBack:function v(T,C,M){_(!1,T,C,M)},empty:function g(){e={},t={},n={},i=null,r=null},toArray:function S(){var T=[];return y(function(C){T.push(C)}),T},validate:function w(T){var C,M,D;for(C in e)if(e.hasOwnProperty(C)&&(!t.hasOwnProperty(C)||!n.hasOwnProperty(C)))return null!=T&&(T.message="Orphant key found!"),!1;if(!e.hasOwnProperty(i)||!e.hasOwnProperty(r))return null!=T&&(T.message="Start or end values are missing!"),!1;for(C in t)if(t.hasOwnProperty(C)){if(!e.hasOwnProperty(C)||!n.hasOwnProperty(C))return null!=T&&(T.message="Orphant key found!"),!1;if((D=t[C])&&!t.hasOwnProperty(D))return null!=T&&(T.message="Next key not found!"),!1}for(C in n)if(n.hasOwnProperty(C)){if(!e.hasOwnProperty(C)||!t.hasOwnProperty(C))return null!=T&&(T.message="Orphant key found!"),!1;if((M=n[C])&&!n.hasOwnProperty(M))return null!=T&&(T.message="Prev key not found!"),!1}return!0}}}function rM(e,t){this.id=e,this.node=t}function Vo(e){var t={},n={},i={},r={},s={},o={},a={};function h($,H,K,J){var ee,te;if(null!=J&&null!=(te=H[K]))for(ee in te)if(te.hasOwnProperty(ee)&&J.call($,ee,te[ee]))break}function g($,H){var K=!1;return null!=i[$]&&null!=i[$][H]&&(delete i[$][H],r[$]-=1,delete s[H][$],o[H]-=1,r[$]||(delete i[$],delete r[$]),s[H]||(delete s[H],delete o[H],null==t.null&&(t.null={},n.null=0),t.null[H]=!0,n.null+=1),K=!0),K}function v($,H){var K;if(null!=H)for(K in a)if(a.hasOwnProperty(K)&&H.call($,K,a[K]))break}function w($,H,K,J){for(var ee,te,he={},ye=0,ve=!0;ve;){for(te in ee={},ve=!1,K)if(K.hasOwnProperty(te)&&!he[te])switch(he[te]=!0,J.call($,te,a[te],ye)){case 1:ee={},ve=!1;break;case 2:break;default:h(this,H,te,function(De){he[De]||(ee[De]=!0,ve=!0)})}K=ee,ye+=1}}function S($,H,K){null!=K&&null!=H&&null!=a[H]&&null!=i[H]&&w($,i,i[H],K)}function T($,H,K){null!=K&&null!=H&&null!=a[H]&&null!=s[H]&&w($,s,s[H],K)}function C($,H,K,J,ee,te){var he,ye,ve,De,ke,Me,Ee;if(null!=te){for(ve in ke=[],De={},a)a.hasOwnProperty(ve)&&(De[ve]=K[ve]||0,De[ve]||ke.push(ve));for(Ee=0;ke.length>0;){for(Me=[],he=0,ye=ke.length;he<ye;he+=1){if(te.call($,ve=ke[he],a[ve],Ee)){Me=[];break}Ee+=1,h(this,J,ve,function(We){De[We]-=1,0===De[We]&&Me.push(We)})}ke=Me}}}function M($,H){C($,0,o,i,0,H)}function D($,H){C($,0,r,s,0,H)}function V($,H,K,J,ee,te,he,ye,ve){var ke,Me,Ee,De=!1;if(null!=a[$]&&null!=he[$]){if(De=!0,ve)for(ke=0,Me=H.length;ke<Me;ke+=1)(null==a[Ee=H[ke]]||null==he[$][Ee])&&(De=!1);if(De&&(null!=J&&(a[K]=J),null!=a[K]))for(ee[K]||(ee[K]={},te[K]=0),he[K]||(he[K]={},ye[K]=0),ee[K][$]||(ee[K][$]=!0,te[K]+=1),he[$][K]||(he[$][K]=!0,ye[$]+=1),ke=0,Me=H.length;ke<Me;ke+=1)K!=(Ee=H[ke])&&(null!=he[$][Ee]&&(delete he[$][Ee],ye[$]-=1),null!=ee[Ee][$]&&(delete ee[Ee][$],te[Ee]-=1),ee[Ee][K]||(ee[Ee][K]=!0,te[Ee]+=1),he[K][Ee]||(he[K][Ee]=!0,ye[K]+=1))}return De}function k($,H,K,J){return V($,H,K,J,s,o,i,r,!0)}function F(){this.id="",this.key="",this.children=[],this.childrenHash={},this.processed=!1}function z($){this.items=[],this.weight=0,this.difference=0,arguments.length>0&&(this.difference=$)}function W($){var K,J,ee,te,he,ye,ve,De,H=No(),ke={};for(K in $)$.hasOwnProperty(K)&&h(this,i,K,function(Me){if(!ke.hasOwnProperty(Me))for(ke[Me]=!0,J=[],h(this,s,Me,function(We){J.push(We)}),ee=0,he=J.length;ee<he-1;ee+=1)if($.hasOwnProperty(ye=J[ee]))for(te=ee+1;te<he;te+=1)if($.hasOwnProperty(ve=J[te])){De=Math.abs($[ye].children.length-$[ve].children.length);var Ee=H.edge(ye,ve);null==Ee&&(Ee=new z(De),H.addEdge(ye,ve,Ee)),Ee.items.push(Me),Ee.weight+=1}});return H}function B($,H){this.parentid=$,this.childid=H,this.key=$+","+H}function X($,H,K){this.from=$,this.to=H,this.distance=0}function G($){return r[$]||0}function ae($){return o[$]||0}function de($){var H=null,K=i[$]||{};for(H in K)if(K.hasOwnProperty(H))return H;return null}function je($){var H=null,K=s[$]||{};for(H in K)if(K.hasOwnProperty(H))return H;return null}function Zn($,H){this.parents=$,this.children=H,this.nodes=[]}function ac($,H,K){for(;1===o[H];){var J=je(H);if(1!==r[J])break;K.call($,J),H=J}}function lc($,H,K){for(;1===r[H];){var J=de(H);if(1!==o[J])break;K.call($,J),H=J}}function Tf(){return Vo({roots:t,rootsCount:n,children:i,childrenCount:r,parents:s,parentsCount:o,nodes:a})}return function c($){ku($)&&(t=Bn($.roots,!1),n=Bn($.rootsCount,!0),i=Bn($.children,!1),r=Bn($.childrenCount,!0),s=Bn($.parents,!1),o=Bn($.parentsCount,!0),a=Bn($.nodes,!0))}(e),{add:function d($,H,K){var J,ee,te,he={};if((!$||0===$.length)&&($=[null]),null==a[H]&&null!=K){for(a[H]=K,J=0,ee=$.length;J<ee;J+=1)null==he[te=$[J]]&&te!=H&&(he[te]=!0,null!=a[te]?(null==s[H]&&(s[H]={},o[H]=0),s[H][te]||(s[H][te]=!0,o[H]+=1),null==i[te]&&(i[te]={},r[te]=0),i[te][H]||(i[te][H]=!0,r[te]+=1)):(null==t[te]&&(t[te]={},n[te]=0),t[te][H]||(t[te][H]=!0,n[te]+=1)));null!=t[H]&&(i[H]=t[H],r[H]=n[H],delete t[H],delete n[H],h(this,i,H,function(ye){null==s[ye]&&(s[ye]={},o[ye]=0),s[ye][H]||(s[ye][H]=!0,o[ye]+=1)}))}},adopt:function p($,H){var K,J,ee;if(null==a[H])throw"Child should be in hierarchy!";for(K=0,J=$.length;K<J;K+=1){if(ee=$[K],null==s[H]&&(s[H]={},o[H]=0),ee==H||null==a[ee])throw"Item cannot be parent of itself and parent should exist in the structure!";s[H][ee]||(s[H][ee]=!0,o[H]+=1),null==i[ee]&&(i[ee]={},r[ee]=0),i[ee][H]||(i[ee][H]=!0,r[ee]+=1)}},bundleChildren:k,bundleParents:function x($,H,K,J){return V($,H,K,J,i,r,s,o,!0)},optimizeReferences:function re($){var ee,te,he,ye,De,Ee,H={},K={},J={},ke=0,Me=10;if(null!=$){for(ee in a)ke+=1,a.hasOwnProperty(ee)&&(te=new F,h(this,i,ee,function(We){te.children.push(We),te.childrenHash[We]=!0}),te.children.sort(),te.id=ee,te.key=te.children.join(","),J[te.id]=te);for(Me=Math.pow(10,ke.toString().length);!gd(J);){for(ee in he={},Ee={},ye=W(J),J)J.hasOwnProperty(ee)&&(J[ee].processed||(De=ye.getSpanningTree(ee,function(We){return We.weight*Me+Me-We.difference})).loopLevels(this,function(We,vn,ai){J[We].processed=!0,De.loopChildren(this,We,function(kn,Gi){var li,Jr,Rt,Ii,qi,Mt,En,on=ye.edge(We,kn),ze=null;if(J[kn].processed=!0,on.weight>1){if(on.items.sort(),Jr=on.items.join(","),H.hasOwnProperty(Jr))ze=H[Jr];else{for(li=$(),a[li.id]=li,(ze=new F).id=li.id,ze.key=Jr,Rt=0,Ii=on.items.length;Rt<Ii;Rt+=1)ze.children.push(En=on.items[Rt]),ze.childrenHash[En]=!0,Ee[En]=!0;ze.children.sort(),H[ze.key]=ze,K[ze.id]=ze,he[ze.id]=ze,Ee[ze.id]=ze,qi=ze.children.slice(0),S(this,vn.replacementItem||We,function(an,ur,Ki){return!ze.childrenHash[an]&&null!=K[an]&&(Mt=!0,S(this,an,function(yn,Is,to){return ze.childrenHash[yn]?Ee.hasOwnProperty(yn)?void 0:2:(Mt=!1,1)}),Mt&&qi.push(an)),2}),V(vn.replacementItem||We,qi,ze.id,li,s,o,i,r,!1),(r[We]||0)<=1&&null==vn.replacementItem&&(vn.replacementItem=ze.id)}ze.id!=kn&&(qi=ze.children.slice(0),S(this,Gi.replacementItem||kn,function(an,ur,Ki){return null!=K[an]&&!ze.childrenHash[an]&&(Mt=!0,S(this,an,function(yn,Is,to){return ze.childrenHash[yn]?(Ee.hasOwnProperty(yn),2):(Mt=!1,1)}),Mt&&qi.push(an)),2}),V(Gi.replacementItem||kn,qi,ze.id,null,s,o,i,r,!1),(r[kn]||0)<=1&&null==Gi.replacementItem&&(Gi.replacementItem=ze.id))}})}));J=he}}},eliminateManyToMany:function N($){var H,K;for(H in i)i.hasOwnProperty(H)&&(r[H]||0)>1&&h(this,i,H,function(J){(o[J]||0)>1&&(K=$(),k(H,[J],K.id,K))})},groupBy:function ml($,H,K,J){if(null!=K){var ee={},te={};for(var he in a)if(!te.hasOwnProperty(he)&&(te[he]=!0,(o[he]||0)<=1&&(r[he]||0)<=1)){var ye=[new rM(he,a[he])];ac(this,he,We=>{te[We]=!0,ye.unshift({id:We,node:a[We]})}),lc(this,he,We=>{te[We]=!0,ye.push(new rM(We,a[We]))});var ve=null;if(null!=J&&(ve=J.call($,ye)),-1!==ve){var De=[];T(this,ye[0].id,function(We,vn,ai){if(0!=ai)return 1;De.push(We)}),De.sort();var ke=[];S(this,ye[ye.length-1].id,function(We,vn,ai){if(0!=ai)return 1;ke.push(We)}),ke.sort();var Me=De.join(",")+" * "+ke.join(",");null!==ve&&(Me+=" * "+ve),ee.hasOwnProperty(Me)||(ee[Me]=new Zn(De,ke)),ee[Me].nodes.push(ye)}}for(Me in ee)if(ee.hasOwnProperty(Me)){var Ee=ee[Me];if(Ee.nodes.length>=H&&K.call($,Ee.parents,Ee.children,Ee.nodes))break}}},getPlanarFamily:function U($){var K,J,H=new Vo;return $.loopLevels(this,function(te,he){var ye=new sv,ve={},De={},ke=[];$.loopLevelItems(this,te,function(Rt,Ii,qi){if(S(this,Rt,function(an,ur){var Ki=$.getItemPosition(an),yn=new B(Rt,an);De[yn.key]=yn;var Is=[];ye.isEmpty()?ye.add(Ki,[yn]):(ye.iterateBack(function(Ct,_i){if(_i<Ki)return ye.insertAfter(_i,Ki,[yn]),!0;if(_i==Ki)return Ct.push(yn),!0;for(var no=0,T5=Ct.length;no<T5;no+=1){var dE=Ct[no];dE.parentid!=Rt&&Is.push(dE)}}),ye.startKey()>Ki&&ye.unshift(Ki,[yn])),ve[yn.key]=Is;for(var to=0,zt=Is.length;to<zt;to+=1)ve[Is[to].key].push(yn);return 2}),1==G(Rt)){var Mt=de(Rt);if(1==ae(Mt)){var En=new B(Rt,Mt);ke.push(En.key)}}});var Ee,Me=[];for(var We in ve){var vn=(Ee=ve[We]).length;null!=Me[vn]?Me[vn].push(We):Me[vn]=[We]}var ai={};Me.unshift(ke);for(var kn=0,Gi=Me.length;kn<Gi;kn+=1){var on=Me[kn];if(null!=on)for(K=0,J=on.length;K<J;K+=1)if(!ai.hasOwnProperty(We=on[K])){ai[We]=!0;var ze=De[We];null==H.node(ze.parentid)&&H.add(null,ze.parentid,{}),null==H.node(ze.childid)?H.add([ze.parentid],ze.childid,{}):H.adopt([ze.parentid],ze.childid);for(var li=0,Jr=(Ee=ve[We]).length;li<Jr;li+=1)ai[Ee[li].key]=!0}}}),H},getFamilyWithoutGrandParentsRelations:function Q(){var $=new Vo,H={},K=[],J=0;for(var ee in s)s.hasOwnProperty(ee)&&h(this,s,ee,function(De){var ke=H[ee];if(null==ke&&(H[ee]=ke={}),!ke.hasOwnProperty(De)){var Me=new X(ee,De,J);K.push(Me),H[ee][De]=Me}});for(;K.length>0;){var te=[];J+=1;for(var he=0,ye=K.length;he<ye;he+=1){var ve=K[he];s.hasOwnProperty(ee=ve.to)&&h(this,s,ee,function(De){var ke=H[ve.from];if(null==ke&&(H[ve.from]=ke={}),ke.hasOwnProperty(De))ke[De].distance=J;else{var Me=new X(ee,De,J);te.push(Me),ke[De]=Me}})}K=te}return v(this,function(De,ke){var Me=[];h(this,s,De,function(Ee){0===H[De][Ee].distance&&Me.push(Ee)}),$.add(Me,De,ke)}),$},getGraph:function Zt($,H){var J,K=No();for(J in i)i.hasOwnProperty(J)&&h(this,i,J,function(te){var he=K.edge(J,te);null==he&&(he=null==H?new z({}):H.call($,J,te),K.addEdge(J,te,he))});return K},removeNode:function m($){null!=a[$]&&(h(this,i,$,function(H){delete s[H][$],o[H]-=1,o[H]||(delete s[H],delete o[H],null==t.null&&(t.null={},n.null=0),t.null[H]||(t.null[H]=!0,n.null+=1))}),h(this,s,$,function(H){delete i[H][$],r[H]-=1,r[H]||(delete i[H],delete r[H])}),null!=t.null&&null!=t.null[$]&&(delete t.null[$],n.null-=1,n.null||(delete t.null,delete n.null)),delete i[$],delete r[$],delete s[$],delete o[$],delete a[$])},removeRelation:function _($,H){var K=!1;return null!=a[$]&&null!=a[H]&&(K=g($,H)||g(H,$)),K},removeChildRelation:function b($,H){var K=!1;return null!=a[$]&&null!=a[H]&&(K=g($,H)),K},node:function f($){return a[$]},loop:v,loopLevels:function I($,H,K){var ve,ke,Me,Ee,We,vn,ai,on,ze,li,Jr,Rt,Ii,qi,Mt,En,an,ur,Ki,yn,J=[],ee={},te={},he=[],ye={},De={},kn=null,Gi=H?M:D;function Is(){this.items={},this.minimumLevel=null}function to(zt,Ct,_i){var no=De[Ct];no||(no=new Is,De[Ct]=no),no.addItemToLevel(zt,_i),kn=null==kn?_i:Math.min(kn,_i),ye[zt]=_i,te[zt]=!0}if(Is.prototype.addItemToLevel=function(zt,Ct){var _i=this.items[Ct];_i?_i.push(zt):this.items[Ct]=_i=[zt],this.minimumLevel=null==this.minimumLevel?Ct:Math.min(this.minimumLevel,Ct)},null!=K){for(Gi(this,function(zt,Ct,_i){J.push(zt),ee[zt]=_i}),on=0,ze=J.length;on<ze;on+=1)if(null==te[qi=J[on]])for(he.push(qi),to(qi,on,0);he.length>0;){for(Mt=null,En=null,an=null,ur=!H,Ki=[],li=0,Jr=he.length;li<Jr;li+=1)Ii=ye[Rt=he[li]],yn=!1,H?(h(this,s,Rt,function(zt){var Ct;te[zt]||(yn=!0,Ct=ee[zt],(null==Mt||!ur||Mt<Ct||Mt==Ct&&an>Ii-1)&&(Mt=Ct,En=zt,an=Ii-1,ur=!0))}),h(this,i,Rt,function(zt){var Ct;te[zt]||(yn=!0,Ct=ee[zt],(null==Mt||!ur&&(Mt>Ct||Mt==Ct&&an<Ii+1))&&(Mt=Ct,En=zt,an=Ii+1,ur=!1))})):(h(this,i,Rt,function(zt){var Ct;te[zt]||(yn=!0,Ct=ee[zt],(null==Mt||ur||Mt<Ct||Mt==Ct&&an<Ii+1)&&(Mt=Ct,En=zt,an=Ii+1,ur=!1))}),h(this,s,Rt,function(zt){var Ct;te[zt]||(yn=!0,Ct=ee[zt],(null==Mt||ur&&(Mt>Ct||Mt==Ct&&an>Ii-1))&&(Mt=Ct,En=zt,an=Ii-1,ur=!0))})),yn&&Ki.push(Rt);null!=En&&(Ki.push(En),to(En,on,an)),he=Ki}for(ke=!0,ve=kn;ke;){for(Ee in Me={},ke=!1,De)if(De.hasOwnProperty(Ee)&&null!=(vn=(We=De[Ee]).items[We.minimumLevel-kn+ve]))for(Me[Ee]=We,ke=!0,on=0,ze=vn.length;on<ze;on+=1)if(K.call($,ai=vn[on],a[ai],ve-kn))return ke=!1,!0;De=Me,ve+=1}}},loopTopo:M,loopTopoReversed:D,loopChildren:S,loopParents:T,findLargestRoot:function P(){var H,ee,$=null,K={},J={};return H=null,D(this,function(te,he,ye){K.hasOwnProperty(te)||(K[te]={},J[te]=0),K[te][te]=!0,J[te]+=1,ee=!0,T(this,he.id,function(ve,De,ke){var Me,Ee;if(ee=!1,K.hasOwnProperty(ve)||(K[ve]={},J[ve]=0),J[ve]||1!=o[te])for(Ee in Me=K[te])Me.hasOwnProperty(Ee)&&(K[ve][Ee]=!0,J[ve]+=1);else K[ve]=K[te],J[ve]=J[te];return 2}),ee&&(!H||J[te]>H)&&(H=J[te],$=te)}),$},loopRoots:function E($,H){var J,ye,ke,Me,Ee,We,vn,ai,Gi,on,K=null,ee=0,te={},he={},ve={},De={};for(We in D(this,function(ze,li,Jr){te.hasOwnProperty(ze)||(te[ze]={},he[ze]=0),te[ze][ze]=!0,he[ze]+=1,ye=!0,T(this,li.id,function(Rt,Ii,qi){var Mt,En;if(ye=!1,te.hasOwnProperty(Rt)||(te[Rt]={},he[Rt]=0),he[Rt]||1!=o[ze])for(En in Mt=te[ze])Mt.hasOwnProperty(En)&&(te[Rt][En]||(te[Rt][En]=!0,he[Rt]+=1));else te[Rt]=te[ze],he[Rt]=he[ze];return 2}),ye&&(ve[ze]=!0,ee+=1)}),vn={},ve)if(ve.hasOwnProperty(We))for(Me in Ee=te[We])Ee.hasOwnProperty(Me)&&(vn[Me]||(vn[Me]=[]),vn[Me].push(We.toString()));for(;ee>0;){for(ke in J=null,ve)ve.hasOwnProperty(ke)&&(!J||he[ke]<J)&&(J=he[ke],K=ke);if(null!=K){for(Me in H?.call($,K,a[K]),Ee=te[K])if(Ee.hasOwnProperty(Me)&&!De[Me]){for(Gi=0,on=(ai=vn[Me]).length;Gi<on;Gi+=1)he[ai[Gi]]-=1;De[Me]=!0}delete ve[K],ee-=1}}},hasNodes:function y(){return!gd(a)},hasCommonChild:function O($){var K,J,ee,te,he,ye,ve,H=!1;for(K={},ee=0,te=0,he=$.length;te<he;te+=1)null!=a[ye=$[te]]&&!K[ye]&&(K[ye]=!0,ee+=1);for(ye in J={},K)K.hasOwnProperty(ye)&&h(this,i,ye,function(De){J[De]?J[De]+=1:J[De]=1});for(ve in J)if(J.hasOwnProperty(ve)&&null!=s[ve]&&(o[ve]||0)==J[ve]&&J[ve]==ee){H=!0;break}return H},loopNeighbours:function Ot($,H,K){var J={};null!=K&&(S(this,H,function(ee,te,he){return J.hasOwnProperty(ee)||(J[ee]=null,K.call($,ee,te,1)&&(J[ee]=2),T(this,ee,function(ye,ve,De){return J.hasOwnProperty(ye)||(J[ye]=null,K.call($,ye,ve,2)&&(J[ye]=2)),J[ye]})),J[ee]}),T(this,H,function(ee,te,he){return J.hasOwnProperty(ee)||(J[ee]=null,K.call($,ee,te,1)&&(J[ee]=2),S(this,ee,function(ye,ve,De){return J.hasOwnProperty(ye)||(J[ye]=!0,K.call($,ye,ve,2)&&(J[ye]=2)),J[ye]})),J[ee]}))},countChildren:G,countParents:ae,firstParent:je,firstChild:de,validate:function bf($){var H,K;function J(ee){var he,te=0;if(null!=ee)for(he in ee)ee.hasOwnProperty(he)&&(te+=1);return te}for(H in v(this,function(ee,te){h(this,i,ee,function(he){if(!s.hasOwnProperty(he)||!s[he].hasOwnProperty(ee))return null!=$&&($.message="Child #"+he+" does not reference parent #"+ee),!1}),h(this,s,ee,function(he){if(!i.hasOwnProperty(he)||!i[he].hasOwnProperty(ee))return null!=$&&($.message="Parent #"+he+" does not reference child #"+ee),!1})}),s)if(s.hasOwnProperty(H)){if((o[H]||0)!=J(s[H]))return null!=$&&($.message="Parents count for item #"+H+" missmatch."),!1;if(s.hasOwnProperty(H)&&!a.hasOwnProperty(H))return null!=$&&($.message="Orphant parents for item #"+H),!1}for(K in i)if(i.hasOwnProperty(K)){if((r[K]||0)!=J(i[K]))return null!=$&&($.message="Children count for item "+K+" missmatch."),!1;if(i.hasOwnProperty(K)&&!a.hasOwnProperty(K))return null!=$&&($.message="Orphant children of item "+K),!1}for(K in t)if(t.hasOwnProperty(K)){if((n[K]||0)!=J(t[K]))return null!=$&&($.message="Root children count for item @"+K+" missmatch."),!1;h(this,t,K,function(ee){if(!a.hasOwnProperty(ee))return null!=$&&($.message="Child #"+ee+"of root #"+K+" does not exists."),!1})}return!0},hasLoops:function wf(){var $=Tf();return M(this,function(H,K,J){$.removeNode(H)}),$.hasNodes()},clone:Tf,BREAK:1,SKIP:2}}function C3(){var e={};return{register:function t(i,r){return e[i]=r,r},resolve:function n(){var i=[],r=arguments[0],s=arguments[1],o=arguments[2]||{};return function(){for(var a=Array.prototype.slice.call(arguments,0),l=0;l<r.length;l+=1){var u=r[l];i.push(e.hasOwnProperty(u)&&""!==u?e[u]:a.shift())}return i=i.concat(a),s.apply(o||{},i)}}}}function sM(){var e=new Vo,t=new C3,n=[];function i(u,c,h,d){this.name=u,this.dependencies=c,this.factory=h,this.task=null,this.color=d}return{addTask:function r(u,c,h,d){if(n.length>0)throw"Task Manager is already initialized";e.add(c,u,new i(u,c,h,d))},addDependency:function o(u,c){if(n.length>0)throw"Task Manager is already initialized";t.register(u,c)},getTask:function s(u){var c=e.node(u);return c&&c.task},process:function a(u,c,h){var d=!1,f=h;0===n.length&&e.loopTopo(this,function(S,T){T.task=t.register(S,t.resolve(T.dependencies,T.factory)()),n.push(T)}),h&&console.log("-- process --");for(var p={},m=0,g=n.length;m<g;m+=1){var _=n[m],b=[];if(_.name==u||p.hasOwnProperty(_.name)){if(f)var y=performance.now();if((d=_.task.process(h))&&e.loopChildren(this,_.name,function(S,T){return p[S]=!0,h&&b.push(S),e.SKIP}),f)var v=performance.now();if(h){var w=Math.round(v-y,2);console.log(m+". "+_.name+", "+w+" ms. "+(d?" - forces: "+b.toString():""))}}if(_.name==c)return}},getProcessDiagramConfig:function l(){var u=[];0===n.length&&e.loopTopo(this,function(p,m){m.task=t.register(p,t.resolve(m.dependencies,m.factory)()),n.push(m)});for(var c=0,h=n.length;c<h;c+=1){var d=n[c],f={id:d.name,title:b3(d.name).join(" "),description:d.task.description||"",itemTitleColor:d.color,parents:[]};e.loopParents(this,d.name,function(p,m){return f.parents.push(p),e.SKIP}),u.push(f)}return u}}}function Pe(e,t,n,i){switch(this.left=0,this.top=0,this.right=0,this.bottom=0,arguments.length){case 1:null!==e&&"object"==typeof e?(this.left=e.left,this.top=e.top,this.right=e.right,this.bottom=e.bottom):(this.left=e,this.top=e,this.right=e,this.bottom=e);break;case 4:this.left=e,this.top=t,this.right=n,this.bottom=i}return this}function S3(e){this.name=void 0!==e?e:"OrgDiagram",this.classPrefix="orgdiagram",this.navigationMode=zs.Default,this.pageFitMode=sn.FitToPage,this.minimalVisibility=ie.Dot,this.minimumVisibleLevels=1,this.orientationType=qe.Top,this.horizontalAlignment=Ie.Center,this.verticalAlignment=Le.Middle,this.arrowsDirection=yt.None,this.showExtraArrows=!1,this.extraArrowsMinimumSpace=30,this.connectorType=Fo.Squared,this.bevelSize=4,this.elbowType=Bs.None,this.elbowDotSize=4,this.emptyDiagramMessage="Diagram is empty.",this.items=[],this.annotations=[],this.cursorItem=null,this.highlightItem=null,this.highlightGravityRadius=40,this.selectedItems=[],this.hasSelectorCheckbox=Re.Auto,this.selectCheckBoxLabel="Selected",this.selectionPathMode=Hs.FullStack,this.showFrame=!1,this.frameInnerPadding=new Pe(2,2,2,2),this.frameOuterPadding=new Pe(2,2,2,2),this.padding=new Pe(10,10,10,10),this.templates=[],this.defaultTemplateName=null,this.hasButtons=Re.Auto,this.onButtonsRender=null,this.onHighlightChanging=null,this.onHighlightChanged=null,this.onCursorChanging=null,this.onCursorChanged=null,this.onSelectionChanging=null,this.onSelectionChanged=null,this.onButtonClick=null,this.onMouseClick=null,this.onMouseDblClick=null,this.onItemRender=null,this.onHighlightRender=null,this.onCursorRender=null,this.normalLevelShift=20,this.dotLevelShift=20,this.lineLevelShift=10,this.normalItemsInterval=10,this.dotItemsInterval=1,this.lineItemsInterval=2,this.cousinsIntervalMultiplier=5,this.itemTitleFirstFontColor=L.White,this.itemTitleSecondFontColor=L.Navy,this.minimizedItemShapeType=en.None,this.linesColor=L.Silver,this.linesWidth=1,this.linesType=Qt.Solid,this.highlightLinesColor=L.Red,this.highlightLinesWidth=1,this.highlightLinesType=Qt.Solid,this.showCallout=!0,this.calloutMaximumVisibility=ie.Dot,this.calloutPlacementOffset=100,this.defaultCalloutTemplateName=null,this.calloutfillColor="#000000",this.calloutBorderColor=null,this.calloutOffset=4,this.calloutCornerRadius=4,this.calloutPointerWidth="10%",this.calloutLineWidth=1,this.calloutOpacity=.2,this.alignBranches=!1,this.childrenPlacementType=At.Horizontal,this.leavesPlacementType=At.Horizontal,this.placeAssistantsAboveChildren=!0,this.placeAdvisersAboveChildren=!0,this.maximumColumnsInMatrix=6,this.buttonsPanelSize=28,this.groupTitlePanelSize=24,this.checkBoxPanelSize=24,this.groupTitlePlacementType=vt.Left,this.groupTitleOrientation=it.RotateRight,this.groupTitleVerticalAlignment=Le.Middle,this.groupTitleHorizontalAlignment=Ie.Center,this.groupTitleFontSize="12px",this.groupTitleFontFamily="Arial",this.groupTitleColor=L.RoyalBlue,this.groupTitleFontWeight="normal",this.groupTitleFontStyle="normal",this.onGroupTitleRender=null,this.levelTitlePanelSize=24,this.levelTitlePlacementType=vt.Left,this.levelTitlePlaceInside=!1,this.levelTitleOrientation=it.Auto,this.levelTitleVerticalAlignment=Le.Middle,this.levelTitleHorizontalAlignment=Ie.Center,this.levelTitleFontSize="12px",this.levelTitleFontFamily="Arial",this.levelTitleFontColor=L.White,this.levelTitleColor=L.RoyalBlue,this.levelTitleFontWeight="normal",this.levelTitleFontStyle="normal",this.onLevelTitleRender=null,this.onLevelBackgroundRender=null,this.distance=3,this.scale=1,this.minimumScale=.5,this.maximumScale=2,this.showLabels=Re.Auto,this.labelSize=new Fe(80,24),this.labelOffset=1,this.labelOrientation=it.Horizontal,this.labelPlacement=be.Top,this.labelFontSize="10px",this.labelFontFamily="Arial",this.labelColor=L.Black,this.labelFontWeight="normal",this.labelFontStyle="normal",this.enablePanning=!0,this.autoSizeMinimum=new Fe(800,600),this.autoSizeMaximum=new Fe(1024,768)}function oM(e,t,n,i,r){var s;switch(this.id=null,this.parent=null,this.title=null,this.description=null,this.image=null,this.context=null,this.itemTitleColor=L.RoyalBlue,this.minimizedItemShapeType=null,this.groupTitle=null,this.groupTitleColor=L.RoyalBlue,this.isVisible=!0,this.isActive=!0,this.hasSelectorCheckbox=Re.Auto,this.hasButtons=Re.Auto,this.itemType=dt.Regular,this.levelOffset=null,this.adviserPlacementType=vt.Auto,this.childrenPlacementType=At.Auto,this.placeAssistantsAboveChildren=Re.Auto,this.placeAdvisersAboveChildren=Re.Auto,this.templateName=null,this.showCallout=Re.Auto,this.calloutTemplateName=null,this.label=null,this.showLabel=Re.Auto,this.labelSize=null,this.labelOrientation=it.Auto,this.labelPlacement=be.Auto,arguments.length){case 1:for(s in e)e.hasOwnProperty(s)&&(this[s]=e[s]);break;case 5:this.id=e,this.parent=t,this.title=n,this.description=i,this.image=r}}function vd(){this.name=null,this.isActive=!0,this.itemSize=new Fe(120,100),this.itemBorderWidth=1,this.itemTemplate=null,this.minimizedItemShapeType=null,this.minimizedItemSize=new Fe(4,4),this.minimizedItemCornerRadius=null,this.minimizedItemLineWidth=1,this.minimizedItemBorderColor=null,this.minimizedItemLineType=Qt.Solid,this.minimizedItemFillColor=null,this.minimizedItemOpacity=1,this.highlightPadding=new Pe(2,2,2,2),this.highlightBorderWidth=1,this.highlightTemplate=null,this.cursorPadding=new Pe(3,3,3,3),this.cursorBorderWidth=2,this.cursorTemplate=null,this.hasButtons=Re.Auto,this.onButtonsRender=null}function ov(e){var t;if(1===(this.annotationType=4,this.items=[],this.includeChildren=!1,this.zOrderType=xt.Auto,this.offset=new Pe(18,18,18,18),this.lineWidth=2,this.opacity=1,this.borderColor=null,this.fillColor=null,this.lineType=Qt.Solid,this.selectItems=!1,arguments.length)&&null!==e)if(e instanceof Array)this.items=e;else if("object"==typeof e)for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function aM(e,t){var n;switch(this.annotationType=0,this.zOrderType=xt.Foreground,this.fromItem=null,this.toItem=null,this.connectorShapeType=0,this.connectorPlacementType=hd.Offbeat,this.labelPlacementType=Ro.Between,this.offset=new Pe(0,0,0,0),this.lineWidth=2,this.color=L.Black,this.lineType=Qt.Solid,this.selectItems=!0,this.label=null,this.labelSize=new Fe(60,30),arguments.length){case 1:for(n in e)e.hasOwnProperty(n)&&(this[n]=e[n]);break;case 2:this.fromItem=e,this.toItem=t}}function lM(e){var t;if(1===(this.annotationType=2,this.zOrderType=xt.Foreground,this.items=[],this.lineWidth=2,this.color=L.Red,this.lineType=Qt.Solid,this.opacity=1,this.showArrows=!0,this.selectItems=!1,arguments.length)&&null!==e)if(e instanceof Array)this.items=e;else if("object"==typeof e)for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function av(e){var t;if(1===(this.annotationType=1,this.zOrderType=xt.Auto,this.items=[],this.shapeType=en.Rectangle,this.offset=new Pe(0,0,0,0),this.lineWidth=2,this.cornerRadius="10%",this.opacity=1,this.borderColor=null,this.fillColor=null,this.lineType=Qt.Solid,this.selectItems=!1,this.label=null,this.labelSize=new Fe(60,30),this.labelPlacement=be.Auto,this.labelOffset=4,arguments.length)&&null!==e)if(e instanceof Array)this.items=e;else if("object"==typeof e)for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function uM(e){var t;if(1===(this.annotationType=5,this.levels=[],this.title=null,this.titleFontColor=null,this.titleColor=null,this.offset=new Pe(0,0,0,0),this.lineWidth=new Pe(0,0,0,0),this.opacity=1,this.borderColor=null,this.fillColor="#D4D4D4",this.lineType=Qt.Solid,arguments.length)&&null!==e)if(e instanceof Array)this.items=e;else if("object"==typeof e)for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function cM(e){return{process:function t(){return!0},getOptions:e,description:"Raw options."}}function mt(e,t,n,i,r){this.itemTemplate=e,this.containsUniqueItems=t,this.uniquePropertyKey=n,this.containsPrimitiveValues=Ni(n),this.createSourceHash=i,this.isOrdered=r}function R(e,t,n){this.acceptedTypes=e,this.isNullable=t,this.defaultValue=n,this.hash={};for(var i=0;i<e.length;i+=1)this.hash[e[i]]=!0}function me(e,t,n){this.dataTemplate=e,this.isNullable=t,this.defaultValue=n}function we(e,t,n){for(var i in this.enumeration=e,this.isNullable=t,this.defaultValue=n,this.hash={},e)this.hash[e[i]]=i}function hM(e,t,n){var i={},r={},s=new me({calloutMaximumVisibility:new we(ie,!1,t.calloutMaximumVisibility),showCallout:new R(["boolean"],!1,t.showCallout),calloutPlacementOffset:new R(["number"],!1,t.calloutPlacementOffset),orientationType:new we(qe,!1,t.orientationType),defaultTemplateName:new R(["string"],!0),defaultCalloutTemplateName:new R(["string"],!0),calloutfillColor:new R(["string"],!1,t.calloutfillColor),calloutBorderColor:new R(["string"],!0),calloutOffset:new R(["number"],!1,t.calloutOffset),calloutCornerRadius:new R(["string"],!1,t.calloutCornerRadius),calloutPointerWidth:new R(["string"],!1,t.calloutPointerWidth),calloutLineWidth:new R(["number"],!1,t.calloutLineWidth),calloutOpacity:new R(["number"],!1,t.calloutOpacity),items:new mt(new me({id:new R(["string","number"],!0),showCallout:new we(Re,!1,t.showCallout),calloutTemplateName:new R(["string"],!0),templateName:new R(["string"],!0)}),!0,"id")});return{process:function o(){var u={isChanged:!1,hash:r};return i=s.read(i,e.getOptions(),"options",u),u.isChanged},getOptions:function l(){return i},getItemOptions:function a(u){return r["options-items"][u]},description:"Checks item callout options."}}function dM(e,t){var n={},i={},r=new me({arrowsDirection:new we(yt,!1,t.arrowsDirection),showExtraArrows:new R(["boolean"],!1,t.showExtraArrows),extraArrowsMinimumSpace:new R(["number"],!1,t.extraArrowsMinimumSpace),connectorType:new we(Fo,!1,t.hasOwnProperty("connectorType")?t.connectorType:Fo.Squared),showNeigboursConnectorsHighlighted:new we(Fo,!1,!!t.hasOwnProperty("showNeigboursConnectorsHighlighted")&&t.showNeigboursConnectorsHighlighted),elbowType:new we(Bs,!1,t.elbowType),bevelSize:new R(["number"],!1,t.bevelSize),elbowDotSize:new R(["number"],!1,t.elbowDotSize),linesColor:new R(["string"],!1,t.linesColor),linesWidth:new R(["number"],!1,t.linesWidth),linesType:new we(Qt,!1,t.linesType),highlightLinesColor:new R(["string"],!1,t.highlightLinesColor),highlightLinesWidth:new R(["number"],!1,t.highlightLinesWidth),highlightLinesType:new we(Qt,!1,t.highlightLinesType)});return{process:function s(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getOptions(),"options",a),a.isChanged},getOptions:function o(){return n},description:"Checks connector lines drawing options."}}function D3(e,t){var n={},i={},r={},s=new me({items:new mt(new me({id:new R(["string","number"],!0),parent:new R(["string","number"],!0),itemType:new we(dt,!1,t.itemType),adviserPlacementType:new we(vt,!1,t.adviserPlacementType),childrenPlacementType:new we(At,!1,t.childrenPlacementType),placeAdvisersAboveChildren:new we(Re,!1,t.placeAdvisersAboveChildren),placeAssistantsAboveChildren:new we(Re,!1,t.placeAssistantsAboveChildren),isVisible:new R(["boolean"],!1,t.isVisible),isActive:new R(["boolean"],!1,t.isActive),levelOffset:new R(["number"],!1,null)}),!0,"id",!0,!0)});return{process:function o(){var u={isChanged:!1,hash:i,sourceHash:r};return n=s.read(n,e.getOptions(),"options",u),u.isChanged},getItems:function a(){return n.items},getConfig:function l(u){return r["options-items"][u]},description:"Checks items configuration options effecting their placement in layout."}}function fM(e,t){var n={},i={},r={},s=new me({items:new mt(new me({id:new R(["string","number"],!0),title:new R(["string"],!0),description:new R(["string"],!0),image:new R(["string"],!0),context:new R(["string","number","object"],!0),itemTitleColor:new R(["string"],!1,t.itemTitleColor),groupTitle:new R(["string"],!1,t.groupTitle),groupTitleColor:new R(["string"],!1,t.groupTitleColor)}),!0,"id",!0,!0)});return{process:function o(){var u={isChanged:!1,hash:i,sourceHash:r};return n=s.read(n,e.getOptions(),"options",u),u.isChanged},getItems:function a(){return n.items},getConfig:function l(u){return r["options-items"][u]},description:"Checks items configuration options effecting their placement in layout."}}function ys(){}function pM(e,t,n){var i={},r={},s=new me({defaultTemplateName:new R(["string"],!0),defaultLabelAnnotationTemplate:new R(["string"],!0),hasSelectorCheckbox:new we(Re,!1,t.hasSelectorCheckbox),hasButtons:new we(Re,!1,t.hasButtons),buttonsPanelSize:new R(["number"],!1,t.buttonsPanelSize),groupTitlePanelSize:new R(["number"],!1,t.groupTitlePanelSize),groupTitlePlacementType:new we(vt,!1,t.groupTitlePlacementType),checkBoxPanelSize:new R(["number"],!1,t.checkBoxPanelSize),selectCheckBoxLabel:new R(["string"],!1,t.selectCheckBoxLabel),onButtonsRender:new ys,pageFitMode:new we(sn,!1,t.pageFitMode),padding:new me({left:new R(["number"],!1,t.padding.left),top:new R(["number"],!1,t.padding.top),right:new R(["number"],!1,t.padding.right),bottom:new R(["number"],!1,t.padding.bottom)},!1,t.padding),minimalVisibility:new we(ie,!1,t.minimalVisibility),selectionPathMode:new we(Hs,!1,t.selectionPathMode),autoSizeMinimum:new me({width:new R(["number"],!1,t.autoSizeMinimum.width),height:new R(["number"],!1,t.autoSizeMinimum.height)},!1,t.autoSizeMinimum),autoSizeMaximum:new me({width:new R(["number"],!1,t.autoSizeMaximum.width),height:new R(["number"],!1,t.autoSizeMaximum.height)},!1,t.autoSizeMaximum),scale:new R(["number"],!1,t.scale),maximumScale:new R(["number"],!1,t.maximumScale),minimumScale:new R(["number"],!1,t.minimumScale),normalLevelShift:new R(["number"],!1,t.normalLevelShift),dotLevelShift:new R(["number"],!1,t.dotLevelShift),lineLevelShift:new R(["number"],!1,t.lineLevelShift),normalItemsInterval:new R(["number"],!1,t.normalItemsInterval),dotItemsInterval:new R(["number"],!1,t.dotItemsInterval),lineItemsInterval:new R(["number"],!1,t.lineItemsInterval),cousinsIntervalMultiplier:new R(["number"],!1,t.cousinsIntervalMultiplier),verticalAlignment:new we(Le,!1,t.verticalAlignment),items:new mt(new me({id:new R(["string","number"],!0),groupTitle:new R(["string","number"],!0),isVisible:new R(["boolean","number"],!1,n.isVisible),isActive:new R(["boolean","number"],!1,n.isActive),hasSelectorCheckbox:new we(Re,!1,n.hasSelectorCheckbox),hasButtons:new we(Re,!1,n.hasButtons),templateName:new R(["string"],!0)}),!0,"id")});return{process:function o(){var u={isChanged:!1,hash:r};return i=s.read(i,e.getOptions(),"options",u),u.isChanged},getItemOptions:function a(u){return r["options-items"][u]},getOptions:function l(){return i},description:"Checks items size options."}}function mM(e,t){var n={},i={},r=new me({pageFitMode:new we(sn,!1,t.pageFitMode),minimalVisibility:new we(ie,!1,t.minimalVisibility),minimumVisibleLevels:new R(["number"],!1,t.minimumVisibleLevels)});return{process:function s(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getOptions(),"options",a),a.isChanged},getOptions:function o(){return n},description:"Checks minimum visible levels options."}}function gM(e,t,n){var i={},r={},s=new me({showLabels:new we(Re,!1,t.showLabels),labelOffset:new R(["number"],!1,t.labelOffset),labelFontSize:new R(["string"],!1,t.labelFontSize),labelFontFamily:new R(["string"],!1,t.labelFontFamily),labelFontStyle:new R(["string"],!1,t.labelFontStyle),labelFontWeight:new R(["string"],!1,t.labelFontWeight),labelColor:new R(["string"],!1,t.labelColor),labelSize:new me({width:new R(["number"],!1,t.labelSize.width),height:new R(["number"],!1,t.labelSize.height)},!1,t.labelSize),labelOrientation:new we(it,!1,t.labelOrientation),labelPlacement:new we(be,!1,t.labelPlacement),arrowsDirection:new we(yt,!1,t.arrowsDirection),items:new mt(new me({id:new R(["string","number"],!0),label:new R(["string","number","object"],!0),showLabel:new we(Re,!1,n.showLabel),labelSize:new me({width:new R(["number"],!1,0),height:new R(["number"],!1,0)},!0),labelOrientation:new we(it,!1,n.labelOrientation),labelPlacement:new we(be,!1,n.labelPlacement)}),!0,"id")});return{process:function o(){var c={isChanged:!1,hash:r};return i=s.read(i,e.getOptions(),"options",c),c.isChanged},getItemOptions:function l(c){return r["options-items"][c]},getItemsOptions:function a(){return r["options-items"]},getOptions:function u(){return i},description:"Checks items labels options."}}function vM(e,t,n){var i={},r={},s=new me({groupTitleVerticalAlignment:new we(Le,!1,t.groupTitleVerticalAlignment),groupTitleHorizontalAlignment:new we(Ie,!1,t.groupTitleHorizontalAlignment),groupTitleOrientation:new we(it,!1,t.groupTitleOrientation),groupTitleFontSize:new R(["string"],!1,t.groupTitleFontSize),groupTitleFontFamily:new R(["string"],!1,t.groupTitleFontFamily),groupTitleColor:new R(["string"],!1,t.groupTitleColor),groupTitleFontWeight:new R(["string"],!1,t.groupTitleFontWeight),groupTitleFontStyle:new R(["string"],!1,t.groupTitleFontStyle),itemTitleFirstFontColor:new R(["string"],!1,t.itemTitleFirstFontColor),itemTitleSecondFontColor:new R(["string"],!1,t.itemTitleSecondFontColor),selectCheckBoxLabel:new R(["string"],!1,t.selectCheckBoxLabel),onItemRender:new ys,onCursorRender:new ys,onHighlightRender:new ys,onGroupTitleRender:new ys,templates:new mt(new me({name:new R(["string"],!0),isActive:new R(["boolean"],!1,n.isActive),itemSize:new me({width:new R(["number"],!1,n.itemSize.width),height:new R(["number"],!1,n.itemSize.height)},!1,n.itemSize),itemBorderWidth:new R(["number"],!1,n.itemBorderWidth),itemTemplate:new R(["string","object"],!0),minimizedItemShapeType:new we(en,!0),minimizedItemSize:new me({width:new R(["number"],!1,n.minimizedItemSize.width),height:new R(["number"],!1,n.minimizedItemSize.height)},!1,n.minimizedItemSize),minimizedItemCornerRadius:new R(["number"],!0),minimizedItemLineWidth:new R(["number"],!1,n.minimizedItemLineWidth),minimizedItemBorderColor:new R(["string"],!0),minimizedItemLineType:new we(Qt,!1,n.minimizedItemLineType),minimizedItemFillColor:new R(["string"],!0),minimizedItemOpacity:new R(["number"],!1,n.minimizedItemOpacity),highlightPadding:new me({left:new R(["number"],!1,n.highlightPadding.left),top:new R(["number"],!1,n.highlightPadding.top),right:new R(["number"],!1,n.highlightPadding.right),bottom:new R(["number"],!1,n.highlightPadding.bottom)},!1,n.highlightPadding),highlightBorderWidth:new R(["number"],!1,n.highlightBorderWidth),highlightTemplate:new R(["string","object"],!0),cursorPadding:new me({left:new R(["number"],!1,n.cursorPadding.left),top:new R(["number"],!1,n.cursorPadding.top),right:new R(["number"],!1,n.cursorPadding.right),bottom:new R(["number"],!1,n.cursorPadding.bottom)},!1,n.cursorPadding),cursorBorderWidth:new R(["number"],!1,n.cursorBorderWidth),cursorTemplate:new R(["string","object"],!0),hasButtons:new we(Re,!1,n.hasButtons),onButtonsRender:new ys}),!0,"name")});return{process:function o(){var l={isChanged:!1,hash:r};return i=s.read(i,e.getOptions(),"options",l),l.isChanged},getOptions:function a(){return i},description:"Checks items template options."}}function yM(e,t){var n={},i={},r=new me({orientationType:new we(qe,!1,t.orientationType)});return{process:function s(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getOptions(),"options",a),a.isChanged},getOptions:function o(){return n},description:"Checks diagram orientation options."}}function M3(e,t){var n={},i={},r=new me({alignBranches:new R(["boolean"],!1,t.alignBranches),leavesPlacementType:new we(At,!1,t.leavesPlacementType),childrenPlacementType:new we(At,!1,t.childrenPlacementType),placeAdvisersAboveChildren:new R(["boolean"],!1,t.placeAdvisersAboveChildren),placeAssistantsAboveChildren:new R(["boolean"],!1,t.placeAssistantsAboveChildren),maximumColumnsInMatrix:new R(["number"],!1,t.maximumColumnsInMatrix),horizontalAlignment:new we(Ie,!1,t.horizontalAlignment)});return{process:function s(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getOptions(),"options",a),a.isChanged},getOptions:function o(){return n},description:"Checks items layout options."}}function _M(e){var t={},n={},i=new me({minimizedItemShapeType:new we(en,!0),items:new mt(new me({id:new R(["string","number"],!0),minimizedItemShapeType:new we(en,!0),itemTitleColor:new R(["string"],!0)}),!0,"id")});return{process:function r(){var a={isChanged:!1,hash:n};return t=i.read(t,e.getOptions(),"options",a),a.isChanged},getItemOptions:function s(a){return n["options-items"][a]},getOptions:function o(){return t},description:"Checks minimized items drawing options."}}function bM(e,t){var n={},i=new me({cursorItem:new R(["string","number"],!0),navigationMode:new we(zs,!1,t.navigationMode)});return{process:function r(){var a={isChanged:!1};return n=i.read(n,e.getOptions(),"options",a),a.isChanged},getCursorItem:function s(){return n.cursorItem},hasCursorEnabled:function o(){switch(n.navigationMode){case zs.Default:case zs.CursorOnly:return!0}return!1},description:"Checks currenct cursor item option."}}function wM(e,t){var n={},i=new me({highlightItem:new R(["string","number"],!0),navigationMode:new we(zs,!1,t.navigationMode),highlightGravityRadius:new R(["number"],!1,t.highlightGravityRadius)});return{process:function r(){var l={isChanged:!1};return n=i.read(n,e.getOptions(),"options",l),l.isChanged},getHighlightItem:function s(){return n.highlightItem},hasHighlightEnabled:function a(){switch(n.navigationMode){case zs.Default:case zs.HighlightOnly:return!0}return!1},getGravityRadius:function o(){return n.highlightGravityRadius},description:"Checks highlight item option."}}function TM(e){var t={},n={},i=new me({selectedItems:new mt(new R(["string","number"],!0),!0)});return{process:function r(){var o={isChanged:!1,hash:n},a=e.getOptions();return t=i.read(t,a,"options",o),o.isChanged},getSelectedItems:function s(){return t.selectedItems},description:"Checks user selected items option."}}function CM(e,t){var n={},i=new me({selectionPathMode:new we(Hs,!1,t.selectionPathMode)});return{process:function r(){var o={isChanged:!1};return n=i.read(n,e.getOptions(),"options",o),o.isChanged},getSelectionPathMode:function s(){return n.selectionPathMode},description:"Checks cursor selection path option."}}function SM(e){var t={annotations:{}};return{process:function n(){var o,a,l,u,c,h,s=e.getOptions().annotations,d={};if(Array.isArray(s))for(o=0,a=s.length;o<a;o+=1){switch(u=(l=s[o]).annotationType){case 1:case 0:case 2:c=l.zOrderType===xt.Background?xt.Background:xt.Foreground;break;default:c=null}null!=u&&(d.hasOwnProperty(h=1e3*u+(c||0))||(d[h]=[]),d[h].push(l))}return t.annotations=d,!0},getAnnotations:function i(r,s){return t.annotations[1e3*r+(s||0)]}}}function yd(e,t,n){var i=[],r={},s=new mt(new me({zOrderType:new we(xt,!1,t.zOrderType),items:new mt(new R(["string","number"],!0),!0),shapeType:new we(en,!1,t.shapeType),offset:new me({left:new R(["number"],!1,t.offset.left),top:new R(["number"],!1,t.offset.top),right:new R(["number"],!1,t.offset.right),bottom:new R(["number"],!1,t.offset.bottom)},!1,t.offset),lineWidth:new R(["number"],!1,t.lineWidth),cornerRadius:new R(["string"],!1,t.cornerRadius),opacity:new R(["number"],!1,t.opacity),borderColor:new R(["string"],!1,t.borderColor),fillColor:new R(["string"],!1,t.fillColor),lineType:new we(Qt,!1,t.lineType),selectItems:new R(["boolean"],!1,t.selectItems),label:new R(["string","object"],!1,t.label),labelSize:new me({width:new R(["number"],!1,t.labelSize.width),height:new R(["number"],!1,t.labelSize.height)},!1,t.labelSize),labelPlacement:new we(be,!1,t.labelPlacement),labelOffset:new R(["number"],!1,t.labelOffset)},!1));return{process:function o(){var l={isChanged:!1,hash:r};return i=s.read(i,e.getAnnotations(1,n),"annotations",l),l.isChanged},getAnnotations:function a(){return i}}}function _d(e,t,n){var r=[],s={},o=new mt(new me({zOrderType:new we(xt,!1,t.zOrderType),lineWidth:new R(["number"],!1,t.lineWidth),opacity:new R(["number"],!1,t.opacity),color:new R(["string"],!1,t.color),lineType:new we(Qt,!1,t.lineType),items:new mt(new R(["string","number"],!0),!1),selectItems:new R(["boolean"],!1,t.selectItems),showArrows:new R(["boolean"],!1,t.showArrows)},!1));return{process:function a(){var u={isChanged:!1,hash:s};return r=o.read(r,e.getAnnotations(2,n),"annotations",u),u.isChanged},getAnnotations:function l(){return r}}}function bd(e,t,n){var i=[],r={},s=new mt(new me({zOrderType:new we(xt,!1,t.zOrderType),fromItem:new R(["string","number"],!0),toItem:new R(["string","number"],!0),connectorShapeType:new we(en,!1,t.connectorShapeType),connectorPlacementType:new we(hd,!1,t.connectorPlacementType),labelPlacementType:new we(Ro,!1,t.labelPlacementType),offset:new me({left:new R(["number"],!1,t.offset.left),top:new R(["number"],!1,t.offset.top),right:new R(["number"],!1,t.offset.right),bottom:new R(["number"],!1,t.offset.bottom)},!1,t.offset),lineWidth:new R(["number"],!1,t.lineWidth),color:new R(["string"],!1,t.color),lineType:new we(Qt,!1,t.lineType),selectItems:new R(["boolean"],!1,t.selectItems),label:new R(["string","object"],!1,t.label),labelSize:new me({width:new R(["number"],!1,t.labelSize.width),height:new R(["number"],!1,t.labelSize.height)},!1,t.labelSize)}),!1);return{process:function o(){var l={isChanged:!1,hash:r};return i=s.read(i,e.getAnnotations(0,n),"annotations",l),l.isChanged},getAnnotations:function a(){return i}}}function DM(e,t){var n=[],i={},r=new mt(new me({items:new mt(new R(["string","number"],!0),!0),includeChildren:new R(["boolean"],!1,t.includeChildren),zOrderType:new we(xt,!1,t.zOrderType),offset:new me({left:new R(["number"],!1,t.offset.left),top:new R(["number"],!1,t.offset.top),right:new R(["number"],!1,t.offset.right),bottom:new R(["number"],!1,t.offset.bottom)},!1,t.offset),lineWidth:new R(["number"],!1,t.lineWidth),opacity:new R(["number"],!1,t.opacity),borderColor:new R(["string"],!1,t.borderColor),fillColor:new R(["string"],!1,t.fillColor),lineType:new we(Qt,!1,t.lineType),selectItems:new R(["boolean"],!1,t.selectItems)}),!1);return{process:function s(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getAnnotations(4,null),"annotations",a),a.isChanged},getAnnotations:function o(){return n}}}function MM(e,t){var n=[],i={},r=new mt(new me({levels:new mt(new R(["string","number"],!0),!0),title:new R(["string"],!0),titleFontColor:new R(["string"],!0),titleColor:new R(["string"],!0),offset:new me({left:new R(["number"],!1,t.offset.left),top:new R(["number"],!1,t.offset.top),right:new R(["number"],!1,t.offset.right),bottom:new R(["number"],!1,t.offset.bottom)},!1,t.offset),lineWidth:new me({left:new R(["number"],!1,t.lineWidth.left),top:new R(["number"],!1,t.lineWidth.top),right:new R(["number"],!1,t.lineWidth.right),bottom:new R(["number"],!1,t.lineWidth.bottom)},!1,t.lineWidth),opacity:new R(["number"],!1,t.opacity),borderColor:new R(["string"],!0),fillColor:new R(["string"],!1,t.fillColor),lineType:new we(Qt,!1,t.lineType)}),!1);return{process:function s(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getAnnotations(5,null),"annotations",a),a.isChanged},getAnnotations:function o(){return n},description:"Collects Level Annotations"}}function IM(e,t){var n={},i={},r=new me({scale:new R(["number"],!1,t.scale),minimumScale:new R(["number"],!1,t.minimumScale),maximumScale:new R(["number"],!1,t.maximumScale)});return{process:function s(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getOptions(),"options",a),a.isChanged},getOptions:function o(){return n},description:"Checks control scale options."}}function kM(e,t){var n={},i={},r=new me({showFrame:new R(["boolean"],!1,t.showFrame),frameInnerPadding:new me({left:new R(["number"],!1,t.frameInnerPadding.left),top:new R(["number"],!1,t.frameInnerPadding.top),right:new R(["number"],!1,t.frameInnerPadding.right),bottom:new R(["number"],!1,t.frameInnerPadding.bottom)},!1,t.frameInnerPadding),frameOuterPadding:new me({left:new R(["number"],!1,t.frameOuterPadding.left),top:new R(["number"],!1,t.frameOuterPadding.top),right:new R(["number"],!1,t.frameOuterPadding.right),bottom:new R(["number"],!1,t.frameOuterPadding.bottom)},!1,t.frameOuterPadding)});return{process:function s(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getOptions(),"options",a),a.isChanged},getOptions:function o(){return n},description:"Checks frame options."}}function EM(e,t){var n={},i={},r=new me({levelTitlePlaceInside:new R(["boolean"],!1,t.levelTitlePlaceInside),levelTitlePanelSize:new R(["number"],!1,t.levelTitlePanelSize),levelTitlePlacementType:new we(vt,!1,t.levelTitlePlacementType)});return{process:function s(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getOptions(),"options",a),a.isChanged},getOptions:function o(){return n},description:"Level annotation title placement options."}}function AM(e,t){var n={},i={},r=new me({levelTitleOrientation:new we(it,!1,t.levelTitleOrientation),levelTitleVerticalAlignment:new we(Le,!1,t.levelTitleVerticalAlignment),levelTitleHorizontalAlignment:new we(Ie,!1,t.levelTitleHorizontalAlignment),levelTitleFontSize:new R(["string"],!1,t.levelTitleFontSize),levelTitleFontFamily:new R(["string"],!1,t.levelTitleFontFamily),levelTitleFontColor:new R(["string"],!1,t.levelTitleFontColor),levelTitleColor:new R(["string"],!1,t.levelTitleColor),levelTitleFontWeight:new R(["string"],!1,t.levelTitleFontWeight),levelTitleFontStyle:new R(["string"],!1,t.levelTitleFontStyle),onLevelTitleRender:new ys,onLevelBackgroundRender:new ys});return{process:function s(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getOptions(),"options",a),a.isChanged},getOptions:function o(){return n},description:"Level annotation title template options."}}function xM(e,t){return{process:function n(){return!0},getConfig:function i(r){return e.getConfig(r)||null!=t&&t.getConfig(r)}}}function PM(e){var t,n,i;this.id=null,this.isVisible=!0,this.isActive=!0,this.itemType=dt.Regular,this.adviserPlacementType=vt.Auto,this.childrenPlacementType=At.Auto,this.placeAdvisersAboveChildren=Re.Auto,this.placeAssistantsAboveChildren=Re.Auto,this.levelOffset=null,this.level=null,this.hideParentConnection=!1,this.hideChildrenConnection=!1,this.childIndex=null;var r=["id","parent","isVisible","isActive","itemType","adviserPlacementType","childrenPlacementType","placeAdvisersAboveChildren","placeAssistantsAboveChildren","levelOffset"];for(t=0,n=r.length;t<n;t+=1)e.hasOwnProperty(i=r[t])&&(this[i]=e[i])}function I3(e){var t={orgTree:null,maximumId:null};return{process:function n(){return function i(a){var l,u,c,h,d,p,g,f=0,m=Ir();for(h=0,d=a.length;h<d;h+=1)null!=(c=a[h]).id&&(l=new PM(c),p=parseInt(c.id,10),f=Math.max(isNaN(p)?0:p,f),m.add(c.parent,l.id,l));f+=1,(g=new oM).id=f,g.title="internal root",g.isVisible=!1,g.isActive=!1,(u=new PM(g)).hideParentConnection=!0,u.hideChildrenConnection=!0,u.childrenPlacementType=At.Horizontal,m.add(null,u.id,u),m.loopLevels(this,function(_,b,y){if(y>0)return m.BREAK;u.id!=_&&(m.adopt(u.id,_),b.itemType=dt.Regular)}),function r(a){a.loopLevels(this,function(l,u,c){var h=!0;return u.isVisible?a.SKIP:(a.loopChildren(this,l,function(d,f,p){if(f.itemType!=dt.Regular)return h=!1,!0}),h?(u.hideChildrenConnection=!0,void a.loopChildren(this,l,function(d,f,p){f.hideParentConnection=!0})):a.SKIP)})}(m),t.orgTree=m,t.maximumId=f}(e.getItems()),!0},getOrgTree:function s(){return t.orgTree},getMaximumId:function o(){return t.maximumId}}}function lv(e,t,n,i,r){this.templateConfig=e,this.itemTemplate=t,this.highlightTemplate=n,this.dotHighlightTemplate=i,this.cursorTemplate=r}function OM(e,t){var n={templates:{},itemTemplates:[]},i="DefaultWidgetTemplate",r="DefaultWidgetLabelAnnotationTemplate";return{process:function s(){var u,c,h,d=e.getOptions(),f=d.templates;for(n.templates={},n.itemTemplates=[],h=new vd,n.templates[i]=new lv(h,new t.ItemTemplate(d,h),new t.HighlightTemplate(d,h),new t.DotHighlightTemplate(d,h),new t.CursorTemplate(d,h)),n.itemTemplates.push(n.templates[i]),h=function o(u){var c=new vd;return c.name=u,c.isActive=!1,c.itemSize=new Fe(100,20),c.minimizedItemSize=new Fe(0,0),c.minimizedItemCornerRadius=c.minimizedItemSize.width/2,c}(r),n.templates[r]=new lv(h,new t.LabelAnnotationTemplate,null,new t.DotHighlightTemplate(d,h),null),u=0,c=f.length;u<c;u+=1)n.templates[(h=f[u]).name]=new lv(h,Ni(h.itemTemplate)?new t.ItemTemplate(d,h):new t.UserTemplate(d,h.itemTemplate,d.onItemRender),Ni(h.highlightTemplate)?new t.HighlightTemplate(d,h):new t.UserTemplate(d,h.highlightTemplate,d.onHighlightRender),new t.DotHighlightTemplate(d,h),Ni(h.cursorTemplate)?new t.CursorTemplate(d,h):new t.UserTemplate(d,h.cursorTemplate,d.onCursorRender)),n.itemTemplates.push(n.templates[h.name]);return!0},getTemplate:function a(u,c,h){return n.templates[u]||n.templates[c]||n.templates[h]},getItemTemplates:function l(){return n.itemTemplates},DefaultWidgetTemplateName:i,DefaultWidgetLabelAnnotationTemplateName:r}}function RM(e,t){var n={items:[]},i={},r=new mt(new R(["string","number"],!0),!0);return{process:function s(){var l={isChanged:!1,hash:i},u=e.getOptions();return n.items=r.read(n.items,function o(l,u){var h,d,c=[];for(h=0,d=u.length;h<d;h+=1){var f=u[h],p=t.getTemplate(f.templateName,l.defaultTemplateName,t.DefaultWidgetTemplateName);f.isActive&&p.templateConfig.isActive&&c.push(f.id)}return c}(u,u.items),"items",l),l.isChanged},getActiveItems:function a(){return i.items}}}function FM(){this.template=null,this.isActive=!1,this.hasSelectorCheckbox=!1,this.hasButtons=!1,this.hasGroupTitle=!1,this.onButtonsRender=null}function LM(e,t,n){var i={items:{}};function s(a,l,u){var c=!1;switch(l){case Re.Auto:switch(u){case Re.Auto:c=a;break;case Re.True:c=!0;break;case Re.False:c=!1}break;case Re.True:c=!0;break;case Re.False:c=!1}return c}return{process:function r(){var c,h,a=e.getOptions(),l=t.getCursorItem(),u=a.items;for(i.items={},c=0,h=u.length;c<h;c+=1){var d=u[c],f=new FM,p=l==d.id,m=n.getTemplate(d.templateName,a.defaultTemplateName,n.DefaultWidgetTemplateName),g=m.templateConfig,_=null!=a.onButtonsRender||null!=g.onButtonsRender;f.template=m,f.isActive=d.isActive&&g.isActive,f.isActive&&(f.hasSelectorCheckbox=s(p,d.hasSelectorCheckbox,a.hasSelectorCheckbox),f.hasButtons=g.hasButtons!==Re.Auto?g.hasButtons==Re.True:_&&s(p,d.hasButtons,a.hasButtons),f.hasButtons&&(f.onButtonsRender=g.onButtonsRender||a.onButtonsRender)),f.hasGroupTitle=!Ni(d.groupTitle),i.items[d.id]=f}return!0},getTemplateParams:function o(a){return i.items[a]}}}function NM(e,t){var n={template:null};return{process:function i(){return n.template=null,!0},getTemplate:function r(){var s;if(null==n.template){s=e.getOptions();var{onGroupTitleRender:o}=s;n.template=null!=o?new t.CustomRenderTemplate(s,o):new t.GroupTitleTemplate(s)}return n.template}}}function VM(e,t){var n={template:null};return{process:function i(){return n.template=null,!0},getTemplate:function r(){var s;return null==n.template&&(s=e.getOptions(),n.template=new t.CheckBoxTemplate(s.selectCheckBoxLabel)),n.template}}}function BM(e,t){var n={template:null};return{process:function i(){return!1},getTemplate:function r(){return null==n.template&&(n.template=new t.ButtonsTemplate),n.template}}}function zM(e,t){var n={template:null};return{process:function i(){return!1},getTemplate:function r(){return null==n.template&&(n.template=new t.AnnotationLabelTemplate),n.template}}}function HM(e,t,n){var i={backgroundTemplate:null,titleTemplate:null};return{process:function r(){return i.backgroundTemplate=null,i.titleTemplate=null,!0},getBackgroundTemplate:function s(){var a;if(null==i.backgroundTemplate){a=t.getOptions();var{onLevelBackgroundRender:l}=a;i.backgroundTemplate=null!=l?new n.CustomRenderTemplate(a,l):new n.LevelBackgroundTemplate(a)}return i.backgroundTemplate},getTitleTemplate:function o(){var a;if(null==i.titleTemplate){var{orientationType:l}=e.getOptions();a=t.getOptions();var{onLevelTitleRender:u}=a;i.titleTemplate=null!=u?new n.CustomRenderTemplate(a,u):new n.LevelTitleTemplate(a,l)}return i.titleTemplate}}}Fe.prototype.isEmpty=function(){return null===this.width||null===this.height||this.width<0||this.height<0},Fe.prototype.invert=function(){var e=this.width;return this.width=this.height,this.height=e,this},Fe.prototype.scale=function(e){return this.width=this.width*e,this.height=this.height*e,this},Fe.prototype.space=function(){return this.width*this.height},Fe.prototype.getCSS=function(e){return{width:this.width+(e=void 0!==e?e:"px"),height:this.height+e}},Fe.prototype.cropBySize=function(e){return this.width=Math.min(this.width,e.width),this.height=Math.min(this.height,e.height),this},Fe.prototype.maxSize=function(e){return this.width=Math.max(this.width,e.width),this.height=Math.max(this.height,e.height),this},Fe.prototype.addThickness=function(e){return this.width=Math.max(0,this.width+e.left+e.right),this.height=Math.max(0,this.height+e.top+e.bottom),this},Fe.prototype.removeThickness=function(e){return this.width=Math.max(0,this.width-e.left-e.right),this.height=Math.max(0,this.height-e.top-e.bottom),this},Fe.prototype.validate=function(){if(isNaN(this.width)||isNaN(this.height))throw"Invalid size."},Pe.prototype.isEmpty=function(){return 0===this.left&&0===this.top&&0===this.right&&0===this.bottom},Pe.prototype.isPositive=function(){return this.left>0||this.top>0||this.right>0||this.bottom>0},Pe.prototype.isNegative=function(){return this.left<0||this.top<0||this.right<0||this.bottom<0},Pe.prototype.maxThickness=function(e){return this.left=Math.max(this.left,e.left),this.top=Math.max(this.top,e.top),this.right=Math.max(this.right,e.right),this.bottom=Math.max(this.bottom,e.bottom),this},Pe.prototype.addThickness=function(e,t,n,i){switch(arguments.length){case 1:null!==e&&"object"==typeof e?(this.left+=e.left,this.top+=e.top,this.right+=e.right,this.bottom+=e.bottom):(this.left+=e,this.top+=e,this.right+=e,this.bottom+=e);break;case 4:this.left+=e,this.top+=t,this.right+=n,this.bottom+=i}return this},Pe.prototype.scale=function(e){return this.left=this.left*e,this.top=this.top*e,this.right=this.right*e,this.bottom=this.bottom*e,this},Pe.prototype.toString=function(e){return this.top+(e=void 0!==e?e:"px")+" "+this.right+e+" "+this.bottom+e+" "+this.left+e},mt.prototype.read=function(e,t,n,i){var o,a,c,h,d,f,p,r=[],s={},l={},u={},m=n+"-seq";for((!t||!Array.isArray(t))&&(t=[]),o=i.hash.hasOwnProperty(n)?i.hash[n]:{},a=i.hash.hasOwnProperty(m)?i.hash[m]:{},d=0,f=t.length;d<f;d+=1)c=t[d],s.hasOwnProperty(h=this.containsUniqueItems?this.containsPrimitiveValues?c:c[this.uniquePropertyKey]:d)||(p=this.itemTemplate.read(o.hasOwnProperty(h)?o[h]:{},c,n+"-"+d,i),r.push(p),s[h]=p,l[d]=h,this.createSourceHash&&(u[h]=c),this.isOrdered&&a[d]!=l[d]&&(i.isChanged=!0));return i.hash[n]=s,i.hash[m]=l,this.createSourceHash&&(i.sourceHash[n]=u),(null==e||e.length!=r.length)&&(i.isChanged=!0),r},R.prototype.stringify=function(e){if(1==this.hash.object){var t=[];return JSON.stringify(e,function(i,r){return"_"===i[0]?null:null!==r&&"object"==typeof r?-1==t.indexOf(r)?(t.push(r),r):null:r})}return e},R.prototype.read=function(e,t,n,i){var r;return(null===t||typeof t>"u"||!this.hash.hasOwnProperty(typeof t))&&(t=this.isNullable?null:this.defaultValue),r=t,this.stringify(e)!==this.stringify(t)&&(i.isChanged=!0),r},me.prototype.read=function(e,t,n,i){var o,r=null,s=ku(e);if(t||(t=this.isNullable?null:this.defaultValue),ku(t))for(o in r={},this.dataTemplate)this.dataTemplate.hasOwnProperty(o)&&(r[o]=this.dataTemplate[o].read(s?e[o]:null,t[o],n+"-"+o,i));else r=t,e!==t&&(i.isChanged=!0);return r},we.prototype.read=function(e,t,n,i){var r;return(null===t||typeof t>"u"||!this.hash.hasOwnProperty(t))&&(t=this.isNullable?null:this.defaultValue),r=t,e!==t&&(i.isChanged=!0),r},ys.prototype.read=function(e,t,n,i){return"function"==typeof t?t:null};var _s={};function uv(e){this.id=e,this.rowType=0,this.index=0,this.offset=0,this.extend=!0,this.depth=0,this.groups=[],this.groups[0]=[[1,1]],this.getDepth=function(){var[t,n]=this.groups.reduce((i,r)=>r.reduce(([s,o],a)=>{var[l,u]=a||[1,1];return[s+l,Math.max(o,s+u)]},i),[0,0]);return Math.max(t,n)||1},this.addRowDepth=function(t,n,i,r){var s=_s[t];this.groups[s]||(this.groups[s]=[]);var o=this.groups[s],[a,l]=o[i]||[1,1];o[i]=[Math.max(a,n?r:1),Math.max(l,r)]}}_s[0]=0,_s[1]=0,_s[2]=0,_s[3]=1,_s[4]=1,_s[5]=2,_s[6]=3;const UM=function E3(){var e=Ir(),t=function k3(){var e={},t=1;return{find:function n(r,s,o){var a=r+"-"+s+"-"+o;return e.hasOwnProperty(a)||(e[a]=t,t+=1),e[a]},get:function i(){var r=t;return t+=1,r}}}(),n={};function i(m){var g=t.find(null,6,0),_=new uv(g);return _.rowType=0,_.index=0,_.offset=0,_.extend=!1,e.add(null,g,_),n[m]=g,g}function l(m,g,_,b,y,v,w){var S=e.node(g);S||((S=new uv(g)).extend=w,S.index=y||0,S.offset=v||0,S.rowType=b,e.add(m,g,S)),_.forEach(T=>{n[T.id]=g})}return{mergeToParent:function r(m,g){var _=n[m]||i(m);g.forEach(b=>{n[b.id]=_})},mergeToChild:function s(m,g,_,b,y,v){var w=n[m]||i(m);l(w,t.find(w,_,b),g,_,b,y,v)},addChild:function o(m,g,_,b,y,v){l(n[m]||i(m),t.get(),g,_,b,y,v)},addSplitChildren:function a(m,g,_,b,y){var v=n[m]||i(m);g.forEach(w=>{var S=t.get(),T=new uv(S);T.extend=!1,T.index=b||0,T.offset=y||0,T.rowType=_,e.add(v,S,T),n[w.id]=S})},align:function u(m){e.loopPostOrder(this,function(g,_,b,y){_.depth=_.getDepth()+_.offset,y?.addRowDepth(_.rowType,_.extend,_.index,_.depth)})},loopGroupTypes:function c(m,g,_){var y=e.node(n[g]);if(y)for(var v=0,w=y.groups.length;v<w&&(!y.groups[v]||!_.call(m,v,w));v+=1);},getRowDepth:function h(m,g,_){var v=(e.node(n[m]).groups[g]||[])[_];return v&&v[0]||1},getRowsDepth:function f(m,g){return(e.node(n[m]).groups[g]||[]).map(v=>v[0])},loopRows:function p(m,g,_,b){for(var S=e.node(n[g]).groups[_s[_]]||[],T=0;T<S.length;T+=1){var C=S[T];if(C&&b.call(m,C[0],T))break}},getGroupSize:function d(m,g){var b=e.node(n[m]);return b&&b.groups.hasOwnProperty(g)?b.groups[g].length:0}}};function A3(){this.id=null,this.visualAggregatorId=null,this.partners=[],this.visibility=ie.Normal,this.actualItemType=null,this.connectorPlacement=0,this.gravity=0,this.relationDegree=0}function cv(){this.hasVisibleChildren=!1,this.hasPartners=!1,this.isPartner=!1,this.hasLeavesOnly=!0,this.hasChildren=!1,this.typeSorter=function x3(){var e=[];return{addChild:function i(r,s,o){switch(r){case dt.SubAssistant:case dt.Assistant:s=s<0||null==s?0:s;break;default:s=0}e[r]=e[r]||[];var a=e[r];a[s]=a[s]||[],a[s].push(o)},getRow:function t(r,s){return(e[r]||[])[s||0]||[]},getRows:function n(r){return e[r]||[]}}}(),this.groupSorter=function O3(){var e=[];function r(o,a,l){e[o]=e[o]||[];var u=e[o];u[a]=u[a]||[],u[a].push(l)}return{addChild:function s(o,a,l){switch(o){case dt.SubAdviser:case dt.Adviser:r(0,0,l);break;case dt.SubAssistant:case dt.Assistant:r(1,a=a<0||null==a?0:a,l);break;case dt.Regular:a<0||null==a?r(3,0,l):r(2,a,l)}},getLength:function i(){return e.length},getRow:function t(o,a){return(e[o]||[])[a||0]||[]},getRows:function n(o){return e[o]||[]}}}()}function N3(e,t,n){var i,r,s,o,a,l,u=function L3(){var e;function c(f,p,m,g){var y;return g%2>0&&(p===g-1?p=f.length:p===g&&(p=g-1)),(y=m*g+p)>f.length-1?null:f[y]}function h(f,p,m){var g;return g=d({visibility:ie.Invisible,visualAggregatorId:p.visualAggregatorId,connectorPlacement:p.visibility==ie.Invisible&&0==(1&p.connectorPlacement)||m?0:5}),f.insert(p.id,g.id,g),p.visualAggregatorId=g.id,g}function d(f,p){var g,m=new A3;for(g in null!=p&&(m.actualItemType=p.itemType,m.adviserPlacementType=p.adviserPlacementType),f)f.hasOwnProperty(g)&&(m[g]=f[g]);return null!=p?(m.id=p.id,m.visibility=p.isVisible?ie.Auto:ie.Invisible):m.id=e+=1,m}return{build:function n(f,p,m,g){e=p;var{visualTree:_,navigationFamily:b,branchAligner:y}=function i(f,p,m){var g,_,b,y={},v=Ir(),w=function F3(e){var t=e,n=Vo();return{define:function i(s,o,a){var l=[];!a&&s.isVisible&&t.hasOwnProperty(s.id)?l.push(s.id):(!a&&s.isVisible&&l.push(s.id),n.loopParents(this,s.id,function(u,c,h){if(c.isVisible&&(l.push(u),t.hasOwnProperty(u)))return n.SKIP})),null!=n.node(o.id)?n.adopt(l,o.id):n.add(l,o.id,o)},getFamily:function r(){return n}}}(m);f.loopPostOrder(this,function(C,M,D,I){y.hasOwnProperty(C)||(y[C]=new cv);var E=y[C];if(E.actualItemType=M.itemType,null!=I){y.hasOwnProperty(D)||(y[D]=new cv);var P=y[D];P.hasVisibleChildren=P.hasVisibleChildren||M.isVisible||E.hasVisibleChildren,P.hasChildren=!0,P.hasLeavesOnly=P.hasLeavesOnly&&!E.hasChildren}}),f.loopPreOrder(this,function(C,M,D,I){var E=y[C],P=y[D];switch(P||((P=new cv).actualItemType=dt.Regular,y[D]=P),E.actualItemType){case dt.LimitedPartner:case dt.AdviserPartner:case dt.GeneralPartner:P.isPartner?E.actualItemType=dt.Adviser:(E.isPartner=!0,P.hasPartners=!0);break;case dt.Regular:P.isPartner&&(E.actualItemType=dt.Assistant)}});var S=UM();f.loopLevels(this,function(C,M,D){var I=y[C];if(!I.hasVisibleChildren)return f.SKIP;f.loopChildren(this,C,function(N,B,U){var X=y[N];I.typeSorter.addChild(X.actualItemType,B.levelOffset,B),I.groupSorter.addChild(X.actualItemType,B.levelOffset,B)});var E=[];I.hasPartners&&(E=[...I.typeSorter.getRow(dt.AdviserPartner),...I.typeSorter.getRow(dt.LimitedPartner),...I.typeSorter.getRow(dt.GeneralPartner)]);var P=I.typeSorter.getRow(dt.Adviser);if(P.length>0){if(!(O=E.length>0))switch(M.placeAdvisersAboveChildren){case Re.Auto:O=p.placeAdvisersAboveChildren;break;case Re.True:O=!0}p.alignBranches?(I.isPartner&&(O=!0),O?S.mergeToChild(C,P,1,0,0,O):S.mergeToParent(C,P)):S.addChild(C,P,1,0,0,O)}var V=I.typeSorter.getRow(dt.SubAdviser);if(V.length>0){if(!(O=E.length>0))switch(M.placeAdvisersAboveChildren){case Re.Auto:O=p.placeAdvisersAboveChildren;break;case Re.True:O=!0}p.alignBranches?(I.isPartner&&(O=!0),S.mergeToChild(C,V,2,0,1,O)):S.addChild(C,V,2,0,1,O)}var k=I.typeSorter.getRows(dt.Assistant);if(k.length>0){if(!(O=E.length>0))switch(M.placeAssistantsAboveChildren){case Re.Auto:O=p.placeAssistantsAboveChildren;break;case Re.True:O=!0}k.forEach((B,U)=>{p.alignBranches?S.mergeToChild(C,B,3,U,0,O):S.addChild(C,B,3,U,0,O)})}var x=I.typeSorter.getRows(dt.SubAssistant);if(x.length>0){var O;if(!(O=E.length>0))switch(M.placeAssistantsAboveChildren){case Re.Auto:O=p.placeAssistantsAboveChildren;break;case Re.True:O=!0}x.forEach((B,U)=>{p.alignBranches?S.mergeToChild(C,B,4,U,1,O):S.addChild(C,B,4,U,1,O)})}E.length>0&&S.mergeToParent(C,E);var F=I.groupSorter.getRows(2);F.length>0&&F.forEach((N,B)=>{p.alignBranches?S.mergeToChild(C,N,5,B,0,!0):S.addChild(C,N,5,B,0,!0)});var z=I.groupSorter.getRow(3);if(z.length>0){var re=function u(f,p,m,g){var _=[];switch(m===At.Auto&&(m=g?f.leavesPlacementType===At.Auto?At.Matrix:f.leavesPlacementType:f.childrenPlacementType===At.Auto?At.Horizontal:f.childrenPlacementType),m==At.Matrix&&p.length<3&&(m=At.Horizontal),m){case At.Horizontal:_.push(p);break;case At.Matrix:for(var b=Math.min(f.maximumColumnsInMatrix,Math.ceil(Math.sqrt(p.length))),y=0;y<p.length;y+=b)_.push(p.slice(y,y+b));break;case At.Vertical:p.forEach(v=>{_.push([v])})}return _}(p,z,M.childrenPlacementType,y[C].hasLeavesOnly);re.forEach((N,B)=>{p.alignBranches?S.mergeToChild(C,N,6,B,0,!0):B==re.length-1?S.addSplitChildren(C,N,6,B,0):S.addChild(C,N,6,B,0,!0)})}}),S.align();var T={};return f.loopLevels(this,function(C,M,D){var I=y[C],E=v.node(C);E||(E=d({visibility:ie.Invisible,connectorPlacement:0,parentId:null,actualItemType:dt.Regular},M),v.add(null,C,E)),_=0,b=0,null!=(g=v.indexOf(C))&&(_=g,b=v.countSiblings(C)-g-1);var P=[];I.hasPartners&&(P=[...I.typeSorter.getRow(dt.AdviserPartner),...I.typeSorter.getRow(dt.LimitedPartner),...I.typeSorter.getRow(dt.GeneralPartner)]);var O=E,V=null,k=!0;if(S.loopGroupTypes(this,C,function(x,F){if(!I.hasPartners&&!I.isPartner&&x>I.groupSorter.getLength()-1)return!0;x>1&&k&&(k=!1,I.hasPartners&&(T[C]=[O.id],O=V||O,V=null,O.partners=T[C]),I.isPartner&&T[M.parent].push(O.id));var z=(I.isPartner||I.hasPartners)&&x<=1;z=z||x<I.groupSorter.getLength()-1;var W=[];switch(x){case 0:var re=I.groupSorter.getRows(0)[0]||[],N=S.getRowDepth(C,0,0);if(function s(f,p,m,g,_,b){g.map(y=>d({},y)).forEach(y=>{var w;p[y.id].actualItemType===dt.SubAdviser?(y.connectorPlacement=5,w=d({visibility:ie.Invisible}),f.add(w.id,y.id,y)):w=y;var S=f.parent(m.id);if(2&m.connectorPlacement)f.add(S.id,w.id,w,_),w.connectorPlacement=6,w.gravity=Ie.Right;else if(8&m.connectorPlacement)f.add(S.id,w.id,w,f.countChildren(S.id)-b),w.connectorPlacement=12,w.gravity=Ie.Left;else switch(y.adviserPlacementType===vt.Left?(f.add(S.id,w.id,w,_),w.connectorPlacement=6,w.gravity=Ie.Right):(f.add(S.id,w.id,w,f.countChildren(S.id)-b),w.connectorPlacement=12,w.gravity=Ie.Left),y.actualItemType){case dt.GeneralPartner:w.connectorPlacement=5;break;case dt.LimitedPartner:w.connectorPlacement=4}})}(v,y,O,re,_,b),re.forEach(G=>w.define(M,G)),P.length>0&&(V=function r(f,p,m,w,_,b){var y=[],v=[];w.map(O=>d({},O)).forEach(O=>{var V=!0;if(2&m.connectorPlacement)V=!0,O.connectorPlacement=6;else if(8&m.connectorPlacement)V=!1,O.connectorPlacement=12;else switch(O.adviserPlacementType===vt.Left?(V=!0,O.connectorPlacement=6):(V=!1,O.connectorPlacement=12),p[O.id].actualItemType){case dt.GeneralPartner:O.connectorPlacement=5;break;case dt.LimitedPartner:O.connectorPlacement=4}V?y.unshift(O):v.push(O)}),w=[...y,m,...v];var S=y.length,T=Math.floor(w.length/2),C=null;w.length%2==0&&(C=d({visibility:ie.Invisible}),w.splice(T,0,C),T<=S&&(S+=1));for(var M=f.parent(m.id),D=S-1;D>=0;D-=1)f.add(M.id,(I=w[D]).id,I,_),I.gravity=Ie.Right;for(D=S+1;D<w.length;D+=1){var I;f.add(M.id,(I=w[D]).id,I,f.countChildren(M.id)-b),I.gravity=Ie.Left}return null!=C&&(C.connectorPlacement=10&(T<=S?w[T-1]:w[T+1]).connectorPlacement),w[T]}(v,y,O,P,_,b),P.forEach(G=>{w.define(M,G,!0),G.id!=E.id&&(I.groupSorter.getRows(2).forEach(je=>je.forEach(Ot=>w.define(G,Ot))),I.groupSorter.getRow(3).forEach(je=>w.define(G,je)))})),I.hasPartners||I.isPartner||x<I.groupSorter.getLength()-1)for(;N>1;)O=h(v,O,!1),V&&(V=h(v,V,!1)),N-=1;break;case 1:W=I.groupSorter.getRows(1),S.loopRows(this,C,3,function(G,ae){var de=W[ae]||[];if(!z&&ae>W.length-1)return!0;if(O=function o(f,p,m,g){var _=h(f,m,!1);return g.map(b=>d({},b)).forEach(b=>{var v;switch(p[b.id].actualItemType){case dt.SubAssistant:b.connectorPlacement=5,v=d({visibility:ie.Invisible}),f.add(v.id,b.id,b);break;case dt.Assistant:v=b}b.adviserPlacementType===vt.Left?(f.add(m.id,v.id,v,0),v.connectorPlacement=6,v.gravity=Ie.Right):(f.add(m.id,v.id,v),v.connectorPlacement=12,v.gravity=Ie.Left)}),_}(v,y,O,de),V&&(V=h(v,V,!1)),de.forEach(je=>w.define(M,je)),I.hasPartners||I.isPartner||ae<W.length-1||x<I.groupSorter.getLength()-1)for(;G>1;)O=h(v,O,!1),V&&(V=h(v,V,!1)),G-=1});break;case 2:W=I.groupSorter.getRows(2),S.loopRows(this,C,5,function(G,ae){var de=W[ae]||[];if(!z&&ae>W.length-1)return!0;if(O=function a(f,p,m,g,_,b){var y=null;g&&(y=h(f,p,_));var v=0;switch(b){case Ie.Center:v=Math.ceil(m.length/2)-1;break;case Ie.Left:v=-1;break;case Ie.Right:v=m.length-1}for(var w=v;w>=0;w-=1){var S=d({},m[w]);f.add(p.id,S.id,S,0),S.connectorPlacement=5,S.gravity=Ie.Right}for(w=v+1;w<m.length;w+=1)S=d({},m[w]),f.add(p.id,S.id,S),S.connectorPlacement=5,S.gravity=Ie.Left;return y}(v,O,de,z||ae<W.length-1,E.visibility==ie.Invisible&&0===E.connectorPlacement,p.horizontalAlignment),de.forEach(Ot=>w.define(M,Ot)),ae<W.length-1||x<I.groupSorter.getLength()-1)for(;G>1;)O=h(v,O,!1),G-=1});break;case 3:var B=I.groupSorter.getRow(3);if(B.length>0){var U=y[E.id],X=S.getRowsDepth(C,3);(function l(f,p,m,g,_,S,y,v,w){var T,C,M,D,I,E,P,O,V,k,x,F,z,W=_.visibility==ie.Invisible&&0===_.connectorPlacement;switch(g.horizontalAlignment){case Ie.Center:case Ie.Left:z=vt.Right;break;case Ie.Right:z=vt.Left}switch(v===At.Auto&&(v=w?g.leavesPlacementType===At.Auto?At.Matrix:g.leavesPlacementType:g.childrenPlacementType===At.Auto?At.Horizontal:g.childrenPlacementType),v==At.Matrix&&y.length<3&&(v=At.Horizontal),v){case At.Horizontal:for(x=0,F=y.length;x<F;x+=1)I=d({},y[x]),E=f.node(I.id),p.add(S.id,I.id,I),I.connectorPlacement=(E.hideParentConnection?0:1)|(E.hideChildrenConnection?0:4),0===x&&(I.relationDegree=1);break;case At.Matrix:P=Math.min(g.maximumColumnsInMatrix,Math.ceil(Math.sqrt(y.length))),O=Math.ceil(y.length/P),V=Math.ceil(P/2);for(var re=0;re<V;re+=1)for(T=S,k=0;k<O;k+=1){if(C=c(y,2*re,k,P),M=c(y,2*re+1,k,P),null!==C||null!==M)for(var N=m[k-1]||1;N>1;)D=d({visibility:ie.Invisible,connectorPlacement:W?0:5}),p.add(T.id,D.id,D),T=D,N-=1;null!==C&&(C=d({},C),0===re&&(C.relationDegree=1),p.add(T.id,C.id,C),C.connectorPlacement=4|(W?0:2),C.gravity=Ie.Right),(null!==C||null!==M)&&(D=d({visibility:ie.Invisible,connectorPlacement:W?0:5}),p.add(T.id,D.id,D)),null!==M&&(M=d({},M),p.add(T.id,M.id,M),M.connectorPlacement=4|(W?0:8),M.gravity=Ie.Left),T=D}P>2&&(S.visualAggregatorId=null);break;case At.Vertical:for(x=0,F=y.length;x<F;x+=1){I=d({},y[x]),N=x==F-1?1:m[x]||1;for(var B=S;N>0;)D=d({visibility:ie.Invisible,connectorPlacement:W?0:5}),p.add(B.id,D.id,D),B=D,N-=1;switch(z){case vt.Left:p.add(S.id,I.id,I,0),I.connectorPlacement=4|(W?0:2),I.gravity=Ie.Right;break;case vt.Right:p.add(S.id,I.id,I),I.connectorPlacement=4|(W?0:8),I.gravity=Ie.Left}S=D}break;default:throw"Children placement is undefined!"}})(f,v,X,p,E,O,B,M.childrenPlacementType,U.hasLeavesOnly),B.forEach(G=>w.define(M,G))}}}),k&&(k=!1,I.hasPartners&&(T[C]=[O.id],O=V||O,V=null,O.partners=T[C]),I.isPartner&&T[M.parent].push(O.id)),!I.hasVisibleChildren)return f.SKIP}),{visualTree:v,navigationFamily:w,branchAligner:S}}(f,g,m);return{visualTree:_,navigationFamily:b.getFamily(),branchAligner:y,treeItemCounter:e}}}}();return{process:function c(){var b=e.getOrgTree(),y=n.getOptions(),v=null!=t?t.getActiveItems():{};return a=e.getMaximumId(),b.hasNodes()?({visualTree:i,navigationFamily:o,treeItemCounter:a,branchAligner:l}=u.build(b,a,v,y)):(i=Ir(),o=Vo(),l=UM()),({leftMargins:r,rightMargins:s}=function h(b){var y={},v={};return b.loop(this,function(w,S){y[w]=[],v[w]=[]}),b.loopPostOrder(this,function(w,S,T,C){var P,O,M=y[T],D=v[T],I=y[w],E=v[w];if(null!=T){for(M[0]||(M[0]=w),P=0,O=I.length;P<O;P+=1)M[P+1]||(M[P+1]=I[P]);for(D[0]=w,P=0,O=E.length;P<O;P+=1)D[P+1]=E[P]}}),{leftMargins:y,rightMargins:v}}(i)),!0},getVisualTree:function d(){return i},getLogicalFamily:function f(){return o},getLeftMargins:function m(){return r},getRightMargins:function g(){return s},getMaximumId:function _(){return a},getBranchAligner:function p(){return l}}}function wd(){this.parentsStackSize=0}function jM(e,t,n,i){var s,o,u,c,r=null,a=n||0,l=i||e.length-1;if(e.length>0&&(r={index:a,item:c=e[a]},(s=t(c,a))>0))if(o=Math.abs(s),(s=t(c=e[l],l))>=0)r={index:l,item:c};else for(o>(s=Math.abs(s))&&(o=s,r={index:l,item:c});a+1<l;){if(0===(s=t(c=e[u=Math.round((a+l)/2)],u))){r={index:u,item:c};break}s>0?a=u:l=u,o>(s=Math.abs(s))&&(o=s,r={index:u,item:c})}return r}function Td(e){var t=[],n={},i=null,r=null;function o(k){this.context=k,this.items=[]}function a(k,x,F){this.context=k,this.positions={},this.positions[F]=x,this.startLevel=F,this.endLevel=F}function v(k){return null==t[k]&&(t[k]=new o(null),i=null===i?k:Math.min(i,k),r=null===r?k:Math.max(r,k)),t[k]}return function s(k){ku(k)&&(t=Bn(k.levels,!0),n=Bn(k.items,!0),i=Bn(k.minimum,!0),r=Bn(k.maximum,!0))}(e),{addlevel:function c(k,x){v(k).context=x},hasLevel:function b(k){return null!=t[k]},hasItem:function _(k){return n.hasOwnProperty(k)},addItem:function w(k,x,F){var z,W;n.hasOwnProperty(x)?((z=v(k)).items.push(x),(W=n[x]).positions[k]=z.items.length-1,W.startLevel=Math.min(W.startLevel,k),W.endLevel=Math.max(W.endLevel,k)):((z=v(k)).items.push(x),n[x]=new a(F,z.items.length-1,k))},getItemContext:function y(k){var x=null;return n.hasOwnProperty(k)&&(x=n[k].context),x},getLevelIndex:function h(k){return n.hasOwnProperty(k)?n[k].startLevel:null},getEndLevelIndex:function d(k){return n.hasOwnProperty(k)?n[k].endLevel:null},getItemPosition:function f(k,x){var F=n[k];return null!=F?null!=x?F.positions[x]:F.positions[F.startLevel]:null},getItemAtPosition:function p(k,x){var F=t[k],z=null;return null!=F&&(z=F.items[x]),z},loopLevels:function S(k,x){var F,z;if(null!=x)for(F=i;F<=r&&(null==(z=t[F])||!x.call(k,F,z.context));F+=1);},loopLevelsReversed:function T(k,x){var F,z;if(null!=x)for(F=r;F>=i&&(null==(z=t[F])||!x.call(k,F,z.context));F-=1);},loopLevelItems:function M(k,x,F){var z,W,re,N;if(null!=F&&null!=(re=t[x]))for(z=0,W=re.items.length;z<W&&!F.call(k,N=re.items[z],n[N].context,z);z+=1);},getLevelLength:function C(k){var x=0,F=t[k];return null!=F&&(x=F.items.length),x},loopItems:function D(k,x){var F,z,W,re,N,B,U={};if(null!=x)for(re=i;re<=r;re+=1)if(null!=(W=t[re]))for(F=0,z=(N=W.items).length;F<z;F+=1)if(!U.hasOwnProperty(B=N[F])&&(U[B]=!0,x.call(k,B,n[B].context,F,re,W.context)))return},binarySearch:function I(k,x,F){var W,z=null;return null!=F&&null!=(W=t[x])&&(z=jM(W.items,function(re){return F.call(k,re,n[re].context)})),z.item},loopMerged:function E(k,x,F){var z,W,re,N,U,B=[];for(z=0,W=t.length;z<W;z+=1)null!=(re=t[z])&&B.push(re.items);if(U=function V3(e,t,n){var r,s,o,a,l,u,c,h,d,f,p,m,g,i=null;if(0===e.length)i=[];else{for(r=[],a=0;a<e.length;a+=1){for(o=[],h=(s=e[a]).length,l=0,u=0,d=null,p=null,f=null,m=null,(c=r.length)>0&&(d=r[l],p=t?t(d):d),h>0&&(f=s[u],m=t?t(f):f),g=null;l<c||u<h;)l>=c?((!n||g!=f)&&(o.push(f),g=f),(u+=1)<h&&(f=s[u],m=t?t(f):f)):u>=h||p<m?((!n||g!=d)&&(o.push(d),g=d),(l+=1)<c&&(d=r[l],p=t?t(d):d)):((!n||g!=f)&&(o.push(f),g=f),(u+=1)<h&&(f=s[u],m=t?t(f):f));r=o}i=r}return i}(B,x,!0),null!=F)for(z=0,W=U.length;z<W&&!F.call(k,N=U[z],n[N].context);z+=1);},loopFromItem:function P(k,x,F,z,W){var re,N,B,U,X,Q,G;if(n.hasOwnProperty(x)&&(re=n[x],U=t[Q=W||re.startLevel].items,G=re.positions[Q],null!=z))if(F)for(N=G-1;N>=0&&!z.call(k,X=U[N],n[X].context);N-=1);else for(N=G+1,B=U.length;N<B&&!z.call(k,X=U[N],n[X].context);N+=1);},loopLevelsFromItem:function O(k,x,F,z){var W,re,G;if(n.hasOwnProperty(x)&&(W=n[x],null!=z))if(F)for(re=W.endLevel+1;re<=r&&!z.call(k,re,null!=(G=t[re])?G.context:null);re+=1);else for(re=W.startLevel-1;re>=i&&!z.call(k,re,null!=(G=t[re])?G.context:null);re-=1);},getPrevItem:function m(k,x){var F=null;if(n.hasOwnProperty(k)){var z=n[k];F=t[x=x||z.startLevel].items[z.positions[x]-1]}return F},getNextItem:function g(k,x){var F=null;if(n.hasOwnProperty(k)){var z=n[k];F=t[x=x||z.startLevel].items[z.positions[x]+1]}return F},length:function u(){return t.length},isEmpty:function l(){return!t.length},clone:function V(){return Td({levels:t,items:n,minimum:i,maximum:r})}}}function hv(){var e=[];function i(s,o,a,l){this.context=a,this.from=s,this.to=o,this.offset=null,this.direction=l}function r(s,o,a,l,u){if(s>=o.length)return 0;if(a.hasOwnProperty(s))return a[s];for(var h=o[s],d=r(s+1,o,a,l,u),f=s+1;f<o.length&&!(o[f].from>=h.to);)f+=1;var m=1+r(f,o,a,l,u);return m>d?(a[s]=m,l[s]=f,u[s]=!0):(a[s]=d,l[s]=s+1,u[s]=!1),a[s]}return{add:function t(s,o,a){e.push(s<o?new i(s,o,a,1):new i(o,s,a,-1))},resolve:function n(s,o){var l,u,c,h,d,f,p,m,g=0;if(null!=o){for((c=e.slice(0)).sort(function(_,b){return _.from-b.from}),f=[];c.length>0;){for(r(0,c,{},l={},u={}),d=[],f[g]=[],m=0;l.hasOwnProperty(m);)u[m]&&(d.push(m),f[g].push(c[m])),m=l[m];for(m=d.length-1;m>=0;m-=1)c.splice(d[m],1);g+=1}for(p=0;p<g;p+=1)for(d=f[p],m=0;m<d.length;m+=1)if(o.call(s,(h=d[m]).from,h.to,h.context,p,g,h.direction))return g}return g}}}function ue(e,t){switch(this.x=null,this.y=null,this.context=null,arguments.length){case 1:this.x=e.x,this.y=e.y,this.context=e.context;break;case 2:this.x=e,this.y=t}}function Bo(e,t,n,i){switch(this.a1=null,this.b1=null,this.a2=null,this.b2=null,arguments.length){case 1:this.a1=e.a1,this.b1=e.b1,this.a2=e.a2,this.b2=e.b2;break;case 4:this.a1=e,this.b1=t,this.a2=n,this.b2=i}}function Bt(e,t){switch(this.from=null,this.to=null,this.context=null,arguments.length){case 1:this.from=e.from,this.to=e.to;break;case 2:this.from=e,this.to=t}}function Vi(e,t,n){switch(this.from=null,this.to=null,this.context=null,arguments.length){case 1:this.from=e.from,this.to=e.to,this.context=e.context;break;case 2:this.from=e,this.to=t;break;case 3:this.from=e,this.to=t,this.context=n}}function se(e,t,n,i){switch(this.x=null,this.y=null,this.width=null,this.height=null,this.context=null,arguments.length){case 1:this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height;break;case 2:this.x=Math.min(e.x,t.x),this.y=Math.min(e.y,t.y),this.width=Math.abs(t.x-e.x),this.height=Math.abs(t.y-e.y);break;case 4:this.x=e,this.y=t,this.width=n,this.height=i}}function zn(e){var t,n,i,r;for(this.lineColor=L.Silver,this.lineWidth=1,this.lineType=Qt.Solid,this.fillColor=null,this.opacity=null,this._key="",i=0,r=(n=["lineColor","lineWidth","lineType","fillColor","opacity"]).length;i<r;i+=1)t=n[i],null!=e&&e.hasOwnProperty(t)&&(this[t]=e[t]),this._key+=(Ni(this._key)?"":", ")+t+":"+this[t]}function rt(){this.parent=ue.prototype,this.parent.constructor.apply(this,arguments),this.segmentType=1}function Ve(){this.parent=rt.prototype,this.parent.constructor.apply(this,arguments),this.segmentType=0}function gn(e,t,n,i){switch(this.x=null,this.y=null,this.cpX=null,this.cpY=null,arguments.length){case 2:this.x=t.x,this.y=t.y,this.cpX=e.x,this.cpY=e.y;break;case 4:this.cpX=e,this.cpY=t,this.x=n,this.y=i}this.segmentType=2}function Kn(e){var i,r,t=new zn,n=[];function s(){var D=null;return n.length>0&&(D=n[0].getEndPoint()),D}function o(){var D=null;return n.length>0&&(D=n[n.length-1].getEndPoint()),D}function a(D){n.push(D)}function l(D){var I,E;for(I=0,E=D.length;I<E;I+=1)n.push(D[I])}function u(D){D.addSegments(n)}function c(){var D,I,E=new Kn(t),P=[];for(D=0,I=n.length;D<I;D+=1)P.push(n[D].clone());return E.addSegments(P),E}function h(){return n.length}function d(D,I){var E,P,O;if(null!=I)for(E=0,P=n.length;E<P&&(!(O=n[E])||!I.call(D,O,E));E+=1);}function f(D,I){var E,P;if(null!=I)for(E=n.length-1;E>=0&&(!(P=n[E])||!I.call(D,P,E));E-=1);}function p(D,I){d(this,function(E){null!=E.transform&&E.transform(D,I)})}function m(){return Ni(t.fillColor)}function g(D){var I=!1,E=[];m()?D.loopReversed(this,function(P,O){4!=P.segmentType&&(I||(n.push(new rt(P.getEndPoint())),I=!0),E.unshift(P),E.length>1&&(E[1].invert(E[0].getEndPoint()),n.push(E[1]),E.length=1))}):D.mergeTo(i)}function _(D,I,E,P,O,V){var x,F,z,W,re,k=new Kn(r),N=[new ue(O,-V/2),new ue(0,0),new ue(O,V/2),new ue(O/4*3,0)],B=Math.atan2(I-P,D-E);for(x=0,F=N.length;x<F;x+=1)W=(z=N[x]).x*Math.cos(B)-z.y*Math.sin(B),re=z.x*Math.sin(B)+z.y*Math.cos(B),z.x=W+E,z.y=re+P;return k.addSegment(new rt(N[0].x,N[0].y)),k.addSegment(new Ve(N[1].x,N[1].y)),k.addSegment(new Ve(N[2].x,N[2].y)),k.addSegment(new gn(N[3].x,N[3].y,N[0].x,N[0].y)),k}function b(D,I,E,P,O){var V,k,x,F,z,W,U,X,re=n.length,N=3*I,B=2*I;switch(I){case 1:N=8,B=6;break;case 2:N=12,B=8;break;case 3:N=16,B=10}null!=O&&re>1&&(V=n[re-2].getEndPoint(),null!=(x=n[re-1]).offsetPoint&&(k=new ue(x.getEndPoint()),(X=V.distanceTo(k))>P&&(U=X*E,D?(F=x.offsetPoint(V,k,U),W=_(V.x,V.y,F.x,F.y,N,B)):(z=x.offsetPoint(k,V,U),W=_(k.x,k.y,z.x,z.y,N,B)),O(W))))}function y(D,I){var E,P,O,V,x=n.length,F=3*D,z=2*D;switch(D){case 1:F=8,z=6;break;case 2:F=12,z=8;break;case 3:F=16,z=10}null!=I&&x>1&&(E=n[x-2].getEndPoint(),null!=(O=n[x-1]).trim&&(P=new ue(O.getEndPoint())).distanceTo(E)>=F&&I(_((V=O.trim(E,F)).x,V.y,P.x,P.y,F,z),V))}function v(){var D,I,E,P,O,V,k,x={},F=[],z=[];for(D=0,I=n.length;D<I-1;D+=1)switch(V=n[D],k=n[D+1],V.segmentType){case 0:case 2:case 3:switch(k.segmentType){case 1:case 4:x.hasOwnProperty(P=V.x+"&"+V.y)||(x[P]=D)}break;case 1:x.hasOwnProperty(P=V.x+"&"+V.y)&&!F[x[P]]&&(F[x[P]]=D+1,z[D]=!0)}for(O=[],D=0;D<I;D+=1)if(!z[D]&&(O.push(V=n[D]),z[D]=!0,F[D]>0))for(E=F[D];E<I&&!z[E];)O.push(V=n[E]),z[E]=!0,F[E]>0?E=F[E]:E+=1;n=O}function w(){return t.toString()}function S(D,I){this.segment=D,this.pointIndex=I}function T(D,I,E,P,O){var x,F,z,V=D.relateTo(I),k=O?0:E;2==V?I.offset(k):3==V&&0===I.from.context.pointIndex?(x=new Ve(I.from),P.addSegment(x),I.offset(k),(z=I.from.clone()).context=new S(x,0),F=new Bt(D.to.clone(),z),O||(I.from=z.clone()),F.offset(E),F.intersect(D),F.from.context.pushToSegment(F.from),I.intersect(F),O&&F.to.context.pushToSegment(F.to)):(I.offset(k),I.intersect(D)),I.from.context.pushToSegment(I.from)}function C(D,I,E,P){var V=D[0],k=V.to.context.segment.getEndPoint().toString();I.hasOwnProperty(k)&&(T(V,I[k],E,P,!0),delete I[k]),V.to.context.pushToSegment(V.to),D.length=0}function M(D){var I=new Kn(t),E={},P=[],O=[];return d(this,function(V){var x,k=V.clone();switch(k.segmentType){case 4:case 1:O.length>0&&C(O,E,D,I),P.length=0,1==k.segmentType&&((x=new ue(k)).context=new S(k,0),P.push(x));break;default:k.loop(this,function(F,z,W){var N,U,re=new ue(F,z);switch(re.context=new S(k,W),P.unshift(re),P.length>1&&(O.unshift(new Bt(P[1].clone(),P[0].clone())),P.length=1),O.length){case 1:U=(N=O[0]).from.toString(),E[U]=N,N.offset(D),N.from.context.pushToSegment(N.from);break;case 2:T(O[1],N=O[0],D,I,!1),O.length=1}})}I.addSegment(k)}),O.length>0&&C(O,E,D,I),I}return 1===arguments.length&&(t=e),r=new zn({lineColor:t.lineColor,lineWidth:0,fillColor:t.lineColor,opacity:t.opacity||1}),S.prototype.pushToSegment=function(D){this.segment.setPoint(D,this.pointIndex)},i={paletteItem:t,arrowPaletteItem:r,addSegment:a,addSegments:l,mergeTo:u,length:h,loop:d,loopReversed:f,transform:p,isInvertable:m,addInverted:g,addArrow:y,addOffsetArrow:b,optimizeMoveSegments:v,getOffsetPolyine:M,toString:w,getStartPoint:s,getEndPoint:o,clone:c}}function Xn(e,t,n,i,r,s){switch(this.parent=ue.prototype,this.x=null,this.y=null,this.cpX1=null,this.cpY1=null,this.cpX2=null,this.cpY2=null,arguments.length){case 3:this.parent.constructor.apply(this,[n.x,n.y]),this.cpX1=e.x,this.cpY1=e.y,this.cpX2=t.x,this.cpY2=t.y;break;case 6:this.parent.constructor.apply(this,[r,s]),this.cpX1=e,this.cpY1=t,this.cpX2=n,this.cpY2=i}this.segmentType=3}function bs(){this.NORMAL_ITEM_WEIGHT=10010,this.LINE_ITEM_WEIGHT=1e4}function Cd(e,t,n){this.fromItems=e,this.toItems=t,this.dotId=n||null,this.fromOffset=0,this.fromStackSize=0}function Eu(e,t){this.fromItem=e,this.toItem=t}function B3(e,t){var n={treeLevels:null,bundles:null,connectorStacks:null},i=new wd;return{process:function r(){var h=e.getVisualTree();return n.treeLevels=Td(),h.loopLevels(this,function(d,f,p){n.treeLevels.addItem(p,d,f)}),n.bundles=[],n.connectorStacks=[],function s(h,d,f,p,m){var b,y,v,w,T,C,M,I,E,P,D={};f.loopLevels(this,function(O,V){var k=new wd;if(d[O]=k,M=[],f.loopLevelItems(this,O,function(x,F,z){var W=[];if(!D.hasOwnProperty(x)&&(4&F.connectorPlacement&&W.push(x),(W=W.concat(F.partners)).length>0)){C=new Cd(W,[]);for(var re=0,N=W.length;re<N;re+=1)D[W[re]]=C;p.loopChildren(this,x,function(B,U,X){1&U.connectorPlacement&&C.toItems.push(B)}),W.length>1&&M.push(C),(C.fromItems.length>1||C.toItems.length>0)&&h.push(C)}8&F.connectorPlacement&&(C=new Eu(x,f.getPrevItem(x)),h.push(C)),2&F.connectorPlacement&&(C=new Eu(x,f.getNextItem(x)),h.push(C))}),M.length>0){for(P=hv(),b=0,y=M.length;b<y;b+=1){for(I=null,E=null,v=0,w=(C=M[b]).fromItems.length;v<w;v+=1)T=f.getItemPosition(C.fromItems[v]),I=null!=I?Math.min(I,T):T,E=null!=E?Math.max(E,T):T;P.add(I,E,C)}k.parentsStackSize=P.resolve(this,function(x,F,z,W,re){z.fromOffset=W+1,z.fromStackSize=re})}})}(n.bundles,n.connectorStacks,n.treeLevels,h),!0},getTreeLevels:function o(){return n.treeLevels},getBundles:function a(){return n.bundles},getConnectorsStacksSizes:function c(h){return n.connectorStacks[h]||i},getNestedLayoutParentConnectorIds:function l(){return{}},getNestedLayoutBottomConnectorIds:function u(){return{}}}}function z3(e,t){return{process:function n(a){return!1},getNestedLayoutParentConnectorIds:function i(){return{}},getNestedLayoutBottomConnectorIds:function r(){return{}},getBundles:function s(){return[]},getLayouts:function o(){return{}}}}function Au(e){if(this.currentvisibility=ie.Normal,this.actualVisibility=ie.Normal,this.shift=0,this.depth=0,this.nextLevelShift=0,this.horizontalConnectorsDepth=0,this.topConnectorShift=0,this.connectorShift=0,this.levelSpace=0,this.currentOffset=0,this.labels=[],this.labelsRect=null,this.showLabels=!0,this.hasFixedLabels=!1,null!=e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function il(e){if(this.level=null,this.actualVisibility=ie.Normal,this.actualSize=null,this.actualPosition=null,this.contentPosition=null,this.horizontalConnectorsShift=null,this.topConnectorShift=null,this.topConnectorInterval=0,this.bottomConnectorShift=null,this.bottomConnectorInterval=0,this.leftMedianOffset=null,this.rightMedianOffset=null,null!=e)for(var t in e)e.hasOwnProperty(t)&&("actualPosition"===t?this.actualPosition=new se(e.actualPosition):this[t]=e[t])}function H3(e,t,n){this.offset=e,this.leftPadding=t,this.rightPadding=n}function Qn(e,t,n,i,r){this.visualTree=e,this.treeLevels=t,this.leftMargins=n,this.rightMargins=i,this.getConnectorsStacksSizes=r,this.treeLevelsPositions=[],this.childLayoutsPositions={}}function Sd(e){this.visibility=e}function U3(e,t,n){var i={layoutsTree:{},maximumId:null};return{process:function r(){var a=e.getVisualTree(),l=e.getLeftMargins(),u=e.getRightMargins(),c=e.getMaximumId(),h=t.getTreeLevels(),d=t.getConnectorsStacksSizes,f=n.getLayouts(),p=new Qn(a,h,l,u,d),m=Ir();c++,m.add(null,c,p);for(var g=[{id:c,levelLayout:p}];g.length>0;){for(var _=[],b=0;b<g.length;b+=1){var{id:y,levelLayout:v}=g[b];v.loop(this,function(w){var S=w.id,T=f[S];T?_.push({id:S,levelLayout:T}):T=new Sd(w.visibility),m.add(y,S,T)})}g=_}return i.layoutsTree=m,i.maximumId=c,!0},getLayoutsTree:function s(){return i.layoutsTree},getMaximumId:function o(){return i.maximumId}}}function $M(e,t,n,i,r,s,o){var a={graph:null,nodeid:0};return{process:function l(){var h=i.getBundles(),d=r.getBundles(),f=r.getNestedLayoutParentConnectorIds(),p=r.getNestedLayoutBottomConnectorIds(),m=n.getOptions(),g=null!=o?o.getLoops():[];h=h.concat(d);for(var _={graph:No(),nodeid:0},b={treeItemsPositions:s.getItemsPositions(),nestedLayoutParentConnectorIds:f,nestedLayoutBottomConnectorIds:p,transform:t.getTransform()},y={connectorType:m.connectorType,showExtraArrows:m.showExtraArrows,bevelSize:m.bevelSize,elbowType:m.elbowType},v=0,w=h.length;v<w;v+=1)h[v].trace(_,b,y);return function u(h,d){for(var f=[],p=1;p>=0;p-=1)for(var m=0,g=d.length;m<g;m+=1){var _=d[m];_.isOppositeFlow==(1==p)&&h.getShortestPath(this,_.from,[_.to],function(y,v,w){return y.weight},function(y,v){for(var w=0,S=y.length-1;w<S;w+=1){var M=h.edge(y[w],y[w+1]);M.polyline.length()>0&&(M.isOppositeFlow=1==p,f.push(M))}})}for(m=0,g=f.length;m<g;m+=1){var b=f[m];b.isOppositeFlow&&(b.hasArrow=!0)}}(_.graph,g),a=_,!0},getGraph:function c(){return a.graph}}}function WM(e,t){var n={highlightTreeItemId:null};return{process:function i(){var s=e.getHighlightItem(),o=null!=t?t.getActiveItems():{};return n.highlightTreeItemId=null!=s&&o.hasOwnProperty(s)?s:null,!0},getHighlightTreeItem:function r(){return n.highlightTreeItemId}}}function GM(e,t){var n={cursorTreeItemId:null};return{process:function i(){var o=e.getCursorItem(),a=null!=t?t.getActiveItems():{};return n.cursorTreeItemId=null!=o&&a.hasOwnProperty(o)?o:null,!0},getCursorTreeItem:function r(){return n.cursorTreeItemId},getItems:function s(){return null!=n.cursorTreeItemId?[n.cursorTreeItemId]:[]}}}function j3(e,t){var n={items:[]};return{process:function i(){var o=t.getLogicalFamily(),a=e.getCursorTreeItem();return n.items=function r(o,a){var l=[];return null!==o&&a.loopNeighbours(this,o,function(u,c,h){return c.isVisible&&l.push(u),!0}),l}(a,o),!0},getItems:function s(){return n.items}}}function qM(e,t){var n={items:[]},i={},r=new mt(new R(["string","number"],!0),!0);return{process:function s(){var u={isChanged:!1,hash:i},c=e.getSelectedItems();return n.items=r.read(n.items,function o(u){var d,f,p,c=[],h={};for(d=0,f=u.length;d<f;d+=1)null!=(p=u[d])&&!h.hasOwnProperty(p)&&(h[p]=!0,null!=t.getConfig(p)&&c.push(p));return c}(c),"items",u),u.isChanged},getItems:function l(){return n.items},isSelected:function a(u){return i.items.hasOwnProperty(u)}}}function $3(e,t,n,i){var r={items:[]};return{process:function s(){var l=i.getSelectionPathMode(),u=e.getLogicalFamily(),c=t.getCursorTreeItem(),h=n.getItems().slice(0);return h.push(c),r.items=function o(l,u,c){var f,p,m,h=[],d={};for(p=0,m=l.length;p<m;p+=1)switch(f=l[p],c){case Hs.None:break;case Hs.FullStack:u.loopParents(this,f,function(g,_){if(null!=d[g])return u.SKIP;_.visibility!=ie.Invisible&&h.push(g),d[g]=!0})}return h}(h,u,l),!0},getItems:function a(){return r.items}}}function Xr(e){var t={items:[]},n={},i=new mt(new R(["string","number"],!0),!0);return{process:function r(){var a={isChanged:!1,hash:n},l=e.getAnnotations();return t.items=i.read(t.items,function s(a){var c,h,d,f,p,g,_,l=[],u={};for(c=0,h=a.length;c<h;c+=1)if((g=a[c]).selectItems)for(d=0,f=(p=g.items).length;d<f;d+=1)null!=(_=p[d])&&!u.hasOwnProperty(_)&&(l.push(_),u[_]=!0);return l}(l),"items",a),a.isChanged},getItems:function o(){return t.items}}}function Dd(e){var t={items:[]},n={},i=new mt(new R(["string","number"],!0),!0);return{process:function r(){var a={isChanged:!1,hash:n},l=e.getAnnotations();return t.items=i.read(t.items,function s(a){var c,h,d,l=[],u={};for(c=0,h=a.length;c<h;c+=1)(d=a[c]).selectItems&&(null!=d.fromItem&&!u.hasOwnProperty(d.fromItem)&&(l.push(d.fromItem),u[d.fromItem]=!0),null!=d.toItem&&!u.hasOwnProperty(d.toItem)&&(l.push(d.toItem),u[d.toItem]=!0));return l}(l),"items",a),a.isChanged},getItems:function o(){return t.items}}}function W3(e,t){var n={items:[]},i={},r=new mt(new R(["string","number"],!0),!0);return{process:function s(){var l={isChanged:!1,hash:i},u=t.getOrgTree(),{pageFitMode:c,minimalVisibility:h,minimumVisibleLevels:d}=e.getOptions();return n.items=r.read(n.items,function o(l,u,c,h){var d=[],f=[];if(h>0&&(sn.PageWidth==u||sn.PageHeight||sn.FitToPage)&&c!=ie.Normal){l.loopLevels(this,function(g,_,b){if(_.isVisible){var y=b+_.levelOffset;f[y]?f[y].push(g):f[y]=[g]}});for(var p=0,m=0;m<f.length&&!(null!=f[m]&&(d=d.concat(f[m]),p+=1,p>=h));m+=1);}return d}(u,c,h,d),"items",l),l.isChanged},getItems:function a(){return n.items}}}function KM(e,t,n,i,r,s,o,a,l,u,c,h,d){var f={items:[]},p={},m=[t,n,i,r,s,o,a,l,u,c,h,d],g=new mt(new R(["string","number"],!0),!0);return{process:function _(){var v={isChanged:!1,hash:p},w=e.getOptions();return f.items=g.read(f.items,function b(v,w){var T,C,D,I,E,P,S=[],O={};for(T=0,C=v.length;T<C;T+=1)for(D=0,I=(E=v[T].getItems()).length;D<I;D+=1)O.hasOwnProperty(P=E[D])||(S.push(P),O[P]=!0);return S}(m),"items",v),(w.pageFitMode==sn.None||w.minimalVisibility==ie.Normal)&&(v.isChanged=!1),v.isChanged},isItemSelected:function y(v){return p.items.hasOwnProperty(v)}}}function XM(e,t,n){var i={},r={},s=new me({median:new me({left:new R(["number"],!1,0),top:new R(["number"],!1,0),right:new R(["number"],!1,0),bottom:new R(["number"],!1,0)},!1,new Pe(0,0,0,0)),thickness:new me({left:new R(["number"],!1,0),top:new R(["number"],!1,0),right:new R(["number"],!1,0),bottom:new R(["number"],!1,0)},!1,new Pe(0,0,0,0))});return{process:function o(){var c={isChanged:!1,hash:r};return i=s.read(i,function a(){var c=e.getOptions(),h=c.showFrame,d=c.frameInnerPadding,f=c.frameOuterPadding,p=n.getOptions().scale,m=new Pe(0,0,0,0),g=new Pe(0,0,0,0);if(h){var y,v,_=new Fe(0,0),b=new Pe(0,0,0,0),w=t.getItemTemplates();for(y=0,v=w.length;y<v;y+=1){var T=w[y].templateConfig,C=new Pe(T.cursorPadding),M=new Pe(T.highlightPadding);C.addThickness(T.cursorBorderWidth),M.addThickness(T.highlightBorderWidth),_.maxSize(T.minimizedItemSize),b.maxThickness(T.cursorPadding),b.maxThickness(T.highlightPadding)}(m=new Pe(Math.ceil(_.width/2)+b.right,Math.ceil(_.height/2)+b.bottom,Math.ceil(_.width/2)+b.left,Math.ceil(_.height/2)+b.top)).addThickness(d),m.scale(p),(g=new Pe(_.width+b.left+b.right,_.height+b.top+b.bottom,_.width+b.left+b.right,_.height+b.top+b.bottom)).addThickness(d),g.addThickness(f),g.scale(p)}return{median:m,thickness:g}}(),"options",c),c.isChanged},getMedian:function l(){return i.median},getThickness:function u(){return i.thickness}}}function QM(e,t,n,i){var r={},s={},o=new me({thickness:new me({left:new R(["number"],!1,0),top:new R(["number"],!1,0),right:new R(["number"],!1,0),bottom:new R(["number"],!1,0)},!1,new Pe(0,0,0,0))});return{process:function a(){var c={isChanged:!1,hash:s};return r=o.read(r,function l(){var{levelTitlePlaceInside:c,levelTitlePanelSize:h,levelTitlePlacementType:d}=e.getOptions(),{scale:f}=i.getOptions(),{orientationType:p}=n.getOptions(),m=t.getAnnotations(),g=new Pe(0,0,0,0);if(m.length>0){if(c&&(h=-h),d===vt.Right)switch(p){case qe.Left:g=new Pe(0,h,0,0);break;case qe.Right:g=new Pe(0,0,0,h);break;case qe.Top:case qe.Bottom:g=new Pe(0,0,h,0)}else switch(p){case qe.Left:g=new Pe(0,0,0,h);break;case qe.Right:g=new Pe(0,h,0,0);break;case qe.Top:case qe.Bottom:g=new Pe(h,0,0,0)}g.scale(f)}return{thickness:g}}(),"options",c),c.isChanged},getOptions:function u(){return r}}}function YM(e,t){var n={};return{process:function i(){return n=e(),!0},getOptions:function r(){return n},description:"Raw layout options."}}function ZM(e,t,n,i){var r={},s={},o=new me({scrollPanelSize:new me({width:new R(["number"],!0),height:new R(["number"],!0)},!0),optimalPanelSize:new me({width:new R(["number"],!0),height:new R(["number"],!0)},!0),hasFrame:new R(["boolean"],!0),hasLevelTitles:new R(["boolean"],!0)});return{process:function a(){var u=!1,c={isChanged:!1,hash:s},h=e.getOptions(),{pageFitMode:d}=t.getOptions(),f=new Pe(n.getThickness()),p=new Pe(i.getOptions().thickness);if(h.hasLevelTitles=!1,p.isPositive()){let m=new Fe(h.scrollPanelSize);m.removeThickness(p),h.scrollPanelSize.space()<2*m.space()&&(h.scrollPanelSize=m,h.hasLevelTitles=!0)}if(h.hasFrame=!1,f.isPositive()){let m=new Fe(h.scrollPanelSize);m.removeThickness(f),h.scrollPanelSize.space()<2*m.space()&&(h.scrollPanelSize=m,h.hasFrame=!0)}switch(h.optimalPanelSize=new Fe(h.scrollPanelSize.width-25,h.scrollPanelSize.height-25),r=o.read(r,h,"layout",c),d){case sn.PageWidth:case sn.PageHeight:case sn.FitToPage:case sn.None:case sn.SelectionOnly:u=c.isChanged}return u},getOptions:function l(){return r}}}function JM(e){var t={placeholderOffset:null},n={},i=new me({placeholderOffset:new me({x:new R(["number"],!0),y:new R(["number"],!0)},!0)});return{process:function r(){var o={isChanged:!1,hash:n},a=e.getOptions();return t=i.read(t,a,"layout",o),o.isChanged},getPlaceholderOffset:function s(){return t.placeholderOffset}}}function dv(e,t){this.level=e,this.visibility=t}function eI(e,t,n,i,r,s,o,a,l,u){var c={treeItemsPositions:{},size:null};function p(T,C,M,D,I,E,P,O){var V={};return C.loopPostOrder(this,function(k,x,F,z){var re=M[D[k]],N=I==k,B=E(k),U=P(k);V[k]=x.measure(re,N,B,U,V,O)}),{treeItemsPositions:V,size:V[T].actualSize}}function m(T,C,M){for(var D,I,E=[],P=0;P<=T;P+=1)E.push(ie.Normal);for(D=0;D<=M;D+=1)E[(I=C[D]).level]=I.visibility;return E}function _(T,C,M){var D=!1;switch(M){case sn.PageWidth:C.width>=T.width&&(D=!0);break;case sn.PageHeight:C.height>=T.height&&(D=!0);break;case sn.FitToPage:C.height>=T.height&&C.width>=T.width&&(D=!0)}return D}function b(T,C,M,D){var I=[];return I[ie.Normal]=T,I[ie.Dot]=C,I[ie.Line]=M,I[ie.Invisible]=D,I}function y(T,C,M,D){var I=[];return I[ie.Normal]=T,I[ie.Dot]=C,I[ie.Line]=M,I[ie.Invisible]=D,I}return{process:function h(){var{verticalAlignment:T,pageFitMode:C,minimalVisibility:M,padding:D,normalLevelShift:I,dotLevelShift:E,lineLevelShift:P,normalItemsInterval:O,dotItemsInterval:V,lineItemsInterval:k,checkBoxPanelSize:x,buttonsPanelSize:F,groupTitlePanelSize:z,groupTitlePlacementType:W,cousinsIntervalMultiplier:re}=i.getOptions(),{arrowsDirection:N,linesWidth:B}=r.getOptions(),{maximumColumnsInMatrix:U,horizontalAlignment:X}=s.getOptions(),{orientationType:Q}=n.getOptions(),G=u.isItemSelected,ae=l.getCursorTreeItem(),de=a.getTemplateParams,{optimalPanelSize:je}=e.getOptions(),Ot=new Fe(je),{scale:Zt}=t.getOptions();Ot.scale(1/Zt);var Zn=o.getLayoutsTree(),ml=null;Zn.loopLevels(this,function(J,ee,te){return ml=J,Zn.BREAK});var ac={},lc=0,bf=!1;Zn.loopLevels(this,function(J,ee,te){if(null!=ee.loop){var he=Zn.parentid(J),ye=ac[he]||0;ee.loop(this,function(ve,De){var ke=ye+De;ac[ve.id]=ke,lc=Math.max(lc,ke),bf=!0})}});var wf={verticalAlignment:T,pageFitMode:C,padding:D,minimalVisibility:M,orientationType:Q,arrowsDirection:N,linesWidth:B,checkBoxPanelSize:x,buttonsPanelSize:F,groupTitlePanelSize:z,groupTitlePlacementType:W,maximumColumnsInMatrix:U,horizontalAlignment:X,shifts:b(I,E,P,P),intervals:y(O,V,k,k),cousinsIntervalMultiplier:re};if(c.treeItemsPositions={},c.size=Ot,bf){var{treeItemsPositions:Tf,size:$}=function d(T,C,M,D,I,E,P,O,V){var k,x,F,{orientationType:z,pageFitMode:W,minimalVisibility:re}=V;switch(z){case qe.Left:case qe.Right:T.invert()}switch(W){case sn.None:case sn.AutoSize:x=[new dv(0,ie.Normal)],F=m(C,x,0),k=p(M,D,F,I,E,P,O,V);break;default:if(x=function g(T,C){var M=[new dv(0,ie.Normal)],D=[];switch(C){case ie.Normal:break;case ie.Dot:D.push(ie.Dot);break;case ie.Auto:case ie.Line:case ie.Invisible:D.push(ie.Dot),D.push(ie.Line)}for(var I=T;I>=0;I-=1)for(var E=0;E<D.length;E+=1)M.push(new dv(I,D[E]));return M}(C,re),F=m(C,x,x.length-1),_((k=p(M,D,F,I,E,P,O,V)).size,T,W)){var N=new se(0,0,k.size.width,k.size.height);N.addRect(0,0,T.width,T.height),N.offset(0,0,5,5),function f(T,C,M){var I,D=0;if(!M.call(T,D)){for(I=C;C-D>1;)I=Math.floor((C+D)/2),M.call(T,I)?C=I:D=I;C!==I&&M.call(T,C)}}(this,x.length-1,function(B){return F=m(C,x,B),_((k=p(M,D,F,I,E,P,O,V)).size,N,V.pageFitMode)})}}return k}(Ot,lc,ml,Zn,ac,ae,G,de,wf);c.treeItemsPositions=Tf,c.size=$,c.treeItemsPositions[ml].actualPosition=new se(0,0,c.size.width,c.size.height);var K={};Zn.loopPreOrder(this,function(J,ee,te,he){ee.arrange(this,c.treeItemsPositions[J].actualPosition,K[J],c.treeItemsPositions,wf,function(De,ke,Me){c.treeItemsPositions[De]=ke,K[De]=Me})})}return!0},getItemsPositions:function w(){return c.treeItemsPositions},getItemPosition:function v(T){return c.treeItemsPositions[T]},getContentSize:function S(){return c.size}}}function tI(e){var t=[];switch(e.sort(function(f,p){return f-p}),e.length){case 0:t.push(new l(0,1e6));break;case 1:var n=e[0];t.push(new l(0,n));break;case 2:var i=e[1];i>2*(n=e[0])?(t.push(new l(0,n)),t.push(new l(n,i))):t.push(new l(0,i));break;default:for(var r=function G3(e){for(var t=[],n=e.length,i=0,r=0;r<n;r+=1)t[r]=i+=e[r];function s(d,f){var p=0,m=(t[f]-t[d]+e[d])/(f-d+1),g=jM(e,function(_){return m-_},d,f);return g.item<=m?(p+=m*(g.index+1-d)-(t[g.index]-t[d]+e[d]),p+=t[f]-t[g.index]-m*(f-g.index)):(p+=m*(g.index-d)-(t[g.index]-t[d]-e[g.index]+e[d]),p+=t[f]-t[g.index]+e[g.index]-m*(f-g.index+1)),p}function o(d,f){var p=0;return p+=s(0,d),f>d+1&&(p+=s(d+1,f-1)),p+s(f,n-1)}for(var a=0,l=n-1,u=o(a,l);a<l+1;){var c=o(a+1,l),h=o(a,l-1);if(c<h){if(c>=u)break;a+=1,u=c}else{if(h>=u)break;l-=1,u=h}}return[a,l-1,n-1]}(e),s=0,o=0;o<r.length;o+=1){var a=e[r[o]];t.push(new l(s,a)),s=a}}function l(f,p){this.minimum=f,this.maximum=p,this.quadTree=function q3(e){var t=Math.max(1,function o(f){return Math.floor(Math.log(f)/Math.log(2))}(e)),n=8,i=256,r=null;function s(f,p,m,g){this.x=f,this.y=p,this.scale=m,this.size=g,this.quadrants=[],this.points=[]}function u(f){var p=f.size/2;f.quadrants=[new s(f.x,f.y,f.scale-1,p),new s(f.x+p,f.y,f.scale-1,p),new s(f.x,f.y+p,f.scale-1,p),new s(f.x+p,f.y+p,f.scale-1,p)];for(var m=0,g=f.points.length;m<g;m+=1){var _=f.points[m],b=Math.floor(_.x),y=Math.floor(_.y);f.quadrants[f.getQuadrantIndex(b,y)].points.push(_)}f.points=null}return r=new s(0,0,n,i),s.prototype.notEnclosed=function(f){return this.x<f.x||this.x+this.size>f.x+f.width||this.y<f.y||this.y+this.size>f.y+f.height},s.prototype.overlaps=function(f){return!(this.x+this.size<f.x||f.x+f.width<this.x||this.y+this.size<f.y||f.y+f.height<this.y)},s.prototype.getQuadrantIndex=function(f,p){var m=this.scale-1;return f>>m&1|(p>>m&1)<<1},{addPoint:function a(f){for(var p=Math.floor(f.x),m=Math.floor(f.y),g=Math.max(p,m);i<=g;){var _=new s(0,0,n+=1,i*=2);u(_),_.quadrants[0]=r,r=_}!function l(f){var p=Math.floor(f.x),m=Math.floor(f.y),g=r;if(p<0||m<0)throw"Negative values are not supported in the quad tree.";for(;(null==g.points||g.points.length>0)&&(g.scale!=t||null==g.points);)null!=g.points&&g.points.length>0&&u(g),g=g.quadrants[g.getQuadrantIndex(p,m)];g.points.push(f)}(f)},loopArea:function c(f,p,m){var g,_,b;if(null!=m)for(var y=[r],v=[];y.length>0||v.length>0;){var w=[],S=[];for(_=0,b=y.length;_<b;_+=1)if((g=y[_]).overlaps(p))if(g.notEnclosed(p))if(null==g.points)for(var T=0;T<4;T+=1)w.push(g.quadrants[T]);else for(var C=0,M=g.points.length;C<M;C+=1){var D=g.points[C];if(p.contains(D)&&m.call(f,D))return}else v.push(g);for(_=0,b=v.length;_<b;_+=1)if(null==(g=v[_]).points)for(T=0;T<4;T+=1)S.push(g.quadrants[T]);else for(C=0,M=g.points.length;C<M;C+=1)if(m.call(f,g.points[C]))return;y=w,v=S}},validate:function h(){for(var f=[r];f.length>0;){for(var p=[],m=0,g=f.length;m<g;m+=1){var _=f[m],b=new se(_.x,_.y,_.size,_.size);if(null!=_.points&&_.quadrants.length>0)return!1;if(null==_.points)for(var y=0;y<4;y+=1)p.push(_.quadrants[y]);else for(var v=0,w=_.points.length;v<w;v+=1)if(!b.contains(_.points[v]))return!1}f=p}return!0},getPositions:function d(f){for(var p=[],g=[r];g.length>0;){for(var _=[],b=0,y=g.length;b<y;b+=1){var v=g[b],w=new se(v.x,v.y,v.size,v.size);w.context={isHighlighted:!1},null!=f&&f.overlaps(w)&&null!=v.points&&v.points.length>0&&(w.context.isHighlighted=!0),p.push(w);for(var S=0;S<4;S+=1){var T=v.quadrants[S];null!=T&&_.push(T)}}g=_}return p}}}(2*p)}return{addRect:function u(f){for(var p=Math.max(f.width,f.height),m=f.centerPoint(),g=0,_=t.length;g<_;g+=1){var b=t[g];if(p<=b.maximum||g==_-1){m.context=f,b.quadTree.addPoint(m);break}}},loopArea:function c(f,p,m){if(null!=m)for(var g=0,_=t.length;g<_;g+=1){var b=t[g],y=new se(p);y.offset(b.maximum/2),b.quadTree.loopArea(this,y,function(v){var w=v.context;if(p.overlaps(w))return m.call(f,w)})}},validate:function h(){for(var f=!0,p=0,m=t.length;p<m;p+=1)f=f&&t[p].quadTree.validate();return f},getPositions:function d(f){for(var p=[],m=0,g=t.length;m<g;m+=1)p=p.concat(t[m].quadTree.getPositions(f));return p}}}function fv(){var e=null;function t(v,w){this.value=v,this.context=w,this.left=null,this.right=null,this.balance=0}function n(v){var w;if(2==v.balance){var S=v.right;(w=S.balance)>=0?function i(v,w){r(v,w),1==v.balance?(w.balance=0,v.balance=0):(w.balance=-1,v.balance=1)}(S,v):function a(v,w){var S=v.left;switch(o(S,v),r(v,w),w.balance=0,S.balance){case 1:v.balance=-1,S.balance=0;break;case 0:S.balance=0,v.balance=0;break;default:S.balance=1,v.balance=0}}(S,v)}else-2==v.balance&&((w=v.left.balance)<=0?function s(v,w){o(v,w),-1==v.balance?(w.balance=0,v.balance=0):(w.balance=1,v.balance=-1)}(v.left,v):function l(v,w){var S=v.right;switch(r(S,v),o(v,w),w.balance=0,S.balance){case-1:S.balance=0,v.balance=1;break;case 0:S.balance=0,v.balance=0;break;default:S.balance=-1,v.balance=0}}(v.left,v));return w}function r(v,w){h(v,w),w.right=v.right,v.right=v.left,v.left=w.left,w.left=v}function o(v,w){h(v,w),w.left=v.left,v.left=v.right,v.right=w.right,w.right=v}function c(v,w){var S=null!=v.right?v.right:v.left;null!=w?w.value>v.value?w.left=S:w.right=S:e=S}function h(v,w){var S=v.value;v.value=w.value,w.value=S;var T=v.context;v.context=w.context,w.context=T}function d(v,w){w.value=v.value,w.context=v.context}function m(v,w,S){if(null!=S){for(var T=[],C=null,M=e;null!=M;)(C=M).value>=w||null==w?(T.push(C),M=C.left):M=C.right;for(;null!=(C=T.pop());){if(S.call(v,C.value,C.context))return;for(M=C.right;null!=M;)if(null!=(C=M).left)T.push(C),M=C.left;else{if(S.call(v,C.value,C.context))return;M=C.right}}}}function _(v,w,S){if(null!=S){for(var T=[],C=null,M=e;null!=M;)(C=M).value<=w||null==w?(T.push(C),M=C.right):M=C.left;for(;null!=(C=T.pop());){if(S.call(v,C.value,C.context))return;for(M=C.left;null!=M;)if(null!=(C=M).right)T.push(C),M=C.right;else{if(S.call(v,C.value,C.context))return;M=C.left}}}}function b(v){var w=[],S=0;if(null!=v)for(w.push(v);w.length>0;){for(var T=[],C=0;C<w.length;C+=1)null!=(v=w[C]).left&&T.push(v.left),null!=v.right&&T.push(v.right);w=T,S+=1}return S}return{add:function u(v,w,S,T){if(null==e)e=new t(v,w);else{for(var C=[],M=null,D=e;null!=D;)if(null!=M&&C.push(M),(M=D).value==v){if(null==T)throw"Structure does not support duplicates.";T.call(S,M.context)}else D=M.value>v?M.left:M.right;C.push(M);var I=new t(v,w);for(M.value>v?M.left=I:M.right=I,M=I;null!=(D=C.pop());){if(M.value<D.value){if(D.balance<0){D.balance-=1,n(D);break}if(D.balance>0){D.balance-=1;break}D.balance-=1}else{if(D.balance>0){D.balance+=1,n(D);break}if(D.balance<0){D.balance+=1;break}D.balance+=1}M=D}}},remove:function f(v){for(var w=[],S=e;null!=S;){if(S.value==v){if(null!=S.right&&null!=S.left){w.push(S);for(var T=S.right;null!=T.left;)w.push(T),T=T.left;d(T,S),c(T,w[w.length-1]),w.push(T)}else c(S,w[w.length-1]),w.push(S);for(var C=w.length-2;C>=0;C-=1){var M=w[C];if(M.value>(S=w[C+1]).value)if(M.balance>0){if(M.balance+=1,0===n(M))break}else{if(0===M.balance){M.balance+=1;break}M.balance+=1}else if(M.balance<0){if(M.balance-=1,0===n(M))break}else{if(0===M.balance){M.balance-=1;break}M.balance-=1}}break}w.push(S),S=S.value>v?S.left:S.right}},loopForward:m,loopBackward:_,nextContext:function p(v){var w=null;return m(this,v,function(S,T){return w=T,!0}),w},previousContext:function g(v){var w=null;return _(this,v,function(S,T){return w=T,!0}),w},validate:function y(){if(null!=e)for(var v=[e];v.length>0;){for(var w=[],S=0;S<v.length;S+=1){var T=v[S];if(null==T.value||null!=T.left&&(w.push(T.left),T.left.value>=T.value)||null!=T.right&&(w.push(T.right),T.right.value<=T.value))return!1;if(T.balance!=b(T.right)-b(T.left))return console.log("Disbalanced node: "+T.value+" - "+JSON.stringify(e)),!1}v=w}return!0}}}function nI(e,t,n,i,r,s,o){var l,u,c,h,a={treeItemsPositions:{},panelSize:null};return{process:function d(){var T=new Fe(o.getContentSize()),{optimalPanelSize:C}=r.getOptions(),{pageFitMode:M}=t.getOptions(),{orientationType:D}=e.getOptions(),{horizontalAlignment:I}=n.getOptions(),{scale:E}=i.getOptions();c=null,h=null,l=null!=s?s.getActiveItems():{},u=o.getItemsPositions();var P=new Fe(C);switch(D){case qe.Left:case qe.Right:P.invert()}switch(P.scale(1/E),a.panelSize=P,a.treeItemsPositions=u,M===sn.AutoSize?a.panelSize=new Fe(T):(a.panelSize=new Fe(T),T.width<P.width&&(a.treeItemsPositions={},function f(T,C,M,D){var I;switch(D){case Ie.Left:I=0;break;case Ie.Right:I=M-C;break;case Ie.Center:I=(M-C)/2}!function p(T,C,M){var D,I;for(D in u)u.hasOwnProperty(D)&&((I=new il(u[D])).actualPosition.translate(C,M),T[D]=I)}(T,I,0)}(a.treeItemsPositions,T.width,P.width,I),a.panelSize.width=P.width),T.height<P.height&&(a.panelSize.height=P.height)),D){case qe.Left:case qe.Right:a.panelSize.invert()}return!0},getItemPosition:function v(T){return a.treeItemsPositions[T]},getItemsPositions:function w(){return a.treeItemsPositions},getContentSize:function S(){return a.panelSize},getTreeItemForMousePosition:function _(T,C,M){var P,O,D=null,I=null,E=function g(){if(null==c)for(var T in c=tI(function m(){var T=[],C={};for(var M in a.treeItemsPositions)if(a.treeItemsPositions.hasOwnProperty(M)){var D=a.treeItemsPositions[M];switch(D.actualVisibility){case ie.Normal:case ie.Dot:case ie.Line:var I=D.actualPosition,E=Math.max(I.width,I.height);C.hasOwnProperty(E)||(C[E]=!0,T.push(E))}}return T}()),a.treeItemsPositions)if(a.treeItemsPositions.hasOwnProperty(T)){var C=a.treeItemsPositions[T];if(l.hasOwnProperty(T))switch(C.actualVisibility){case ie.Normal:case ie.Dot:case ie.Line:var M=new se(C.actualPosition);M.context=T,c.addRect(M)}}return c}();return P=new se(T,C,0,0),O=new ue(T,C),P.offset(M,M,M,M),E.loopArea(this,P,function(V){var k=V.context;if(V.contains(T,C))return D=k,!0;switch(a.treeItemsPositions[k].actualVisibility){case ie.Dot:case ie.Line:var F=O.distanceTo(V.horizontalCenter(),V.verticalCenter());(null==I||F<I)&&(I=F,D=k)}}),D},getNextItem:function y(T,C){var D,M=function b(){if(null==h)for(var T in h=function X3(){var t,n,e=[],i=null;function r(p,m){this.itemid=p,this.row=m}function o(){if(null==n){var p=0;t=fv(),function K3(e,t,n){var i=null,r=null;if(null!=n){t.sort(function(l,u){return l.y-u.y});for(var s=0;s<t.length;s+=1){var o=t[s],a=o.bottom();null===i?(i=o.y,r=a):o.y>=r?(n.call(e,i),i=o.y,r=a):(o.y>i&&(i=o.y),a<r&&(r=a))}null!==i&&n.call(e,i)}}(this,e,function(b){t.add(b,p),p+=1}),n=Td(),e.sort(function(b,y){return b.horizontalCenter()-y.horizontalCenter()});for(var m=0,g=e.length;m<g;m+=1){var _=e[m];t.loopForward(this,_.y,function(b,y){if(b>_.bottom())return!0;n.addItem(y,_.context,_)})}}}function a(p){return o(),(null==i||i.itemid!=p)&&(i=new r(p,n.getLevelIndex(p))),i}function c(p){var g=n.getItemContext(i.itemid).horizontalCenter(),_=i.itemid;n.loopLevelsFromItem(this,i.itemid,p,function(b){return i.row=b,i.itemid=n.binarySearch(this,b,function(y,v){return g-v.horizontalCenter()}),!0}),_==i.itemid&&(i.row=p?n.getEndLevelIndex(i.itemid):n.getLevelIndex(i.itemid))}return{addRect:function s(p,m){var g=new se(p);g.context=m,e.push(g)},prepair:o,getItemAbove:function l(p){return i=a(p),c(!1),i.itemid},getItemBelow:function u(p){return i=a(p),c(!0),i.itemid},getItemOnLeft:function h(p){i=a(p);var m=n.getPrevItem(i.itemid,i.row);return null!=m&&(i.itemid=m),i.itemid},getItemOnRight:function d(p){i=a(p);var m=n.getNextItem(i.itemid,i.row);return null!=m&&(i.itemid=m),i.itemid},getNavigationLevels:function f(){o();var p=[];return n.loopLevels(this,function(m,g){var _=[];n.loopLevelItems(this,m,function(b,y,v){_.push(b)}),p.push(_)}),p}}}(),a.treeItemsPositions)if(a.treeItemsPositions.hasOwnProperty(T)){var C=a.treeItemsPositions[T];if(l.hasOwnProperty(T)&&C.actualVisibility===ie.Normal){var M=new se(C.actualPosition);h.addRect(M,T)}}return h}();switch(C){case qe.Top:D=M.getItemAbove(T);break;case qe.Bottom:D=M.getItemBelow(T);break;case qe.Left:D=M.getItemOnLeft(T);break;case qe.Right:D=M.getItemOnRight(T)}return D}}}function ws(){this.invertArea=!1,this.invertHorizontally=!1,this.invertVertically=!1,this.size=null}function iI(e,t,n){var i={transform:null};return{process:function r(){var a=e.getOptions(),l=new Fe(n.getContentSize());return i.transform=new ws,i.transform.setOrientation(a.orientationType),i.transform.size=new Fe(l),!0},getTransform:function o(){return i.transform},getTreeItemForMousePosition:function s(a,l,u){var c=null,{scale:h}=t.getOptions();return i.transform.transformPoint(a/=h,l/=h,!1,this,function(d,f){c=n.getTreeItemForMousePosition(d,f,u)}),c},description:"Create coordinate system transformation object."}}function pv(e,t){var n,i;if(this.palette=[],this.cursor=0,0===t.length)this.palette=[new zn({lineColor:e.linesColor,lineWidth:e.linesWidth,lineType:e.linesType})],this.paletteLength=this.palette.length,this.regularIndex=0;else{for(n=0,i=t.length;n<i;n+=1)this.palette.push(new zn(t[n]));this.paletteLength=this.palette.length,this.palette.push(new zn({lineColor:e.linesColor,lineWidth:e.linesWidth,lineType:e.linesType})),this.regularIndex=this.palette.length-1}this.palette.push(new zn({lineColor:e.highlightLinesColor,lineWidth:e.highlightLinesWidth,lineType:e.highlightLinesType})),this.highlightIndex=this.palette.length-1}function rI(e,t){var n;return{process:function i(){var s=[];return null!=t&&(s=t.getOptions().linesPalette),n=new pv(e.getOptions(),s),!0},getPaletteManager:function r(){return n}}}function sI(e,t,n,i,r,s,o,a){var l={viewportSize:null,frameThickness:null,framePlaceholderSize:null};return{process:function u(){var m=e(),{scale:g}=r.getOptions(),{pageFitMode:_,autoSizeMinimum:b,autoSizeMaximum:y}=n.getOptions(),v=s.getContentSize(),{scrollPanelSize:w,hasFrame:S,hasLevelTitles:T}=i.getOptions(),C=new Fe(w),M=o.getThickness(),D=new Pe(a.getOptions().thickness),I=_==sn.AutoSize,E=new Fe(v);if(E.scale(g),I){(C=new Fe(E.width+25,E.height+25)).addThickness(M),D.isPositive()&&C.addThickness(D),C.cropBySize(y),C.maxSize(b);var P=new Fe(C);P.removeThickness(M),D.isPositive()&&P.removeThickness(D),C.space()<2*P.space()?C=P:(M=new Pe(0,0,0,0),D=new Pe(0,0,0,0))}else S||(M=new Pe(0,0,0,0)),!T&&D.isPositive()&&(D=new Pe(0,0,0,0));var O=new Pe(M);D.isPositive()&&O.addThickness(D);var V=new Fe(C);V.addThickness(O);var k=new se(O.left,O.top,C.width,C.height),x=new Fe(V),F=new se(0,0,x.width,x.height);x.scale(1/g);var z=new ue(0,0),W=new ue(0,0);0!=D.left?(z=new ue(k.x,k.y),W=new ue(k.x-D.left,k.bottom())):0!=D.right?(z=new ue(k.right(),k.y),W=new ue(k.right()+D.right,k.bottom())):0!=D.top?(z=new ue(k.x,k.y),W=new ue(k.right(),k.y-D.top)):0!=D.bottom&&(z=new ue(k.x,k.bottom()),W=new ue(k.right(),k.bottom()+D.bottom));var re=new se(z,W),N=new Fe(re);return N.scale(1/g),m.resize("frameplaceholder",x.width,x.height),m.resize("titlesplaceholder",N.width,N.height),m.resize("placeholder",v.width,v.height),t({autoSize:I,controlSize:V,scale:g,frameMousePanelRect:F,framePlaceholderSize:x,titlesMousePanelRect:re,titlesPlaceholderSize:N,scrollPanelRect:k,mousePanelSize:E,placeholderSize:v}),l.viewportSize=C,l.frameThickness=M,l.frameOffset=D.isPositive()?D:new Pe(0,0,0,0),l.titlesThickness=D,l.framePlaceholderSize=x,!0},getOptimalPanelSize:function c(){return new Fe(l.viewportSize.width-25,l.viewportSize.height-25)},getScrollPanelSize:function h(){return new Fe(l.viewportSize.width,l.viewportSize.height)},getFrameThickness:function d(){return new Pe(l.frameThickness)},getFrameOffset:function f(){return new Pe(l.frameOffset)},getTitlesThickness:function p(){return new Pe(l.titlesThickness)}}}function oI(e,t,n,i,r,s,o){var l,a={placeholderOffset:null};return{process:function u(){var d,_,f=e.getOptions(),p=i.getCursorTreeItem(),m=r.getItemPosition(p),g=new Fe(r.getContentSize()),y=o.getOptions().scale;return a.placeholderOffset=n.getPlaceholderOffset(),f.forceCenterOnCursor&&(l=s.getTransform(),null!=m&&((d=function c(d){var f=!1;return l.transformRect(d.x,d.y,d.width,d.height,!0,this,function(p,m,g,_){f=new se(p,m,g,_)}),f}(m.actualPosition)).scale(y),g.scale(y),_=t.getScrollPanelSize(),a.placeholderOffset=new ue(Math.max(Math.min(d.horizontalCenter()-_.width/2,g.width-_.width),0),Math.max(Math.min(d.verticalCenter()-_.height/2,g.height-_.height),0)))),!0},getPlaceholderOffset:function h(){return a.placeholderOffset}}}function aI(e,t,n,i,r,s,o,a){var u,c,l={positions:{}};return{getPositions:function g(){return l.positions},getTreeItemForMousePosition:function m(_,b,y){var C,M,v=null,w=null,S=u.scale,T=function p(){if(null==c)for(var _ in c=tI(function f(){var _=[],b={};for(var y in l.positions)if(l.positions.hasOwnProperty(y)){var v=l.positions[y],w=Math.max(v.width,v.height);b.hasOwnProperty(w)||(b[w]=!0,_.push(w))}return _}()),l.positions)if(l.positions.hasOwnProperty(_)){var b=l.positions[_];b.context=_,c.addRect(b)}return c}();return C=new se(_/=S,b/=S,0,0),M=new ue(_,b),C.offset(y,y,y,y),T.loopArea(this,C,function(D){var I=D.context,E=M.distanceTo(D.horizontalCenter(),D.verticalCenter());(null==w||E<w)&&(w=E,v=I)}),v},process:function h(){var _=r.getItemsPositions(),b=e.getTransform();u=i.getOptions(),c=null,l.positions=[];var y=function d(){var _=null;if(null!=s){var b=u.scale,y=new ue(s.getPlaceholderOffset()),v=new Fe(n.getScrollPanelSize()),w=new Pe(n.getFrameThickness()),S=new Pe(n.getFrameOffset()),T=new Pe(t.getMedian());if(!w.isEmpty()){y.scale(1/b),w.scale(1/b),S.scale(1/b),v.scale(1/b),T.scale(1/b);var C=new ue(y.x-S.left-w.left,y.y-S.top-w.top),M=new se(y.x,y.y,v.width,v.height);M.offset(S),M.offset(T),_={offset:C,rect:M}}}return _}(),v=a.getItems();if(null!=y)for(var w=0,S=v.length;w<S;w+=1){var T=v[w],M=_[T].actualPosition;b.transformRect(M.x,M.y,M.width,M.height,!0,this,function(D,I,E,P){var O=new se(D,I,E,P);if(!y.rect.overlaps(O)){var V=y.rect.getProjectionPoint(O.centerPoint());if(null!=V){var F=new Fe(o.getTemplateParams(T).template.templateConfig.minimizedItemSize),z=new se(V.x-F.width/2,V.y-F.height/2,F.width,F.height);z.translate(-y.offset.x,-y.offset.y),l.positions[T]=z}}})}return!0}}}function lI(e,t,n,i){var r={},s={},o=new me({viewPortPosition:new me({x:new R(["number"],!1,0),y:new R(["number"],!1,0),width:new R(["number"],!1,0),height:new R(["number"],!1,0)},!1,new se(0,0,0,0))});return{process:function a(){var h={isChanged:!1,hash:s};return r=o.read(r,function l(){var h,d=n.getTransform(),f=function u(){var d=e.getOptions().scale,f=t?new ue(t.getPlaceholderOffset()):new ue(0,0),p=new Fe(i.getOptimalPanelSize());return f.scale(1/d),p.scale(1/d),new se(f.x,f.y,p.width,p.height)}();return null!=f&&d.transformRect(f.x,f.y,f.width,f.height,!1,this,function(p,m,g,_){h=new se(p,m,g,_)}),{viewPortPosition:h}}(),"options",h),h.isChanged},getViewPortPosition:function c(){return r.viewPortPosition}}}function uI(e){var t={},n={},i=new me({verticalOffset:new me({from:new R(["number"],!1,0),to:new R(["number"],!1,0)},!1,new Vi(0,0))});return{process:function r(){var a={isChanged:!1,hash:n};return t=i.read(t,function s(){return{verticalOffset:new se(e.getViewPortPosition()).verticalInterval()}}(),"options",a),a.isChanged},getVerticalOffset:function o(){return t.verticalOffset}}}function cI(e,t,n){this.value=e,this.index=t,this.isStart=n}function mv(e,t,n){for(var i=[],r=0;r<t.length;r+=1){var s=t[r];i.push(new cI(s.from,r,!0)),i.push(new cI(s.to,r,!1))}i.sort(function(h,d){return h.value===d.value?d.isStart-h.isStart:h.value-d.value});for(var o=0,a=null,l=null,u=(r=0,i.length);r<u;r+=1){var c=i[r];null==a&&(a=new Vi(t[c.index])),a.to=c.value,c.isStart?(o++,(null===l||l>c.index)&&(l=c.index,a.context=t[c.index].context)):o--,o||(n?.call(e,a),a=null,l=null)}}function Q3(e,t,n){var i={positions:[]};return{getPositions:function o(){return i.positions||(i.positions=function s(){var a=[],l=e.getOrgTree(),u=n.getItemsPositions(),c=t.getBranchAligner(),h={};l.loopLevels(this,function(T,C,M){if(C.itemType!=dt.Regular)return l.SKIP;if(C.isVisible){var D=u[T];if(D){var I=C.levelOffset;null===I&&(I=c.getGroupSize(C.parent,2));var E=new Vi(D.topConnectorShift,D.bottomConnectorShift-1,M+I),P=E.toString();h[P]||(h[P]=!0,a.push(E))}}});var d=[];mv(this,a,function(T){d.push(T)}),a=d,d=[];for(var f=null,p=0,m=a.length;p<m;p+=1){var g=a[p];f&&f.context===g.context?f.to=g.to:(f=g,d.push(g))}for((a=d).length>0&&(a[0].from=0),p=0,m=a.length-1;p<m;p+=1)a[p].to=a[p+1].from;var y=null;for(p=0,m=a.length;p<m;p+=1)g=a[p],y=null===y?g.context:Math.min(y,g.context);var v={};for(p=0,m=a.length;p<m;p+=1){var w=(g=a[p]).context-y,S=v[w];S?S.push(g):v[w]=[g]}return v}()),i.positions},process:function r(){return i.positions=null,!0}}}function hI(e,t){var n={positions:[]};return{getPositions:function s(){return n.positions},process:function i(){var o=e.getAnnotations();if(n.positions=[],o.length>0){var a=t.getPositions();n.positions=function r(o,a){var l,u,c,h,d={},f={};for(l=0,u=o.length;l<u;l+=1){var m=o[l].levels,g=[];if(null!=m&&m.length>0)for(c=0,h=m.length;c<h;c+=1){var _=m[c];d[_]||(d[_]=!0,g=[],null!=a[_]&&(g=g.concat(a[_])))}f[l]=[],mv(this,g,function(b){f[l].push(b)})}return f}(o,a)}return!0}}}function Us(){}function gv(e){this.graphics=e,this.transform=null,this.lineWidth=1,this.opacity=1,this.fillColor=null,this.lineType=Qt.Solid,this.borderColor=null}function dI(e,t,n,i,r,s){var o,l;return{process:function u(){var h=i.getAnnotations();return(o=e()).reset("placeholder",2),h.length>0&&(s.getItemsPositions(),l=t.getTransform(),function c(h,d,f){var m,g,_,b,y,v,w,S,T,C,M,D,I,E,P,O;for(m=0,g=h.length;m<g;m+=1)if(null!=(P=h[m]).items&&P.items.length>0){for((w=new gv(o)).transform=l,S=new ov,y=0,v=(I=["opacity","lineWidth","borderColor","fillColor","lineType"]).length;y<v;y+=1)w[E=I[y]]=P.hasOwnProperty(E)?P[E]:S[E];for(o.activate("placeholder",2),T=[],M={},_=0,b=P.items.length;_<b;_+=1)null!=(O=s.getItemPosition(D=P.items[_]))&&(M[D]=!0,(C=new se(O.actualPosition)).offset(P.offset),T.push(C),P.includeChildren&&f.loopChildren(this,D,function(V,k){M[V]||(M[V]=!0,null!=(O=s.getItemPosition(V))&&((C=new se(O.actualPosition)).offset(P.offset),T.push(C)))}));w.draw(T)}}(h,0,r.getLogicalFamily())),!1}}}function zo(){var e={};function t(o,a){return o[a.toString()]||(o[a.toString()]=new Kn(a)),o[a.toString()]}function i(o,a){var l,u;if(null!=a)for(l in e)if(e.hasOwnProperty(l)&&(u=e[l])&&(u.optimizeMoveSegments(),a.call(o,u)))break}return{getPolyline:function n(o){return t(e,o)},loop:i,addInverted:function r(o,a){var l,u;l=e,e={},o?.(this),i(this,function(c){u=t(l,c.paletteItem),a?c.mergeTo(u):u.addInverted(c)}),e=l},transform:function s(o,a){i(this,function(l){l.transform(o,a)})}}}function Md(e,t,n,i,r){return{process:function s(){var a=i.getGraph(),l=t.getOptions(),u=n.getAnnotations(),c=e();switch(r){case xt.Background:c.reset("placeholder",5);break;case xt.Foreground:c.reset("placeholder",7)}return function o(a,l,u,c){var h,d,f,p,m,_,b,v,w,S,T,M,D,I;if(u.length>0){switch(M=new zo,r){case xt.Background:a.activate("placeholder",5);break;case xt.Foreground:a.activate("placeholder",7)}var E={};for(h=0,d=u.length;h<d;h+=1)if(null!=(T=u[h]).items&&T.items.length>0&&(w=T.items.slice(0),c.hasNode(_=w[0])))for(f=1,p=w.length;f<p;f+=1)c.hasNode(b=w[f])&&(E.hasOwnProperty(_)?E[_].push(b):E[_]=[b],_=b);var P={};for(D in E)P[D]={},E.hasOwnProperty(D)&&c.getShortestPath(this,D,E[D],function(k,x,F){return k.weight},function(k,x){P[D][x]=k});for(h=0,d=u.length;h<d;h+=1){var O=new zn({lineColor:null!=(T=u[h]).color?T.color:l.highlightLinesColor,lineWidth:null!=T.lineWidth?T.lineWidth:l.highlightLinesWidth,lineType:null!=T.lineType?T.lineType:l.highlightLinesType,fillColor:null,opacity:T.opacity}),V=M.getPolyline(O);if(null!=T.items&&T.items.length>0&&(w=T.items.slice(0),c.hasNode(_=w[0])))for(f=1,p=w.length;f<p;f+=1)if(c.hasNode(b=w[f])){for(m=(v=P[_][b]||[]).length-2;m>=0;m-=1)(S=c.edge(D=v[m+1],I=v[m])).from==D?S.polyline.clone().mergeTo(V):V.addInverted(S.polyline.clone()),T.showArrows&&(I==S.parentsArrowId||I==S.childrenArrowId)&&V.addArrow(T.lineWidth,function(k){k.mergeTo(M.getPolyline(k.paletteItem))});_=b}}a.polylinesBuffer(M)}}(c,l,u,a),!1}}}function Ts(){this.id=null,this.element=null,this.context=null,this.templateName=null,this.renderingMode=null,this.isCursor=!1,this.isSelected=!1}function Z3(){var e=new se,t=[],n=[];return{addVector:function i(o,a){t.push(o),n.push(a),e.addRect(o.from.x,o.from.y),e.addRect(o.to.x,o.to.y)},resolve:function s(){if(1==t.length)n[0](0,1,1);else{var o=hv();!function r(o){var a,l,u;if(e.width>e.height)for(a=0,l=t.length;a<l;a+=1)o((u=t[a]).from.x,u.to.x,n[a]);else for(a=0,l=t.length;a<l;a+=1)o((u=t[a]).from.y,u.to.y,n[a])}(function(l,u,c){o.add(l,u,c)}),o.resolve(this,function(l,u,c,h,d,f){c(h,d,f)})}}}}function xu(){}function vv(){}function Id(e,t,n,i,r,s,o,a){var l,u,h,d;return{process:function f(){switch(l=e(),u=t.getTransform(),i.getOptions(),h=o.getTemplate(),d=new Fe(s.getContentSize()),a){case xt.Background:l.reset("placeholder",4);break;case xt.Foreground:l.reset("placeholder",14)}return function p(m,g){var b,y,w,S,T,C,M,D,I,E=new zo,O=function J3(){var e={};return{getOffset:function t(i,r){var s=i.getLineKey();e.hasOwnProperty(s)||(e[s]=new Z3),e[s].addVector(i,r)},resolve:function n(){for(var i in e)e.hasOwnProperty(i)&&e[i].resolve()}}}(),V=0;switch(a){case xt.Background:l.activate("placeholder",4);break;case xt.Foreground:l.activate("placeholder",14)}for(b=0,y=m.length;b<y;b+=1)D=m[b],V=Math.max(V,D.lineWidth);for(b=0,y=m.length;b<y;b+=1)if(null!=(D=m[b]).fromItem&&null!=D.toItem&&(w=g(D.fromItem),T=g(D.toItem),null!=w&&null!=T)){switch(S=w.actualPosition,C=T.actualPosition,D.connectorPlacementType){case hd.Offbeat:M=new vv;break;case hd.Straight:M=new xu}var k;u.transformRect(0,0,D.labelSize.width,D.labelSize.height,!1,this,function(U,X,Q,G){k=new Fe(Q,G)});var x=null;u.transformRect(0,0,d.width,d.height,!1,this,function(U,X,Q,G){x=new Fe(Q,G)});var F=new zn({lineColor:D.color,lineWidth:D.lineWidth,lineType:D.lineType}),z=!Ni(D.label),W=new se(S).offset(D.offset),re=new se(C).offset(D.offset);M.draw(E,F,W,re,3*D.lineWidth,6*V,k,x,D.connectorShapeType,4,D.labelPlacementType,z,O,function(U,X){!Ni(X.label)&&null!=U&&(u.transformRect(U.x,U.y,U.width,U.height,!0,this,function(G,ae,de,je){U=new se(G,ae,de,je)}),(I=new Ts).context=X,l.template(U.x,U.y,0,0,0,0,U.width,U.height,h.template(),h.getHashCode(),h.render,I,null))},D)}O.resolve(),E.transform(u,!0),l.polylinesBuffer(E)}(r.getAnnotations(),s.getItemPosition),!1}}}function rl(e){this.m_graphics=e,this.pointerPlacement=be.Auto,this.cornerRadius="10%",this.offset=0,this.opacity=1,this.lineWidth=1,this.pointerWidth="10%",this.borderColor=L.Black,this.lineType=Qt.Solid,this.fillColor=L.LightGray,this.m_map=[[be.TopLeft,be.Left,be.BottomLeft],[be.Top,null,be.Bottom],[be.TopRight,be.Right,be.BottomRight]]}function Be(){}function yv(e){this.m_graphics=e,this.transform=null,this.orientationType=qe.Top,this.panelSize=null,this.shapeType=en.Rectangle,this.offset=new Pe(0,0,0,0),this.lineWidth=1,this.labelOffset=4,this.cornerRadius="10%",this.opacity=1,this.fillColor=null,this.labelSize=new Fe(60,30),this.lineType=Qt.Solid,this.borderColor=null,this.hasLabel=!1,this.labelTemplate=null,this.labelPlacement=be.Auto}function kd(e,t,n,i,r,s,o,a){var l,u,c,h;return{process:function d(){switch(l=e(),u=t.getTransform(),c=i.getOptions(),h=o.getTemplate(),a){case xt.Background:l.reset("placeholder",3);break;case xt.Foreground:l.reset("placeholder",13)}return function f(p,m){var g,_,b,y,v,w,S,T,C,M,D,I,E,P,O;switch(a){case xt.Background:g=l.activate("placeholder",3);break;case xt.Foreground:g=l.activate("placeholder",13)}for(_=0,b=p.length;_<b;_+=1)if(null!=(P=p[_]).items&&P.items.length>0){for(D=new se,y=0,v=P.items.length;y<v;y+=1)null!=(M=m(P.items[y]))&&D.addRect(M.actualPosition);if(!D.isEmpty()){for(T=new yv(l),C=new av,w=0,S=(I=["opacity","cornerRadius","shapeType","offset","lineWidth","borderColor","fillColor","lineType","labelSize","labelOffset","labelPlacement","zOrderType"]).length;w<S;w+=1)T[E=I[w]]=P.hasOwnProperty(E)?P[E]:C[E];T.position=D,T.orientationType=c.orientationType,T.panelSize=g.size,T.labelTemplate=h,T.hasLabel=null!=P.templateName||null!=P.label,(O=new Ts).context=P,O.templateName=T.labelTemplate,u.transformRect(D.x,D.y,D.width,D.height,!0,this,function(V,k,x,F){var z=new se(V,k,x,F);T.draw(z,O)})}}}(r.getAnnotations(),s.getItemPosition),!1}}}function fI(e,t,n,i,r,s,o,a){var l,u;return{process:function c(){var d=o.getCursorTreeItem();return(l=e()).reset("placeholder",11),null!=d&&(u=t.getTransform(),function h(d){l.activate("placeholder",11);var p,g=r.getItemPosition(d);if(null!=g){var _=g.actualPosition,b=new se(g.contentPosition),v=s.getTemplateParams(d).template,w=v.templateConfig,S=w.cursorPadding;b.offset(S.left,S.top,S.right,S.bottom),(p=new Ts).context=i.getConfig(d),p.isCursor=!0,p.isSelected=a.isSelected(d),p.templateName=w.name,u.transformRect(_.x,_.y,_.width,_.height,!0,this,function(T,C,M,D){l.template(T,C,M,D,b.x,b.y,b.width,b.height,v.cursorTemplate.template(),v.cursorTemplate.getHashCode(),v.cursorTemplate.render,p,{borderWidth:w.cursorBorderWidth})})}}(d)),!1}}}function pI(e,t,n,i,r,s,o,a,l){var u,c;return{process:function h(){var f=o.getHighlightTreeItem();return(u=e()).reset("placeholder",8),null!=f&&(c=t.getTransform(),function d(f){u.activate("placeholder",8);var p,g=r.getItemPosition(f),_=g.actualPosition,y=s.getTemplateParams(f).template,v=y.templateConfig,w=v.highlightPadding;(p=new Ts).context=i.getConfig(f),p.isCursor=a.getCursorTreeItem()==f,p.isSelected=l.isSelected(f),p.templateName=v.name,c.transformRect(_.x,_.y,_.width,_.height,!0,this,function(S,T,C,M){var D=new se(0,0,Math.round(C),Math.round(M));D.offset(w.left,w.top,w.right,w.bottom),g.actualVisibility==ie.Normal?u.template(S,T,C,M,D.x,D.y,D.width,D.height,y.highlightTemplate.template(),y.highlightTemplate.getHashCode(),y.highlightTemplate.render,p,{borderWidth:v.highlightBorderWidth}):u.template(Math.round(S),Math.round(T),Math.round(C),Math.round(M),Math.round(D.x),Math.round(D.y),Math.round(D.width),Math.round(D.height),y.dotHighlightTemplate.template(),y.dotHighlightTemplate.getHashCode(),y.dotHighlightTemplate.render,p,{borderWidth:v.highlightBorderWidth})})}(f)),!1}}}function mI(e,t,n,i,r,s,o,a,l,u,c,h,d){var f,p,g,m=new rl(e());return{process:function _(){var w=u.getHighlightTreeItem();return(f=e()).reset("calloutplaceholder",15),null!==w&&(p=t.getTransform(),g=s.getOptions(),function b(w){var T,C,M,D,I,E,P=!0,O=a.getItemPosition(w),V=O.actualPosition;switch(O.actualVisibility){case ie.Dot:case ie.Line:case ie.Normal:switch((T=s.getItemOptions(w)).showCallout){case Re.False:case Re.True:P=!1;break;default:P=g.showCallout}P?(f.activate("placeholder",12),p.transformRect(V.x,V.y,V.width,V.height,!0,this,function(k,x,F,z){var W=new se(k,x,F,z),re=new ue(W.centerPoint()),{medianRect:N,viewPortRect:B}=function y(){var S=i.getOptions().scale,T=new ue(l.getPlaceholderOffset()),C=new Fe(n.getScrollPanelSize()),M=new Pe(n.getFrameOffset()),D=new Pe(d.getMedian());T.scale(1/S),M.scale(1/S),C.scale(1/S),D.scale(1/S);var I=new se(T.x,T.y,C.width,C.height),E=new se(I);return E.offset(M),E.offset(D),{medianRect:E,viewPortRect:I}}(),U=N.getProjectionPoint(W.centerPoint());null==U&&(U=re),O.actualVisibility>=g.calloutMaximumVisibility&&O.actualVisibility!=ie.Invisible||!N.overlaps(W)?(I=Ni(T.calloutTemplateName)?Ni(T.templateName)?Ni(g.defaultCalloutTemplateName)?g.defaultTemplateName:g.defaultCalloutTemplateName:T.templateName:T.calloutTemplateName,E=o.getTemplate(I,o.DefaultWidgetTemplateName),M=function v(w,S,T){var C=new se(w.x,w.y,T.width,T.height);switch(g.orientationType){case qe.Top:case qe.Bottom:C.y-=T.height/4,w.x<S.horizontalCenter()?C.x+=g.calloutPlacementOffset:C.x-=g.calloutPlacementOffset+T.width;break;default:C.x-=T.width/4,w.y<S.verticalCenter()?C.y+=g.calloutPlacementOffset:C.y-=g.calloutPlacementOffset+T.height}return C.x<S.x?C.x=S.x+g.calloutPlacementOffset:C.right()>S.right()&&(C.x-=C.right()-S.right()+g.calloutPlacementOffset),C.y<S.y?C.y=S.y+g.calloutPlacementOffset:C.bottom()>S.bottom()&&(C.y-=C.bottom()-S.bottom()+g.calloutPlacementOffset),C}(U,B,E.templateConfig.itemSize),(C=new se(M)).addRect(U.x,U.y),C.offset(50),U.x-=C.x,U.y-=C.y,M.x-=C.x,M.y-=C.y,(D=new Ts).context=r.getConfig(w),D.isCursor=c.getCursorTreeItem()==w,D.isSelected=h.isSelected(w),D.templateName=E.templateConfig.name,f.show("calloutplaceholder"),f.activate("calloutplaceholder",15),f.position("calloutplaceholder",C.x,C.y,C.width,C.height),f.template(M.x,M.y,M.width,M.height,0,0,M.width,M.height,E.itemTemplate.template(),E.itemTemplate.getHashCode(),E.itemTemplate.render,D,null),m.pointerPlacement=be.Auto,m.cornerRadius=g.calloutCornerRadius,m.offset=g.calloutOffset,m.opacity=g.calloutOpacity,m.lineWidth=g.calloutLineWidth,m.pointerWidth=g.calloutPointerWidth,m.borderColor=g.calloutBorderColor,m.fillColor=g.calloutfillColor,m.draw(U,M)):f.hide("calloutplaceholder")})):f.hide("calloutplaceholder");break;case ie.Invisible:f.hide("calloutplaceholder")}}(w)),!1}}}function gI(e,t,n,i,r,s,o,a,l,u,c,h,d,f){var p,m,g,_,b,y,v;return{process:function w(){return m=e(),_=r.getOptions(),p=o.getItemsPositions(),g=t.getTransform(),b=f.getTemplate(),y=d.getTemplate(),v=h.getTemplate(),m.reset("placeholder",12),m.reset("placeholder",16),function S(){var C,I,E,D=u.getCursorTreeItem(),P=function T(){var C=null;if(null!=a){var D=i.getOptions().scale,I=new ue(a.getPlaceholderOffset()),E=new se(o.getContentSize()),P=new Fe(n.getOptimalPanelSize());I.scale(1/D),P.scale(1/D),C=new se(I.x,I.y,Math.min(P.width,E.width),Math.min(P.height,E.height))}return C}();for(var O in p)p.hasOwnProperty(O)&&(E=(I=p[O]).actualPosition,I.actualVisibility==ie.Normal&&g.transformRect(E.x,E.y,E.width,E.height,!0,this,function(V,k,x,F){var z=new se(V,k,x,F);if(null==P||P.overlaps(z)){var W=l.getTemplateParams(O);if(null!=W){var re=W.template;if((C=new Ts).id=O,C.context=s.getConfig(O),C.isCursor=O==D,C.isSelected=c.isSelected(O),C.templateName=re.templateConfig.name,C.template=W.template,C.isActive=W.isActive,C.hasSelectorCheckbox=W.hasSelectorCheckbox,C.hasButtons=W.hasButtons,C.hasGroupTitle=W.hasGroupTitle,C.onButtonsRender=W.onButtonsRender,m.activate("placeholder",12),m.template(V,k,x,F,I.contentPosition.x,I.contentPosition.y,I.contentPosition.width,I.contentPosition.height,re.itemTemplate.template(),re.itemTemplate.getHashCode(),re.itemTemplate.render,C,{borderWidth:re.templateConfig.itemBorderWidth}),W.hasGroupTitle){var N=0;switch(_.groupTitlePlacementType){case vt.Left:case vt.Auto:N=2;break;case vt.Right:N=x-(_.groupTitlePanelSize-4)}m.template(V,k,x,F,N,I.contentPosition.y,_.groupTitlePanelSize-4,I.contentPosition.height+2,v.template(),v.getHashCode(),v.render,C,null)}if(W.hasSelectorCheckbox&&(m.activate("placeholder",16),m.template(V,k,x,F,I.contentPosition.x,F-(_.checkBoxPanelSize-4),I.contentPosition.width,_.checkBoxPanelSize-4,y.template(),y.getHashCode(),y.render,C,null)),W.hasButtons){m.activate("placeholder",16);var B=0;switch(_.groupTitlePlacementType){case vt.Left:case vt.Auto:B=x-(_.buttonsPanelSize-4);break;case vt.Right:B=2}m.template(V,k,x,F,B,I.contentPosition.y,_.buttonsPanelSize-4,Math.max(I.contentPosition.height,F-I.contentPosition.y),b.template(),re.templateConfig.name+b.getHashCode(),b.render,C,null)}}}}))}(),!1}}}function Ed(e,t,n,i,r){this.segmentType=4,this.x=e,this.y=t,this.width=n,this.height=i,this.cornerRadius=r}function vI(e,t,n,i,r,s){var o,a,u,c;return{process:function h(){return o=e(),a=t.getTransform(),u=i.getOptions(),c=s.getItemsPositions(),o.reset("placeholder",9),function d(){var _,b,y,v,w,S,T,C,M,f=new zo,g=new Be;for(var D in c)c.hasOwnProperty(D)&&(S=(w=c[D]).actualPosition,T=i.getItemOptions(D),a.transformRect(S.x,S.y,S.width,S.height,!0,this,function(I,E,P,O){w.actualVisibility===ie.Dot&&(C=r.getTemplateParams(D),M=C.template.templateConfig,_=null,b=null,y=null,0,null!=T&&(_=T.itemTitleColor,b=T.itemTitleColor,y=T.minimizedItemShapeType),_=_||M.minimizedItemBorderColor||L.Navy,b=b||M.minimizedItemFillColor||L.Navy,null==y&&(y=null!==M.minimizedItemShapeType?M.minimizedItemShapeType:u.minimizedItemShapeType),v=null===M.minimizedItemCornerRadius?M.minimizedItemSize.width:M.minimizedItemCornerRadius,null==y||y==en.None?f.getPolyline(new zn({lineColor:_,lineWidth:M.minimizedItemLineWidth,lineType:M.minimizedItemLineType,fillColor:b,opacity:M.minimizedItemOpacity})).addSegment(new Ed(I,E,P,O,v)):g.draw(f,y,new se(I,E,P,O),new zn({lineColor:_,lineWidth:M.minimizedItemLineWidth,lineType:M.minimizedItemLineType,fillColor:b,opacity:M.minimizedItemOpacity})))}));o.activate("placeholder",9),o.polylinesBuffer(f)}(),!1}}}function yI(e,t,n,i,r){return{process:function s(){var o=e(),a=t.getGraph(),l=n.getOptions(),u=r.getPaletteManager();o.reset("placeholder",6),o.activate("placeholder",6);var c=new zo,h=Math.round(l.elbowDotSize/2),d={},f={};return a.loopNodes(this,null,function(p){a.loopNodeEdges(this,p,function(m,g){if(!d.hasOwnProperty(m)){var _=null;g.fromOffset<=1?_=u.getPalette(1):(u.selectPalette(g.fromOffset),_=u.getPalette(0));var b=c.getPolyline(_);if(i&&null!=g.dotId&&l.elbowType!=Bs.None&&!f.hasOwnProperty(g.dotId)){var y=c.getPolyline(b.arrowPaletteItem),v=g.dotId==g.from?g.polyline.getStartPoint():g.polyline.getEndPoint();y.addSegment(new Ed(v.x-h,v.y-h,2*h,2*h,h)),f[g.dotId]=!0}var w=null;if(g.hasArrow)switch(l.arrowsDirection){case yt.Parents:w=g.isOppositeFlow?g.childrenArrowId:g.parentsArrowId;break;case yt.Children:w=g.isOppositeFlow?g.parentsArrowId:g.childrenArrowId}if(null==w){var S=g.polyline.clone();if(g.hasMiddle&&l.arrowsDirection!=yt.None){var T=!0;T=g.from==g.middleParent?l.arrowsDirection==yt.Children:l.arrowsDirection==yt.Parents,g.isOppositeFlow&&(T=!T),S.addOffsetArrow(T,l.linesWidth,.4,l.extraArrowsMinimumSpace,function(C){C.mergeTo(c.getPolyline(b.arrowPaletteItem))})}g.from==p?S.mergeTo(b):b.addInverted(S)}else w==g.to?g.polyline.clone().mergeTo(b):b.addInverted(g.polyline.clone()),b.addArrow(l.linesWidth,function(C){C.mergeTo(c.getPolyline(C.paletteItem))})}}),d[p]=!0}),o.polylinesBuffer(c),!1}}}function _v(){this.text=null,this.position=null,this.weight=0,this.isActive=!0,this.labelType=0,this.labelOrientation=it.Horizontal,this.horizontalAlignmentType=Ie.Center,this.verticalAlignmentType=Le.Bottom,this.parent=se.prototype,this.parent.constructor.apply(this,arguments)}function _I(e,t,n,i,r){function a(c,h,d,f,p,m,g){var b,y,v,w,S,_=null;if(!Ni(p.label)){var T=function l(c,h,d){var f=3;switch(h){case Re.Auto:switch(d){case Re.Auto:switch(c){case ie.Line:case ie.Dot:f=0}break;case Re.False:break;case Re.True:f=2}break;case Re.False:break;case Re.True:f=2}return f}(m.actualVisibility,p.showLabel,g.showLabels);switch(T){case 0:S=m.actualSize.width+m.actualSize.height;break;case 2:S=1e4;break;case 3:S=0}if(3!=T){v=null!=p.labelSize?p.labelSize:g.labelSize;var C=p.labelOrientation!=it.Auto?p.labelOrientation:g.labelOrientation!=it.Auto?g.labelOrientation:it.Horizontal;switch(w=p.labelPlacement!=be.Auto?p.labelPlacement:g.labelPlacement!=be.Auto?g.labelPlacement:be.Top,C){case it.Horizontal:b=v.width,y=v.height;break;case it.RotateLeft:case it.RotateRight:y=v.width,b=v.height}var M=function u(c,h,d,f,p,m,g,_,b){var y,v,w;switch(c){case be.Auto:case be.Top:switch(y=new se(d+p/2-g/2,f-b-_,g,_),h){case it.Horizontal:v=Ie.Center,w=Le.Bottom;break;case it.RotateLeft:v=Ie.Left,w=Le.Middle;break;case it.RotateRight:v=Ie.Right,w=Le.Middle}break;case be.TopRight:case be.RightTop:switch(y=new se(d+p+b,f-b-_,g,_),h){case it.Horizontal:v=Ie.Left,w=Le.Bottom;break;case it.RotateLeft:v=Ie.Left,w=Le.Top;break;case it.RotateRight:v=Ie.Right,w=Le.Bottom}break;case be.Right:switch(y=new se(d+p+b,f+m/2-_/2,g,_),h){case it.Horizontal:v=Ie.Left,w=Le.Middle;break;case it.RotateLeft:v=Ie.Center,w=Le.Top;break;case it.RotateRight:v=Ie.Center,w=Le.Bottom}break;case be.BottomRight:case be.RightBottom:switch(y=new se(d+p+b,f+m+b,g,_),h){case it.Horizontal:v=Ie.Left,w=Le.Top;break;case it.RotateLeft:v=Ie.Right,w=Le.Top;break;case it.RotateRight:v=Ie.Left,w=Le.Bottom}break;case be.Bottom:switch(y=new se(d+p/2-g/2,f+m+b,g,_),h){case it.Horizontal:v=Ie.Center,w=Le.Top;break;case it.RotateLeft:v=Ie.Right,w=Le.Middle;break;case it.RotateRight:v=Ie.Left,w=Le.Middle}break;case be.BottomLeft:case be.LeftBottom:switch(y=new se(d-g-b,f+m+b,g,_),h){case it.Horizontal:v=Ie.Right,w=Le.Top;break;case it.RotateLeft:v=Ie.Right,w=Le.Bottom;break;case it.RotateRight:v=Ie.Left,w=Le.Top}break;case be.Left:switch(y=new se(d-g-b,f+m/2-_/2,g,_),h){case it.Horizontal:v=Ie.Right,w=Le.Middle;break;case it.RotateLeft:v=Ie.Center,w=Le.Bottom;break;case it.RotateRight:v=Ie.Center,w=Le.Top}break;case be.TopLeft:case be.LeftTop:switch(y=new se(d-g-b,f-b-_,g,_),h){case it.Horizontal:v=Ie.Right,w=Le.Bottom;break;case it.RotateLeft:v=Ie.Left,w=Le.Bottom;break;case it.RotateRight:v=Ie.Right,w=Le.Top}}return{position:y,horizontalAlignmentType:v,verticalAlignmentType:w}}(w,C,c,h,d,f,b,y,g.labelOffset);(_=new _v(M.position)).labelType=T,_.weight=S,_.text=p.label,_.labelOrientation=C,_.horizontalAlignmentType=M.horizontalAlignmentType,_.verticalAlignmentType=M.verticalAlignmentType}}return _}return{process:function s(){var c=i.getOptions(),h={graphics:e(),transform:t.getTransform(),treeItemsPositions:r.getItemsPositions()},d={showLabels:c.showLabels,labelFontSize:c.labelFontSize,labelFontFamily:c.labelFontFamily,labelFontStyle:c.labelFontStyle,labelFontWeight:c.labelFontWeight,labelColor:c.labelColor,itemsOptions:i.getItemsOptions(),labelSize:c.labelSize,labelOrientation:c.labelOrientation,labelPlacement:c.labelPlacement,labelOffset:c.labelOffset};return h.graphics.reset("placeholder",10),function o(c,h){var d=[];if(h.showLabels==Re.Auto||h.showLabels==Re.True)for(var f in c.treeItemsPositions)if(c.treeItemsPositions.hasOwnProperty(f)){var p=h.itemsOptions[f],m=c.treeItemsPositions[f],g=m.actualPosition;null!=p&&c.transform.transformRect(g.x,g.y,g.width,g.height,!0,this,function(w,S,T,C){switch(m.actualVisibility){case ie.Normal:h.showLabels==Re.Auto&&((M=new _v(w,S,T,C)).weight=1e4,M.labelType=1,d.push(M));break;case ie.Dot:case ie.Line:var M=a(w,S,T,C,p,m,h);null!=M&&d.push(M)}})}h.showLabels==Re.Auto&&function eU(e,t,n){function i(b,y,v,w){this.isStart=b,this.index=y,this.x=v,this.rect=w}function r(){this.count=0,this.rectangles={},this.add=function(b){this.count+=1,this.rectangles[b]=!0},this.remove=function(b){return this.count-=1,delete this.rectangles[b],0==this.count}}function s(b,y,v,w,S){b.loopForward(this,y,function(T,C){if(T>v)return!0;for(var M in C.rectangles)if(C.rectangles.hasOwnProperty(M)){var D=w>M?w+"-"+M:M+"-"+w;h.hasOwnProperty(D)||(h[D]=!0,n.call(e,S,t[M]))}})}if(null!=n){for(var o=[],a=0;a<t.length;a+=1){var l=t[a];o.push(new i(1,a,l.x,l)),o.push(new i(0,a,l.right(),l))}o.sort(function(b,y){return b.x==y.x?y.isStart-b.isStart:b.x-y.x});var u=fv(),c={},h={};for(a=0;a<o.length;a+=1){var d=o[a],f=[d.rect.y,d.rect.bottom()];if(1==d.isStart){s(u,f[0],f[1],d.index,d.rect);for(var p=0,m=f.length;p<m;p+=1){var g=f[p],_=c[g];null==_&&(_=new r,c[g]=_,u.add(g,_)),_.add(d.index)}}else{for(p=0,m=f.length;p<m;p+=1)(_=c[g=f[p]]).remove(d.index)&&(delete c[g],u.remove(g));s(u,f[0],f[1],d.index,d.rect)}}}}(this,d,function(w,S){if(w.isActive&&S.isActive)switch(w.labelType){case 1:switch(S.labelType){case 1:break;case 0:case 2:S.isActive=!1}break;case 2:switch(S.labelType){case 1:w.isActive=!1;break;case 0:S.isActive=!1}break;case 0:switch(S.labelType){case 1:case 2:w.isActive=!1;break;case 0:w.weight<=S.weight?w.isActive=!1:S.isActive=!1}}}),c.graphics.activate("placeholder",10);for(var _={fontSize:h.labelFontSize,fontFamily:h.labelFontFamily,fontStyle:h.labelFontStyle,fontWeight:h.labelFontWeight,fontColor:h.labelColor},b=0,y=d.length;b<y;b+=1){var v=d[b];if(v.isActive)switch(v.labelType){case 0:case 2:c.graphics.text(v.x,v.y,v.width,v.height,v.text,v.labelOrientation,v.horizontalAlignmentType,v.verticalAlignmentType,_)}}}(h,d),!1}}}function bI(e,t,n,i,r){var s;return{process:function o(){var l=new Pe(t.getFrameThickness());return(s=e()).reset("frameplaceholder",9),l.isEmpty()||function a(){var l=new zo,u=n.getPositions(),c=r.getOptions(),h=new Be;for(var f in u)if(u.hasOwnProperty(f)){var w,p=u[f],g=i.getTemplateParams(f).template.templateConfig,_=r.getItemOptions(f),b=null,y=null,v=null;null!=_&&(b=_.itemTitleColor,y=_.itemTitleColor,v=_.minimizedItemShapeType),b=b||g.minimizedItemBorderColor||L.Navy,y=y||g.minimizedItemFillColor||L.Navy,null==v&&(v=null!==g.minimizedItemShapeType?g.minimizedItemShapeType:c.minimizedItemShapeType),w=null===g.minimizedItemCornerRadius?g.minimizedItemSize.width:g.minimizedItemCornerRadius,null==v||v==en.None?l.getPolyline(new zn({lineColor:b,lineWidth:g.minimizedItemLineWidth,lineType:g.minimizedItemLineType,fillColor:y,opacity:g.minimizedItemOpacity})).addSegment(new Ed(p.x,p.y,p.width,p.height,w)):h.draw(l,v,p,new zn({lineColor:b,lineWidth:g.minimizedItemLineWidth,lineType:g.minimizedItemLineType,fillColor:y,opacity:g.minimizedItemOpacity}))}s.activate("frameplaceholder",9),s.polylinesBuffer(l)}(),!1}}}function wI(e,t,n,i,r,s){var o;return{process:function a(){var u=r.getHighlightTreeItem();return(o=e()).reset("frameplaceholder",8),null!=u&&function l(u){var c,d=t.getPositions()[u];if(null!=d){var p=i.getTemplateParams(u).template,m=p.templateConfig,g=m.highlightPadding;o.activate("frameplaceholder",8),(c=new Ts).context=n.getConfig(u),c.isCursor=s.getCursorTreeItem()==u,c.isSelected=!0,c.templateName=m.name;var _=new se(0,0,Math.round(d.width),Math.round(d.height));_.offset(g.left,g.top,g.right,g.bottom),o.template(Math.round(d.x),Math.round(d.y),Math.round(d.width),Math.round(d.height),Math.round(_.x),Math.round(_.y),Math.round(_.width),Math.round(_.height),p.dotHighlightTemplate.template(),p.dotHighlightTemplate.getHashCode(),p.dotHighlightTemplate.render,c,{borderWidth:m.highlightBorderWidth})}}(u),!1}}}function TI(e,t,n,i,r,s,o,a){var l,u,c,h;return{process:function d(){var p=r.getAnnotations();return(l=e()).reset("titlesplaceholder",1),p.length>0&&(u=s.getPositions(),c=n.getTransform(),h=o.getTitleTemplate(),function f(p,m){var b,g=new Vi(t.getVerticalOffset()),{levelTitlePanelSize:_}=a.getOptions();l.activate("titlesplaceholder",1),c.transformRect(0,g.from,0,g.width(),!0,this,function(O,V,k,x){b=new se(O,V,k,x)});for(var y=0,v=p.length;y<v;y+=1){var w=p[y],S=m[y];if(null!=S)for(var T=0,C=S.length;T<C;T+=1){var M=S[T],D=new se(0,M.from,_,M.width());if(D.verticalInterval().overlaps(g)){var E=new Pe(0,w.offset.top,0,w.offset.bottom);D.offset(E);var P=new Ts;P.context=w,c.transformRect(D.x,D.y,D.width,D.height,!0,this,function(O,V,k,x){l.template(O-b.x,V-b.y,k,x,0,0,k,x,h.template(),h.getHashCode(),h.render,P,null)})}}}}(p,u)),!1}}}function CI(e,t,n,i,r,s,o){var a,l,u,c;return{process:function h(){var f=r.getAnnotations();return(a=e()).reset("placeholder",1),f.length>0&&(l=s.getPositions(),u=n.getTransform(),c=o.getBackgroundTemplate(),function d(f,p){var _,m=new Vi(t.getVerticalOffset()),g=a.activate("placeholder",1);u.transformRect(0,0,g.size.width,g.size.height,!1,this,function(P,O,V,k){_=new se(P,O,V,k)});for(var b=0,y=f.length;b<y;b+=1){var v=f[b],w=u.transformThickness(v.lineWidth,!0),S=p[b];if(null!=S)for(var T=0,C=S.length;T<C;T+=1){var M=S[T],D=new se(0,M.from,_.width,M.width());if(D.offset(v.offset),D.verticalInterval().overlaps(m)){var E=new Ts;E.context=v,w3(E.context,{lineWidth:w}),u.transformRect(D.x,D.y,D.width,D.height,!0,this,function(P,O,V,k){a.template(P,O,V,k,0,0,V,k,c.template(),c.getHashCode(),c.render,E,null)})}}}}(f,l)),!1}}}function tU(e,t,n,i,r){var s=new sM;return s.addDependency("options",e),s.addDependency("graphics",t),s.addDependency("getLayout",n),s.addDependency("setLayout",i),s.addDependency("templates",r),s.addDependency("defaultConfig",new S3),s.addDependency("defaultItemConfig",new oM),s.addDependency("defaultTemplateConfig",new vd),s.addDependency("defaultBackgroundAnnotationConfig",new ov),s.addDependency("defaultConnectorAnnotationConfig",new aM),s.addDependency("defaultHighlightPathAnnotationConfig",new lM),s.addDependency("defaultShapeAnnotationConfig",new av),s.addDependency("defaultLevelAnnotationConfig",new uM),s.addDependency("showElbowDots",!1),s.addDependency("null",null),s.addDependency("foreground",xt.Foreground),s.addDependency("background",xt.Background),s.addTask("OptionsTask",["options"],cM,L.Black),s.addTask("CalloutOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],hM,L.Navy),s.addTask("ConnectorsOptionTask",["OptionsTask","defaultConfig"],dM,L.Navy),s.addTask("ItemsOptionTask",["OptionsTask","defaultItemConfig"],D3,L.Navy),s.addTask("ItemsContentOptionTask",["OptionsTask","defaultItemConfig"],fM,L.Navy),s.addTask("ItemsSizesOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],pM,L.Navy),s.addTask("MinimumVisibleLevelsOptionTask",["OptionsTask","defaultConfig"],mM,L.Navy),s.addTask("LabelsOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],gM,L.Navy),s.addTask("TemplatesOptionTask",["OptionsTask","defaultConfig","defaultTemplateConfig"],vM,L.Navy),s.addTask("OrientationOptionTask",["OptionsTask","defaultConfig"],yM,L.Navy),s.addTask("VisualTreeOptionTask",["OptionsTask","defaultConfig"],M3,L.Navy),s.addTask("MinimizedItemsOptionTask",["OptionsTask"],_M,L.Navy),s.addTask("CursorItemOptionTask",["OptionsTask","defaultConfig"],bM,L.Navy),s.addTask("HighlightItemOptionTask",["OptionsTask","defaultConfig"],wM,L.Navy),s.addTask("SelectedItemsOptionTask",["OptionsTask"],TM,L.Navy),s.addTask("CursorSelectionPathModeOptionTask",["OptionsTask","defaultConfig"],CM,L.Navy),s.addTask("SplitAnnotationsOptionTask",["OptionsTask"],SM,L.Cyan),s.addTask("ForegroundShapeAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultShapeAnnotationConfig","foreground"],yd,L.Navy),s.addTask("BackgroundShapeAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultShapeAnnotationConfig","background"],yd,L.Navy),s.addTask("ForegroundHighlightPathAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultHighlightPathAnnotationConfig","foreground"],_d,L.Navy),s.addTask("BackgroundHighlightPathAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultHighlightPathAnnotationConfig","background"],_d,L.Navy),s.addTask("ForegroundConnectorAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultConnectorAnnotationConfig","foreground"],bd,L.Navy),s.addTask("BackgroundConnectorAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultConnectorAnnotationConfig","background"],bd,L.Navy),s.addTask("BackgroundAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultBackgroundAnnotationConfig"],DM,L.Navy),s.addTask("LevelAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultLevelAnnotationConfig"],MM,L.Navy),s.addTask("ScaleOptionTask",["OptionsTask","defaultConfig"],IM,L.Navy),s.addTask("FrameOptionTask",["OptionsTask","defaultConfig"],kM,L.Navy),s.addTask("LevelTitlePlacementOptionTask",["OptionsTask","defaultConfig"],EM,L.Navy),s.addTask("LevelTitleTemplateOptionTask",["OptionsTask","defaultConfig"],AM,L.Navy),s.addTask("CombinedContextsTask",["ItemsContentOptionTask"],xM,L.Cyan),s.addTask("OrgTreeTask",["ItemsOptionTask"],I3,L.Red),s.addTask("ReadTemplatesTask",["TemplatesOptionTask","templates"],OM,L.Cyan),s.addTask("ActiveItemsTask",["ItemsSizesOptionTask","ReadTemplatesTask"],RM,L.Cyan),s.addTask("ItemTemplateParamsTask",["ItemsSizesOptionTask","CursorItemOptionTask","ReadTemplatesTask"],LM,L.Cyan),s.addTask("GroupTitleTemplateTask",["TemplatesOptionTask","templates"],NM,L.Cyan),s.addTask("CheckBoxTemplateTask",["ItemsSizesOptionTask","templates"],VM,L.Cyan),s.addTask("ButtonsTemplateTask",["ItemsSizesOptionTask","templates"],BM,L.Cyan),s.addTask("AnnotationLabelTemplateTask",["ItemsOptionTask","templates"],zM,L.Cyan),s.addTask("LevelAnnotationTemplateTask",["OrientationOptionTask","LevelTitleTemplateOptionTask","templates"],HM,L.Cyan),s.addTask("VisualTreeTask",["OrgTreeTask","ActiveItemsTask","VisualTreeOptionTask"],N3,L.Red),s.addTask("VisualTreeLevelsTask",["VisualTreeTask","ItemTemplateParamsTask"],B3,L.Red),s.addTask("ExtractNestedLayoutsTask",["OptionsTask"],z3,L.Red),s.addTask("CreateLayoutsTreeTask",["VisualTreeTask","VisualTreeLevelsTask","ExtractNestedLayoutsTask"],U3,L.Red),s.addTask("ConnectionsGraphTask",["graphics","CreateTransformTask","ConnectorsOptionTask","VisualTreeLevelsTask","ExtractNestedLayoutsTask","AlignDiagramTask"],$M,L.Cyan),s.addTask("HighlightItemTask",["HighlightItemOptionTask","ActiveItemsTask"],WM,L.Cyan),s.addTask("CursorItemTask",["CursorItemOptionTask","ActiveItemsTask"],GM,L.Cyan),s.addTask("CursorNeighboursTask",["CursorItemTask","VisualTreeTask"],j3,L.Cyan),s.addTask("SelectedItemsTask",["SelectedItemsOptionTask","ItemsOptionTask"],qM,L.Cyan),s.addTask("SelectionPathItemsTask",["VisualTreeTask","CursorItemTask","SelectedItemsTask","CursorSelectionPathModeOptionTask"],$3,L.Cyan),s.addTask("NormalVisibilityItemsByForegroundShapeAnnotationTask",["ForegroundShapeAnnotationOptionTask"],Xr,L.Cyan),s.addTask("NormalVisibilityItemsByBackgroundShapeAnnotationTask",["BackgroundShapeAnnotationOptionTask"],Xr,L.Cyan),s.addTask("NormalVisibilityItemsByBackgroundAnnotationTask",["BackgroundAnnotationOptionTask"],Xr,L.Cyan),s.addTask("NormalVisibilityItemsByForegroundHighlightPathAnnotationTask",["ForegroundHighlightPathAnnotationOptionTask"],Xr,L.Cyan),s.addTask("NormalVisibilityItemsByBackgroundHighlightPathAnnotationTask",["BackgroundHighlightPathAnnotationOptionTask"],Xr,L.Cyan),s.addTask("NormalVisibilityItemsByForegroundConnectorAnnotationTask",["ForegroundConnectorAnnotationOptionTask"],Dd,L.Cyan),s.addTask("NormalVisibilityItemsByBackgroundConnectorAnnotationTask",["BackgroundConnectorAnnotationOptionTask"],Dd,L.Cyan),s.addTask("NormalVisibilityItemsByMinimumVisibleLevelsTask",["MinimumVisibleLevelsOptionTask","OrgTreeTask"],W3,L.Cyan),s.addTask("CombinedNormalVisibilityItemsTask",["ItemsSizesOptionTask","CursorItemTask","CursorNeighboursTask","SelectedItemsTask","SelectionPathItemsTask","NormalVisibilityItemsByForegroundShapeAnnotationTask","NormalVisibilityItemsByBackgroundShapeAnnotationTask","NormalVisibilityItemsByBackgroundAnnotationTask","NormalVisibilityItemsByForegroundHighlightPathAnnotationTask","NormalVisibilityItemsByBackgroundHighlightPathAnnotationTask","NormalVisibilityItemsByForegroundConnectorAnnotationTask","NormalVisibilityItemsByBackgroundConnectorAnnotationTask","NormalVisibilityItemsByMinimumVisibleLevelsTask"],KM,L.Cyan),s.addTask("FrameSizeTask",["FrameOptionTask","ReadTemplatesTask","ScaleOptionTask"],XM,L.Navy),s.addTask("LevelTitleSizeTask",["LevelTitlePlacementOptionTask","LevelAnnotationOptionTask","OrientationOptionTask","ScaleOptionTask"],QM,L.Navy),s.addTask("LayoutOptionsTask",["getLayout","OptionsTask"],YM,L.Black),s.addTask("CurrentControlSizeTask",["LayoutOptionsTask","ItemsSizesOptionTask","FrameSizeTask","LevelTitleSizeTask"],ZM,L.Black),s.addTask("CurrentScrollPositionTask",["LayoutOptionsTask"],JM,L.Black),s.addTask("ItemsPositionsTask",["CurrentControlSizeTask","ScaleOptionTask","OrientationOptionTask","ItemsSizesOptionTask","ConnectorsOptionTask","VisualTreeOptionTask","CreateLayoutsTreeTask","ItemTemplateParamsTask","CursorItemTask","CombinedNormalVisibilityItemsTask"],eI,L.Red),s.addTask("AlignDiagramTask",["OrientationOptionTask","ItemsSizesOptionTask","VisualTreeOptionTask","ScaleOptionTask","CurrentControlSizeTask","ActiveItemsTask","ItemsPositionsTask"],nI,L.Red),s.addTask("CreateTransformTask",["OrientationOptionTask","ScaleOptionTask","AlignDiagramTask"],iI,L.Cyan),s.addTask("PaletteManagerTask",["ConnectorsOptionTask","null"],rI,L.Cyan),s.addTask("ApplyLayoutChangesTask",["graphics","setLayout","ItemsSizesOptionTask","CurrentControlSizeTask","ScaleOptionTask","AlignDiagramTask","FrameSizeTask","LevelTitleSizeTask"],sI,L.Green),s.addTask("CenterOnCursorTask",["LayoutOptionsTask","ApplyLayoutChangesTask","CurrentScrollPositionTask","CursorItemTask","AlignDiagramTask","CreateTransformTask","ScaleOptionTask"],oI,L.Cyan),s.addTask("ProjectItemsToFrameTask",["CreateTransformTask","FrameSizeTask","ApplyLayoutChangesTask","ScaleOptionTask","AlignDiagramTask","CenterOnCursorTask","ItemTemplateParamsTask","SelectedItemsTask"],aI,L.Green),s.addTask("ViewPortPlacementTask",["ScaleOptionTask","CenterOnCursorTask","CreateTransformTask","ApplyLayoutChangesTask"],lI,L.Green),s.addTask("VerticalOffsetTask",["ViewPortPlacementTask"],uI,L.Green),s.addTask("LogicalLevelsPlacementTask",["OrgTreeTask","VisualTreeTask","AlignDiagramTask"],Q3,L.Green),s.addTask("MergeLevelIntervalsTask",["LevelAnnotationOptionTask","LogicalLevelsPlacementTask"],hI,L.Green),s.addTask("DrawBackgroundAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","BackgroundAnnotationOptionTask","VisualTreeTask","AlignDiagramTask"],dI,L.Green),s.addTask("DrawBackgroundHighlightPathAnnotationTask",["graphics","ConnectorsOptionTask","ForegroundHighlightPathAnnotationOptionTask","ConnectionsGraphTask","foreground"],Md,L.Cyan),s.addTask("DrawForegroundHighlightPathAnnotationTask",["graphics","ConnectorsOptionTask","BackgroundHighlightPathAnnotationOptionTask","ConnectionsGraphTask","background"],Md,L.Cyan),s.addTask("DrawForegroundConnectorAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","ForegroundConnectorAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","foreground"],Id,L.Green),s.addTask("DrawBackgroundConnectorAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","BackgroundConnectorAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","background"],Id,L.Green),s.addTask("DrawForegroundShapeAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","ForegroundShapeAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","foreground"],kd,L.Green),s.addTask("DrawBackgroundShapeAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","BackgroundShapeAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","background"],kd,L.Green),s.addTask("DrawCursorTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","CombinedContextsTask","AlignDiagramTask","ItemTemplateParamsTask","CursorItemTask","SelectedItemsTask"],fI,L.Green),s.addTask("DrawHighlightTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","CombinedContextsTask","AlignDiagramTask","ItemTemplateParamsTask","HighlightItemTask","CursorItemTask","SelectedItemsTask"],pI,L.Green),s.addTask("DrawHighlightAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","ScaleOptionTask","CombinedContextsTask","CalloutOptionTask","ReadTemplatesTask","AlignDiagramTask","CenterOnCursorTask","HighlightItemTask","CursorItemTask","SelectedItemsTask","FrameSizeTask"],mI,L.Green),s.addTask("DrawTreeItemsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","ScaleOptionTask","ItemsSizesOptionTask","CombinedContextsTask","AlignDiagramTask","CenterOnCursorTask","ItemTemplateParamsTask","CursorItemTask","SelectedItemsTask","GroupTitleTemplateTask","CheckBoxTemplateTask","ButtonsTemplateTask"],gI,L.Green),s.addTask("DrawMinimizedItemsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","MinimizedItemsOptionTask","ItemTemplateParamsTask","AlignDiagramTask"],vI,L.Green),s.addTask("DrawConnectorsTask",["graphics","ConnectionsGraphTask","ConnectorsOptionTask","showElbowDots","PaletteManagerTask"],yI,L.Green),s.addTask("DrawItemLabelsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","LabelsOptionTask","AlignDiagramTask"],_I,L.Green),s.addTask("DrawFrameItemsTask",["graphics","ApplyLayoutChangesTask","ProjectItemsToFrameTask","ItemTemplateParamsTask","MinimizedItemsOptionTask"],bI,L.Green),s.addTask("DrawFrameHighlightTask",["graphics","ProjectItemsToFrameTask","CombinedContextsTask","ItemTemplateParamsTask","HighlightItemTask","CursorItemTask"],wI,L.Green),s.addTask("DrawLevelAnnotationBackgroundTask",["graphics","VerticalOffsetTask","CreateTransformTask","ApplyLayoutChangesTask","LevelAnnotationOptionTask","MergeLevelIntervalsTask","LevelAnnotationTemplateTask"],CI,L.Green),s.addTask("DrawLevelAnnotationTitlesTask",["graphics","VerticalOffsetTask","CreateTransformTask","ApplyLayoutChangesTask","LevelAnnotationOptionTask","MergeLevelIntervalsTask","LevelAnnotationTemplateTask","LevelTitlePlacementOptionTask"],TI,L.Green),s}function nU(e){this.name=void 0!==e?e:"FamDiagram",this.classPrefix="famdiagram",this.navigationMode=zs.Default,this.pageFitMode=sn.FitToPage,this.minimalVisibility=ie.Dot,this.minimumVisibleLevels=0,this.orientationType=qe.Top,this.verticalAlignment=Le.Middle,this.arrowsDirection=yt.None,this.showExtraArrows=!0,this.extraArrowsMinimumSpace=30,this.groupByType=yt.Children,this.alignBylevels=!0,this.enableMatrixLayout=!1,this.minimumMatrixSize=4,this.maximumColumnsInMatrix=6,this.hideGrandParentsConnectors=!1,this.elbowType=Bs.Round,this.bevelSize=4,this.elbowDotSize=4,this.emptyDiagramMessage="Diagram is empty.",this.items=[],this.annotations=[],this.cursorItem=null,this.highlightItem=null,this.highlightGravityRadius=40,this.selectedItems=[],this.hasSelectorCheckbox=Re.Auto,this.selectCheckBoxLabel="Selected",this.selectionPathMode=Hs.None,this.neighboursSelectionMode=dd.ParentsAndChildren,this.showFrame=!1,this.frameInnerPadding=new Pe(2,2,2,2),this.frameOuterPadding=new Pe(2,2,2,2),this.padding=new Pe(10,10,10,10),this.templates=[],this.defaultTemplateName=null,this.defaultLabelAnnotationTemplate=null,this.hasButtons=Re.Auto,this.onButtonsRender=null,this.onHighlightChanging=null,this.onHighlightChanged=null,this.onCursorChanging=null,this.onCursorChanged=null,this.onSelectionChanging=null,this.onSelectionChanged=null,this.onButtonClick=null,this.onMouseClick=null,this.onMouseDblClick=null,this.onItemRender=null,this.onHighlightRender=null,this.onCursorRender=null,this.normalLevelShift=20,this.dotLevelShift=20,this.lineLevelShift=10,this.normalItemsInterval=10,this.dotItemsInterval=1,this.lineItemsInterval=2,this.cousinsIntervalMultiplier=5,this.itemTitleFirstFontColor=L.White,this.itemTitleSecondFontColor=L.Navy,this.minimizedItemShapeType=en.None,this.linesColor=L.Silver,this.linesWidth=1,this.linesType=Qt.Solid,this.showNeigboursConnectorsHighlighted=!1,this.highlightLinesColor=L.Red,this.highlightLinesWidth=1,this.highlightLinesType=Qt.Solid,this.linesPalette=[],this.showCallout=!0,this.calloutMaximumVisibility=ie.Dot,this.calloutPlacementOffset=100,this.defaultCalloutTemplateName=null,this.calloutfillColor="#000000",this.calloutBorderColor=null,this.calloutOffset=4,this.calloutCornerRadius=4,this.calloutPointerWidth="10%",this.calloutLineWidth=1,this.calloutOpacity=.2,this.buttonsPanelSize=28,this.groupTitlePanelSize=24,this.checkBoxPanelSize=24,this.groupTitlePlacementType=vt.Left,this.groupTitleOrientation=it.RotateRight,this.groupTitleVerticalAlignment=Le.Middle,this.groupTitleHorizontalAlignment=Ie.Center,this.groupTitleFontSize="12px",this.groupTitleFontFamily="Arial",this.groupTitleColor=L.RoyalBlue,this.groupTitleFontWeight="normal",this.groupTitleFontStyle="normal",this.onGroupTitleRender=null,this.levelTitlePanelSize=24,this.levelTitlePlacementType=vt.Left,this.levelTitlePlaceInside=!1,this.levelTitleOrientation=it.Auto,this.levelTitleVerticalAlignment=Le.Middle,this.levelTitleHorizontalAlignment=Ie.Center,this.levelTitleFontSize="12px",this.levelTitleFontFamily="Arial",this.levelTitleFontColor=L.White,this.levelTitleColor=L.RoyalBlue,this.levelTitleFontWeight="normal",this.levelTitleFontStyle="normal",this.onLevelTitleRender=null,this.onLevelBackgroundRender=null,this.distance=3,this.scale=1,this.minimumScale=.5,this.maximumScale=1,this.showLabels=Re.Auto,this.labelSize=new Fe(80,24),this.labelOffset=1,this.labelOrientation=it.Horizontal,this.labelPlacement=be.Top,this.labelFontSize="10px",this.labelFontFamily="Arial",this.labelColor=L.Black,this.labelFontWeight="normal",this.labelFontStyle="normal",this.enablePanning=!0,this.autoSizeMinimum=new Fe(800,600),this.autoSizeMaximum=new Fe(1024,768)}function iU(e,t,n,i,r){var s;switch(this.id=null,this.parents=[],this.relativeItem=null,this.placementType=vt.Right,this.position=null,this.primaryParent=null,this.title=null,this.description=null,this.image=null,this.context=null,this.itemTitleColor=L.RoyalBlue,this.minimizedItemShapeType=null,this.groupTitle=null,this.groupTitleColor=L.RoyalBlue,this.matrixId=null,this.addToMatrix=!0,this.isActive=!0,this.hasSelectorCheckbox=Re.Auto,this.hasButtons=Re.Auto,this.templateName=null,this.showCallout=Re.Auto,this.calloutTemplateName=null,this.label=null,this.showLabel=Re.Auto,this.labelSize=null,this.labelOrientation=it.Auto,this.labelPlacement=be.Auto,arguments.length){case 1:for(s in e)e.hasOwnProperty(s)&&(this[s]=e[s]);break;case 5:this.id=e,this.parents=t,this.title=n,this.description=i,this.image=r}}function rU(e,t,n){var i;switch(this.lineColor=L.Silver,this.lineWidth=1,this.lineType=Qt.Solid,arguments.length){case 1:for(i in e)e.hasOwnProperty(i)&&(this[i]=e[i]);break;case 3:this.lineColor=e,this.lineWidth=t,this.lineType=n}}function sU(e,t){var n;switch(this.annotationType=3,this.fromItem=null,this.toItems=[],this.title=null,this.itemTitleColor=L.RoyalBlue,this.templateName=null,arguments.length){case 1:for(n in e)e.hasOwnProperty(n)&&(this[n]=e[n]);break;case 2:this.fromItem=e,this.toItem=t}}function oU(e,t){var n={},i={},r={},s=new me({items:new mt(new me({id:new R(["string","number"],!0),parents:new mt(new R(["string","number"],!0),!0),isActive:new R(["boolean"],!1,t.isActive)}),!0,"id",!0)});return{process:function o(){var u={isChanged:!1,hash:i,sourceHash:r};return n=s.read(n,e.getOptions(),"options",u),u.isChanged},getItems:function a(){return n.items},getConfig:function l(u){return r["options-items"][u]}}}function aU(e,t){var n={items:[]},i={},r=new mt(new R(["string","number"],!0),!0);return{process:function s(){var l={isChanged:!1,hash:i},u=t.getTreeLevels(),{pageFitMode:c,minimalVisibility:h,minimumVisibleLevels:d}=e.getOptions();return n.items=r.read(n.items,function o(l,u,c,h){var d=[];if(h>0&&(sn.PageWidth==u||sn.PageHeight||sn.FitToPage)&&c!=ie.Normal){var f=0,p=null;l.loopLevels(this,function(m,g){if(l.loopLevelItems(this,m,function(_,b,y){b.isVisible&&(p!==m&&(p=m,f+=1),d.push(_))}),f>=h)return!0})}return d}(u,c,h,d),"items",l),l.isChanged},getItems:function a(){return n.items}}}function lU(e,t){var n={positions:[]};return{getPositions:function s(){return n.positions||(n.positions=function r(){var o=[],a=e.getTreeLevels(),l=t.getItemsPositions(),u=0;a.loopLevels(this,function(v,w){a.loopLevelItems(this,v,function(S,T,C){if(T.isVisible&&T.isActive){var M=l[S];if(M){var D=new Vi(M.topConnectorShift||M.actualPosition.y,M.bottomConnectorShift-1,u++);o.push(D)}return!0}})});var c=[];mv(this,o,function(v){c.push(v)}),o=c,c=[];for(var h=null,d=(u=0,o.length);u<d;u+=1){var f=o[u];h&&h.context===f.context?h.to=f.to:(h=f,c.push(f))}for((o=c).length>0&&(o[0].from=0),u=0,d=o.length-1;u<d;u+=1)o[u].to=o[u+1].from;var g=null;for(u=0,d=o.length;u<d;u+=1)f=o[u],g=null===g?f.context:Math.min(g,f.context);var _={};for(u=0,d=o.length;u<d;u+=1){var b=(f=o[u]).context-g,y=_[b];y?y.push(f):_[b]=[f]}return _}()),n.positions},process:function i(){return n.positions=null,!0}}}function uU(e){var t={leavesPlacementType:At.Horizontal,childrenPlacementType:At.Horizontal,maximumColumnsInMatrix:6,horizontalAlignment:Ie.Center};return{process:function n(){return!1},getOptions:function i(){return t}}}function cU(e,t){var n={},i={},r=new me({hideGrandParentsConnectors:new R(["boolean"],!1,t.hideGrandParentsConnectors)});return{process:function s(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getOptions(),"options",a),a.isChanged},getOptions:function o(){return n}}}function hU(e,t){var n={},i={},r=new me({groupByType:new we(yt,!1,t.groupByType),alignBylevels:new R(["boolean"],!1,t.alignBylevels)});return{process:function s(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getOptions(),"options",a),a.isChanged},getOptions:function o(){return n}}}function dU(e,t,n){var i={},r={},s=new me({enableMatrixLayout:new R(["boolean"],!1,t.enableMatrixLayout),minimumMatrixSize:new R(["number"],!1,t.minimumMatrixSize),maximumColumnsInMatrix:new R(["number"],!1,t.maximumColumnsInMatrix),items:new mt(new me({id:new R(["string","number"],!0),matrixId:new R(["string","number"],!1,n.matrixId),addToMatrix:new R(["boolean"],!1,n.addToMatrix)}),!0,"id")});return{process:function o(){var u={isChanged:!1,hash:r};return i=s.read(i,e.getOptions(),"options",u),u.isChanged},getOptions:function a(){return i},getConfig:function l(u){return r["options-items"][u]}}}function fU(e,t,n){var i={},r={},s=new me({enableMatrixLayout:new R(["boolean"],!1,t.enableMatrixLayout),minimumMatrixSize:new R(["number"],!1,t.minimumMatrixSize),maximumColumnsInMatrix:new R(["number"],!1,t.maximumColumnsInMatrix),items:new mt(new me({id:new R(["string","number"],!0),position:new R(["number"],!0),relativeItem:new R(["string","number"],!0),placementType:new we(vt,!1,n.placementType),primaryParent:new R(["string","number"],!0),matrixId:new R(["string","number"],!1,n.matrixId),addToMatrix:new R(["boolean"],!1,n.addToMatrix)}),!0,"id")});return{process:function o(){var u={isChanged:!1,hash:r};return i=s.read(i,e.getOptions(),"options",u),u.isChanged},getOptions:function a(){return i},getConfig:function l(u){return r["options-items"][u]}}}function pU(e,t){var n={},i={},r=new me({linesPalette:new mt(new me({lineColor:new R(["string"],!1,t.lineColor),lineWidth:new R(["number"],!1,t.lineWidth),lineType:new we(Qt,!1,t.lineType)}),!1)});return{process:function s(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getOptions(),"options",a),a.isChanged},getOptions:function o(){return n}}}function mU(e,t){var n={},i=new me({neighboursSelectionMode:new we(dd,!1,t.neighboursSelectionMode)});return{process:function r(){var o={isChanged:!1};return n=i.read(n,e.getOptions(),"options",o),o.isChanged},getNeighboursSelectionMode:function s(){return n.neighboursSelectionMode}}}function SI(){}function gU(e){var t={position:null,group:null},n=new SI;return{process:function i(){var o=e.getOptions(),a=n.getUserDefinedPositions(o.items);return t.position=a.position,t.group=a.group,!0},getPositions:function r(){return t.position},getGroups:function s(){return t.group}}}function Cs(e){var t;if(1===(this.id=null,this.familyId=null,this.itemConfig=null,this.isVisible=!0,this.isActive=!0,this.isLevelNeutral=!1,this.level=null,this.levelGravity=yt.None,this.hideParentConnection=!1,this.hideChildrenConnection=!1,arguments.length))for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function vU(e){var t={logicalFamily:null,maximumId:null};return{process:function n(s){var o,a,l,u,f,c=e.getItems(),h=Vo(),d=0;if(c.length>0)for(o=0,a=c.length;o<a;o+=1)null!=(l=c[o])&&(u=new Cs({id:l.id,itemConfig:l,isActive:l.isActive}),h.add(l.parents,u.id,u),f=parseInt(l.id,10),d=Math.max(isNaN(f)?0:f,d));if(t.logicalFamily=h,t.maximumId=d,s&&!h.validate())throw"References are broken in family structure!";return!0},getLogicalFamily:function i(){return t.logicalFamily},getMaximumId:function r(){return t.maximumId}}}function Ad(e,t){this.from=e,this.to=t}function _U(e){var t={logicalFamily:null,maximumId:null,loops:[]};return{process:function n(a){var l=e.getLogicalFamily(),c=function i(a,l,u){var c,h,d,f,p,m,g=function yU(e,t){var i,r,s,o,a,l,c,n=[],h=e.clone();e.loopTopo(this,function(I){h.removeNode(I)}),e.loopTopoReversed(this,function(I){h.removeNode(I)});var d=h.clone();for(d.loop(this,function(I){if(null!=h.node(I)){h.loopParents(this,I,function(O){return n.push(new Ad(O,I)),h.removeChildRelation(O,I),h.SKIP});var E=[];h.loopTopo(this,function(O){E.push(O)}),h.loopTopoReversed(this,function(O){E.push(O)});for(var P=0;P<E.length;P+=1)h.removeNode(E[P])}}),r=0,s=n.length;r<s;r+=1)if(!d.removeChildRelation((i=n[r]).from,i.to))throw"Relation does not exists";if(t&&d.hasLoops())throw"Failed to clean loops in family";var f=d.getGraph(this,function(I,E){return{from:I,to:E,capacity:1,flow:0}}),p="__1000__",m="__2000__",g=n.length;for(r=0,s=n.length;r<s;r+=1)null==(c=f.edge((i=n[r]).from,m))?f.addEdge(i.from,m,{from:i.from,to:m,capacity:1,flow:0,tos:[i.to]}):(c.capacity+=1,c.tos.push(i.to)),null==(c=f.edge(p,i.to))?f.addEdge(p,i.to,{from:p,to:i.to,capacity:1,flow:0,froms:[i.from]}):(c.capacity+=1,c.froms.push(i.from));for(var _=0;f.getLevelGraph(this,p,function(I,E,P){return I==P.from?P.capacity>P.flow:P.flow>0}).hasNode(m);)for(;;){var y=f.dfsPath(this,p,m,function(I,E,P){return I==P.from?P.capacity>P.flow:P.flow>0});if(0==y.length)break;var v=1/0;for(r=0,s=y.length;r<s-1;r+=1){var w;if(0==(w=(c=f.edge(l=y[r],y[r+1])).from==l?c.capacity-c.flow:c.flow))throw"Broken flow path";v=Math.min(v,w)}for(r=0,s=y.length;r<s-1;r+=1)(c=f.edge(l=y[r],y[r+1])).from==l?c.flow+=v:c.flow-=v;_+=v}if(_<g){var S=f.getLevelGraph(this,p,function(I,E,P){return I==P.from&&P.capacity>P.flow}),T=[];S.loopNodes(this,p,function(I){f.loopNodeEdges(this,I,function(E,P){if(P.to==E&&!S.hasNode(E)){var O=!1;f.dfsLoop(this,E,function(V,k,x){return x.from==V&&!S.hasNode(V)},function(V){return V==m&&(O=!0,!0)}),O&&T.push(new Ad(I,E))}})});var C=[],M=0;for(r=0,s=T.length;r<s;r+=1){var D=T[r];if(D.from==p)for(o=0,a=(c=f.edge(D.from,D.to)).froms.length;o<a;o+=1)C.push(new Ad(c.froms[o],D.to)),M+=1;else if(D.to==m)for(o=0,a=(c=f.edge(D.from,D.to)).tos.length;o<a;o+=1)C.push(new Ad(D.from,c.tos[o])),M+=1;else C.push(D),M+=1}M==_&&(n=C)}return n}(a,u),_=[],b=[],y={};for(d=0,f=g.length;d<f;d+=1){var v=g[d];y.hasOwnProperty(v.to)?y[v.to].parents.push(v.from):(y[v.to]={itemid:v.to,parents:[v.from]},b.push(y[v.to]))}var w={};if(b.length>0)for(a=a.clone(),d=0,f=b.length;d<f;d+=1){var S=b[d],T=S.parents,C=[];for(a.loopParents(this,S.itemid,function(E,P){return C.push(E),a.SKIP}),p=0,m=C.length;p<m;p+=1)a.removeChildRelation(C[p],S.itemid);var M=C.length<=T.length;for(h=new Cs({id:l+=1,isVisible:!1,isActive:!1,isLevelNeutral:!1,hideParentConnection:M,hideChildrenConnection:M,levelGravity:yt.Children,itemConfig:{title:"fake parent #"+l,description:"This is a fake parent item, it was created by loops removal task."}}),a.add([],h.id,h),a.adopt([h.id],S.itemid),_.push({from:h.id,to:S.itemid,isOppositeFlow:!1}),p=0,m=T.length;p<m;p+=1){var D=T[p];null==(c=w[D])&&(c=new Cs({id:l+=1,isVisible:!1,isActive:!1,isLevelNeutral:!1,hideParentConnection:!0,hideChildrenConnection:!0,levelGravity:yt.Parents,itemConfig:{title:"fake child #"+l,description:"This is a fake child item, it was created by loops removal task."}}),w[D]=c,a.add([D],c.id,c),_.push({from:D,to:c.id,isOppositeFlow:!1})),a.adopt([h.id],c.id),_.push({from:h.id,to:c.id,isOppositeFlow:!0})}var I={};for(p=0,m=T.length;p<m;p+=1)I[T[p]]=!0;for(p=0,m=C.length;p<m;p+=1)I.hasOwnProperty(C[p])||a.adopt([C[p]],h.id)}return{maximumId:l,logicalFamily:a,loops:_}}(l,e.getMaximumId(),a);if(t.logicalFamily=c.logicalFamily,t.maximumId=c.maximumId,t.loops=c.loops,a&&!l.validate())throw"References are broken in family structure!";return!0},getLogicalFamily:function r(){return t.logicalFamily},getMaximumId:function s(){return t.maximumId},getLoops:function o(){return t.loops}}}function bU(e,t,n){var i={annotations:[],configs:{},maximumId:null},r={},s=new mt(new me({zOrderType:new we(xt,!1,n.zOrderType),fromItem:new R(["string","number"],!0),toItems:new mt(new R(["string","number"],!0),!0),title:new R(["string"],!0),itemTitleColor:new R(["string"],!1,n.itemTitleColor),templateName:new R(["string"],!0)},!1),!1,null,!0);return{process:function o(){var d,f,p,c={isChanged:!1,hash:r,sourceHash:{}},h=t.getMaximumId();i.annotations=s.read(i.annotations,e.getAnnotations(3),"annotations",c),i.configs={};var m=c.sourceHash.annotations;for(d=0,f=i.annotations.length;d<f;d+=1)(p=i.annotations[d]).id=h+=1,i.configs[p.id]=m[d];return i.maximumId=h,c.isChanged},getAnnotations:function a(){return i.annotations},getMaximumId:function l(){return i.maximumId},getConfig:function u(c){return i.configs[c]}}}function wU(e,t){var n={annotations:[]},i={},r=new mt(new me({id:new R(["number"],!0),title:new R(["string"],!0),itemTitleColor:new R(["string"],!1,t.itemTitleColor),templateName:new R(["string"],!0)}),!0,"id");return{process:function s(){var a={isChanged:!1,hash:i};return n.annotations=r.read(n.annotations,e.getAnnotations(),"annotations",a),a.isChanged},getAnnotations:function o(){return n.annotations}}}function TU(e,t){var n={annotations:[]},i={},r=new mt(new me({id:new R(["number"],!0),fromItem:new R(["string","number"],!0),toItems:new mt(new R(["string","number"],!0),!0)}),!0,"id");return{process:function s(){var l={isChanged:!1,hash:i};return n.annotations=r.read(n.annotations,e.getAnnotations(),"annotations",l),l.isChanged},getAnnotations:function o(){return n.annotations},getMaximumId:function a(){return e.getMaximumId()}}}function Ho(e,t,n,i){this.values=[t,i],this[e]=0,this[n]=1}function CU(e,t){var n={logicalFamily:null,maximumId:null};function s(l,u,c,h,d){var f,g,_,b,y,p=!0,m=null,v=[];for(_=0,b=h.length;_<b;_+=1){if(null==(f=u.edge(c,g=h[_]))){p=!1;break}if(null==m)m=f.getFar(g);else if(m!=f.getFar(g)){p=!1;break}v.push(f.getNear(g))}if(p&&(y=d(),l.bundleParents(m,v,y.id,y)?(y.levelGravity=yt.Children,p=!0):l.bundleChildren(m,v,y.id,y)?(y.levelGravity=yt.Parents,p=!0):l.bundleParents(m,h,y.id,y)?(y.levelGravity=yt.Children,p=!0):l.bundleParents(m,h,y.id,y)&&(y.levelGravity=yt.Parents,p=!0),p))for(_=0,b=h.length;_<b;_+=1)(f=u.edge(c,g=h[_])).setFar(g,y.id)}return{process:function i(l){var u=t.getLogicalFamily(),c=e.getAnnotations();if(function r(l,u){var d,f,p,m,g,c=No(),h={};if(u.length>0){for(m=0,g=u.length;m<g;m+=1)h.hasOwnProperty((f=u[m]).fromItem)?h[f.fromItem].push(f):(h[f.fromItem]=[f],l.loopChildren(this,f.fromItem,function(_,b,y){return c.addEdge(f.fromItem,_,new Ho(f.fromItem,f.fromItem,_,_)),l.SKIP}),l.loopParents(this,f.fromItem,function(_,b,y){return c.addEdge(_,f.fromItem,new Ho(_,_,f.fromItem,f.fromItem)),l.SKIP}));for(p in h)if(h.hasOwnProperty(p))for((d=h[p]).sort(function(_,b){return b.toItems.length-_.toItems.length}),m=0;m<d.length;m+=1)s(l,c,(f=d[m]).fromItem,f.toItems,function(){return new Cs({id:f.id,isVisible:!0,isLevelNeutral:!0,isActive:!1,itemConfig:f})})}}(u=u.clone(),c),n.logicalFamily=u,n.maximumId=e.getMaximumId(),l&&!u.validate())throw"References are broken in family structure!";return!0},getLogicalFamily:function o(){return n.logicalFamily},getMaximumId:function a(){return n.maximumId}}}function SU(e,t){var n={maximumId:null,logicalFamily:null};return{process:function i(o){var a=t.getLogicalFamily(),l=t.getMaximumId();return a=1==e.getOptions().hideGrandParentsConnectors?a.getFamilyWithoutGrandParentsRelations():a.clone(),n.logicalFamily=a,n.maximumId=l,!0},getLogicalFamily:function r(){return n.logicalFamily},getMaximumId:function s(){return n.maximumId}}}function DU(e){var t={maximumId:null,logicalFamily:null};return{process:function n(s){var o=e.getLogicalFamily(),a=e.getMaximumId();if((o=o.clone()).optimizeReferences(function(){return new Cs({id:a+=1,isVisible:!1,isActive:!1,itemConfig:{title:"bundle #"+a,description:" This item was created by references optimizer."},levelGravity:yt.Children,isLevelNeutral:!0})}),s&&!o.validate())throw"References are broken in family structure!";if(s&&o.hasLoops())throw"Structure has loops!";if(o.eliminateManyToMany(function(){return new Cs({id:a+=1,isVisible:!1,isActive:!1,itemConfig:{title:"dummy #"+a,description:"This is item used to eliminate M:M relations."},levelGravity:yt.Children,hideParentConnection:!1,hideChildrenConnection:!1,isLevelNeutral:!0})}),s&&!o.validate())throw"References are broken in family structure!";return t.logicalFamily=o,t.maximumId=a,!0},getLogicalFamily:function i(){return t.logicalFamily},getMaximumId:function r(){return t.maximumId}}}function Pu(e){this.debug=e}function Uo(e,t,n,i,r){this.isChildren=e,this.items=t,this.len=t.length,this.matrixNodeId=n,this.connectionId=i,this.matrixWidth=r,this.blocksCount=Math.ceil(this.matrixWidth/2),this.rowsCount=Math.ceil(this.len/this.matrixWidth)}function Bi(e,t,n){this.items=e,this.hideParentConnection=t,this.hideChildrenConnection=n,this.data={columns:[],rows:[]}}function Qr(e,t,n){this.items=e,this.hideParentConnection=t,this.hideChildrenConnection=n,this.data={columns:[],row:null}}function xd(e){this.parent=Pu.prototype,this.parent.constructor.apply(this,arguments)}function MU(e,t){var n={maximumId:null,logicalFamily:null},i=new xd(!1);return{process:function r(h){var d=t.getLogicalFamily(),m=t.getMaximumId(),f=e.getOptions(),p={enableMatrixLayout:f.enableMatrixLayout,minimumMatrixSize:f.minimumMatrixSize,maximumColumnsInMatrix:f.maximumColumnsInMatrix};d=d.clone();var{maximumId:m,layouts:g,nestedLayoutParentConnectorIds:_,nestedLayoutBottomConnectorIds:b,bundles:y}=i.extract(p,e.getConfig,d,m);return n.logicalFamily=d,n.maximumId=m,n.layouts=g,n.nestedLayoutParentConnectorIds=_,n.nestedLayoutBottomConnectorIds=b,n.bundles=y,!0},getLogicalFamily:function s(){return n.logicalFamily},getMaximumId:function c(){return n.maximumId},getLayouts:function o(){return n.layouts},getNestedLayoutParentConnectorIds:function a(){return n.nestedLayoutParentConnectorIds},getNestedLayoutBottomConnectorIds:function l(){return n.nestedLayoutBottomConnectorIds},getBundles:function u(){return n.bundles}}}function sl(e){this.parent=Pu.prototype,this.parent.constructor.apply(this,arguments)}function IU(e,t){var n={maximumId:null,logicalFamily:null},i=new sl(!1);return{process:function r(a){var l=t.getLogicalFamily(),u=t.getMaximumId(),c=e.getOptions(),h={groupByType:c.groupByType,alignBylevels:c.alignBylevels};return l=l.clone(),u=i.normalize(h,l,u),n.logicalFamily=l,n.maximumId=u,!0},getLogicalFamily:function s(){return n.logicalFamily},getMaximumId:function o(){return n.maximumId}}}function Pd(e,t,n){this.id=e,this.familyId=t,this.level=n,this.childIndex=0}function bv(e){this.itemId=e,this.position=null,this.balance=0,this.left={},this.right={},this.crossings={}}function ri(){}function DI(){}function kU(e,t,n){var i={maximumId:null,logicalFamily:null,treeLevels:null,bundles:null,connectorStacks:null},r=new ri,s=new DI,o=new wd;return{process:function a(f){var p=n.getLogicalFamily(),_=n.getMaximumId(),m=e.getOptions(),g={logicalFamily:p,maximumId:_,itemsPositions:t.getPositions(),itemsGroups:t.getGroups(),primaryParents:s.getUserDefinedPrimaryParents(m.items,p)},{maximumId:_,treeLevels:b,bundles:y,connectorStacks:v}=r.balance(g);return i.maximumId=_,i.treeLevels=b,i.bundles=y,i.connectorStacks=v,i.logicalFamily=p,!0},getLogicalFamily:function l(){return i.logicalFamily},getMaximumId:function u(){return i.maximumId},getTreeLevels:function c(){return i.treeLevels},getBundles:function h(){return i.bundles},getConnectorsStacksSizes:function d(f){return i.connectorStacks[f]||o}}}function EU(e,t,n){var i={items:{}};return{process:function r(){var l,u,o=e.getOptions(),a=t.getAnnotations();for(i.items={},l=0,u=a.length;l<u;l+=1){var c=a[l],h=new FM,d=n.getTemplate(c.templateName,o.defaultLabelAnnotationTemplate,n.DefaultWidgetLabelAnnotationTemplateName);h.template=d,i.items[c.id]=h}return!0},getTemplateParams:function s(o){return i.items[o]}}}function AU(e,t){return{process:function n(){return!0},getTemplateParams:function i(r){return e.getTemplateParams(r)||t.getTemplateParams(r)}}}function xU(e,t,n,i){var r={items:[]},s={},o=new mt(new R(["string","number"],!0),!0);return{process:function a(){var c={isChanged:!1,hash:s},h=e.getCursorTreeItem(),d=n.getLogicalFamily(),f=t.getNeighboursSelectionMode(),p=i.getActiveItems();return r.items=o.read(r.items,function l(c,h,d,f){var p=[],m={};if(null!==c)switch(h){case dd.ParentsAndChildren:d.loopParents(this,c,function(g,_){if(_.isVisible&&!m.hasOwnProperty(g)&&(m[g]=!0,p.push(g)),f.hasOwnProperty(g))return d.SKIP}),d.loopChildren(this,c,function(g,_){if(_.isVisible&&!m.hasOwnProperty(g)&&(m[g]=!0,p.push(g)),f.hasOwnProperty(g))return d.SKIP});break;case dd.ParentsChildrenSiblingsAndSpouses:d.loopNeighbours(this,c,function(g,_){if(_.isVisible&&!m.hasOwnProperty(g)&&(m[g]=!0,p.push(g)),f.hasOwnProperty(g))return!0})}return p}(h,f,d,p),"items",c),c.isChanged},getItems:function u(){return r.items}}}function PU(e,t,n,i){var r={items:[]};return{process:function s(){var l=i.getSelectionPathMode(),u=e.getLogicalFamily(),c=t.getCursorTreeItem(),h=n.getItems().slice(0);return h.push(c),r.items=function o(l,u,c){var f,p,m,h=[],d={};for(p=0,m=l.length;p<m;p+=1)switch(f=l[p],c){case Hs.None:break;case Hs.FullStack:u.loopParents(this,f,function(g,_){if(null!=d[g])return u.SKIP;_.isVisible&&h.push(g),d[g]=!0})}return h}(h,u,l),!0},getItems:function a(){return r.items}}}function MI(){function e(t,n,i,r){this.left=t,this.right=n,this.leftIndex=i,this.rightIndex=r}this.items=[],this.add=function(t,n,i,r){switch(arguments.length){case 2:this.items.push(new e(-t/2,t/2,n,n));break;case 4:this.items.push(new e(t,n,i,r))}},this.merge=function(t,n){for(var i=this.getDistanceTo(t),r=0,s=0,o=this.items.length,a=t.items.length,l=Math.min(o,a),u=Math.max(o,a),c=0;c<l;c+=1){var h=this.items[o-1-c],d=t.items[a-1-c];if(0===c){var f=h.right-h.left+(i||0)+(n||0)+d.right-d.left;r=f/2+h.left,s=f/2-d.right}h.left-=r,h.right=d.right+s,h.rightIndex=d.rightIndex,this.items[u-1-c]=h}for(c=l;c<u;c+=1)d=t.items[a-1-c],null==(h=this.items[o-1-c])?this.items[u-1-c]=new e(d.left+s,d.right+s,d.leftIndex,d.rightIndex):(h.left-=r,h.right-=r);return i},this.attach=function(t,n){for(var i=this.getDistanceTo(t),r=n||0,s=this.items.length,o=t.items.length,a=Math.min(s,o),l=Math.max(s,o),u=0;u<a;u+=1){var c=this.items[s-1-u],h=t.items[o-1-u];0===u&&(r=c.right+(i||0)+(n||0)-h.left),c.right=h.right+r,c.rightIndex=h.rightIndex,this.items[l-1-u]=c}for(u=a;u<l;u+=1)null==(c=this.items[s-1-u])&&(this.items[l-1-u]=new e((h=t.items[o-1-u]).left+r,h.right+r,h.leftIndex,h.rightIndex));return i},this.getDistanceTo=function(t){var n=null,i=0,r=this.items.length,s=t.items.length,o=Math.min(r,s);if(o>0){for(var a=0;a<o;a+=1){var l=this.items[r-1-a],u=t.items[s-1-a];0===a?n=i=l.right-u.left:l.rightIndex<u.leftIndex&&(n=Math.max(n,l.right-u.left))}n-=i}return n},this.loop=function(t,n){if(null!=n)for(var i=0,r=this.items.length;i<r;i+=1){var s=this.items[r-1-i];if(n.call(t,i,s.left,s.right,s.leftIndex,s.rightIndex))break}},this.getLeft=function(t){var n=this.items.length-1;if(n>=t)return this.items[n-t].left}}function RU(e,t,n,i){var r,o,s={};function a(d,f){var p=d[f];return null==p&&(p=new MI,d[f]=p),p}function c(d,f,p,m,g,_,b,y){var v=_,w=_;p.loopSiblings(this,f,function(P){var O=b.getItemPosition(P);v=Math.min(v,O),w=Math.max(w,O)});for(var S=_-1;S>=v;S-=1){var T=b.getItemAtPosition(m,S);if(!d.hasOwnProperty(T)){var C=b.getItemAtPosition(m,S+1);d[T]=d[C]-(s[T]/2+(y[C]||0)+s[C]/2)}}for(S=_+1;S<=w;S+=1)T=b.getItemAtPosition(m,S),d.hasOwnProperty(T)||(C=b.getItemAtPosition(m,S-1),d[T]=d[C]+(s[C]/2+(y[T]||0)+s[T]/2));var M=d[T=b.getItemAtPosition(m,v)]-s[T]/2;M+=d[T=b.getItemAtPosition(m,w)]+s[T]/2,M/=2,v=null,w=null,p.loopNonSiblings(this,f,function(P){var O=b.getItemPosition(P);v=null!=v?Math.min(v,O):O,w=null!=w?Math.max(w,O):O});var D=0;for(S=v;S<=w;S+=1){var I=b.getItemAtPosition(g,S);D+=s[I],S>v&&(D+=y[I]||0)}var E=M-D/2;for(I=b.getItemAtPosition(g,v),d.hasOwnProperty(I)||(d[I]=E+s[I]/2),S=v+1;S<=w;S+=1)I=b.getItemAtPosition(g,S),d.hasOwnProperty(I)||(C=b.getItemAtPosition(g,S-1),d[I]=d[C]+(s[C]/2+(y[I]||0)+s[I]/2))}return null!=i&&n.loopItems(this,function(d,f,p,m,g){s[d]=i.call(e,d,f)}),o=function l(d,f){var p={},m={},g=null;return f.loopLevelsReversed(this,function(_,b){var y=new MI;null!=g&&(g.add(0,Number.MAX_VALUE),y.merge(g,0));var v=g=y;f.loopLevelItems(this,_,function(w,S,T){var C=a(m,w);switch(C.add(s[w],T),d.countParents(w)){case 0:null!=v&&(p[w]=v.attach(C));break;case 1:d.loopParents(this,w,function(x,F,z){var W=a(m,x);return p[w]=W.merge(C),v=W,d.BREAK});break;default:var M=0,D=null,I=null,E={};d.loopParents(this,w,function(x,F,z){if(z>0)return d.BREAK;M+=s[x];var W=f.getItemPosition(x);D=null==D?W:Math.min(D,W),I=null==I?W:Math.max(I,W),E[W]=x});for(var P=-M/2,O=D;O<=I;O+=1){var V=E[O];P+=s[V]/2;var k=a(m,V);k.attach(C,-P),v=k,P+=s[V]/2}}})}),p}(t,n),r=function u(d,f,p){var m={},g=function OU(e){var i,r,t=[],n={};function s(){this.fromIndex=0,this.toIndex=0,this.items=[],this.hash={}}function o(u){this.id=u,this.parents=new s,this.children=new s,this.loopSiblings=function(c,h,d){this._loop(c,this.parents.hash.hasOwnProperty(h)?this.parents.items:this.children.items,d)},this.loopNonSiblings=function(c,h,d){this._loop(c,this.parents.hash.hasOwnProperty(h)?this.children.items:this.parents.items,d)},this.loop=function(c,h){this._loop(c,this.parents.items,h),this._loop(c,this.children.items,h)},this._loop=function(c,h,d){if(null!=d)for(var f=0,p=h.length;f<p;f+=1)d.call(c,h[f])},this.addParent=function(c){this._add(c,this.parents)},this.addChild=function(c){this._add(c,this.children)},this._add=function(c,h){h.hash.hasOwnProperty(c)||(h.items.push(c),h.hash[c]=!0)}}i=0,e.loop(this,function(u,c){var h=e.countChildren(u);if(h>0&&!n.hasOwnProperty(u)){var d=new o(i);i+=1,d.addParent(u),e.loopChildren(this,u,function(f,p){return d.addChild(f),1==h&&e.loopParents(this,f,function(m){return d.addParent(m),n[m]=d,e.SKIP}),e.SKIP}),t.push(d),n[u]=d}});var a={};for(i=0,r=t.length;i<r;i+=1){var l=t[i];l.loop(this,function(u){a.hasOwnProperty(u)?a[u].push(l):a[u]=[l]})}return a}(d),_={};return f.loopLevels(this,function(b,y){f.loopLevelItems(this,b,function(v,w,S){if(!m.hasOwnProperty(v)){var T=0;if(0===S)null!=p[v]&&(T+=p[v]+s[v]/2);else{var C=f.getItemAtPosition(b,S-1);T+=m[C]+s[C]/2+(p[v]||0)+s[v]/2}m[v]=T}var M=g[v];if(null!=M)for(var D=0;D<M.length;D+=1){var I=M[D];_.hasOwnProperty(I.id)||(_[I.id]=!0,c(m,v,I,b,b+1,S,f,p))}})}),m}(t,n,o),{getOffset:function h(d){return r[d]}}}function FU(e,t,n){this.offset=e,this.leftPadding=t,this.rightPadding=n}function kr(e,t,n){this.logicalFamily=e,this.treeLevels=t,this.getConnectorsStacksSizes=n,this.treeLevelsPositions=[],this.childLayoutsPositions={}}function LU(e,t){var n={layoutsTree:{},maximumId:null};return{process:function i(){var o=e.getLogicalFamily(),a=e.getTreeLevels(),l=e.getMaximumId(),u=e.getConnectorsStacksSizes,c=t.getLayouts(),h=new kr(o,a,u),d=Ir();l++,d.add(null,l,h);for(var f=[{id:l,levelLayout:h}];f.length>0;){for(var p=[],m=0;m<f.length;m+=1){var{id:g,levelLayout:_}=f[m];_.loop(this,function(b){var y=b.id,v=c[y];v?p.push({id:y,levelLayout:v}):v=new Sd(b.isVisible?ie.Auto:ie.Invisible),d.add(g,y,v)})}f=p}return n.layoutsTree=d,n.maximumId=l,!0},getLayoutsTree:function r(){return n.layoutsTree},getMaximumId:function s(){return n.maximumId}}}function NU(e,t,n,i,r){var s=new sM;return s.addDependency("options",e),s.addDependency("graphics",t),s.addDependency("getLayout",n),s.addDependency("setLayout",i),s.addDependency("templates",r),s.addDependency("defaultConfig",new nU),s.addDependency("defaultItemConfig",new iU),s.addDependency("defaultTemplateConfig",new vd),s.addDependency("defaultPaletteItemConfig",new rU),s.addDependency("defaultBackgroundAnnotationConfig",new ov),s.addDependency("defaultConnectorAnnotationConfig",new aM),s.addDependency("defaultHighlightPathAnnotationConfig",new lM),s.addDependency("defaultShapeAnnotationConfig",new av),s.addDependency("defaultLabelAnnotationConfig",new sU),s.addDependency("defaultLevelAnnotationConfig",new uM),s.addDependency("showElbowDots",!0),s.addDependency("null",null),s.addDependency("foreground",xt.Foreground),s.addDependency("background",xt.Background),s.addTask("OptionsTask",["options"],cM,L.Black),s.addTask("CalloutOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],hM,L.Navy),s.addTask("ConnectorsOptionTask",["OptionsTask","defaultConfig"],dM,L.Navy),s.addTask("ItemsOptionTask",["OptionsTask","defaultItemConfig"],oU,L.Navy),s.addTask("ItemsContentOptionTask",["OptionsTask","defaultItemConfig"],fM,L.Navy),s.addTask("ItemsSizesOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],pM,L.Navy),s.addTask("MinimumVisibleLevelsOptionTask",["OptionsTask","defaultConfig"],mM,L.Navy),s.addTask("LabelsOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],gM,L.Navy),s.addTask("TemplatesOptionTask",["OptionsTask","defaultConfig","defaultTemplateConfig"],vM,L.Navy),s.addTask("OrientationOptionTask",["OptionsTask","defaultConfig"],yM,L.Navy),s.addTask("VisualTreeOptionTask",["OptionsTask","defaultConfig"],uU,L.Navy),s.addTask("MinimizedItemsOptionTask",["OptionsTask"],_M,L.Navy),s.addTask("HideGrandParentsConnectorsOptionTask",["OptionsTask","defaultConfig"],cU,L.Navy),s.addTask("NormalizeOptionTask",["OptionsTask","defaultConfig"],hU,L.Navy),s.addTask("ExtractNestedLayoutsOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],dU,L.Navy),s.addTask("OrderFamilyNodesOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],fU,L.Navy),s.addTask("LinePaletteOptionTask",["OptionsTask","defaultPaletteItemConfig"],pU,L.Navy),s.addTask("CursorItemOptionTask",["OptionsTask","defaultConfig"],bM,L.Navy),s.addTask("HighlightItemOptionTask",["OptionsTask","defaultConfig"],wM,L.Navy),s.addTask("SelectedItemsOptionTask",["OptionsTask"],TM,L.Navy),s.addTask("CursorSelectionPathModeOptionTask",["OptionsTask","defaultConfig"],CM,L.Navy),s.addTask("NeighboursSelectionModeOptionTask",["OptionsTask","defaultConfig"],mU,L.Navy),s.addTask("SplitAnnotationsOptionTask",["OptionsTask"],SM,L.Cyan),s.addTask("ForegroundShapeAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultShapeAnnotationConfig","foreground"],yd,L.Navy),s.addTask("BackgroundShapeAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultShapeAnnotationConfig","background"],yd,L.Navy),s.addTask("ForegroundHighlightPathAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultHighlightPathAnnotationConfig","foreground"],_d,L.Navy),s.addTask("BackgroundHighlightPathAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultHighlightPathAnnotationConfig","background"],_d,L.Navy),s.addTask("ForegroundConnectorAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultConnectorAnnotationConfig","foreground"],bd,L.Navy),s.addTask("BackgroundConnectorAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultConnectorAnnotationConfig","background"],bd,L.Navy),s.addTask("BackgroundAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultBackgroundAnnotationConfig"],DM,L.Navy),s.addTask("LevelAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultLevelAnnotationConfig"],MM,L.Navy),s.addTask("ScaleOptionTask",["OptionsTask","defaultConfig"],IM,L.Navy),s.addTask("FrameOptionTask",["OptionsTask","defaultConfig"],kM,L.Navy),s.addTask("LevelTitlePlacementOptionTask",["OptionsTask","defaultConfig"],EM,L.Navy),s.addTask("LevelTitleTemplateOptionTask",["OptionsTask","defaultConfig"],AM,L.Navy),s.addTask("UserDefinedNodesOrderTask",["OrderFamilyNodesOptionTask","defaultItemConfig"],gU,L.Red),s.addTask("LogicalFamilyTask",["ItemsOptionTask"],vU,L.Cyan),s.addTask("LabelAnnotationOptionTask",["SplitAnnotationsOptionTask","LogicalFamilyTask","defaultLabelAnnotationConfig"],bU,L.Navy),s.addTask("LabelAnnotationTemplateOptionTask",["LabelAnnotationOptionTask","defaultLabelAnnotationConfig"],wU,L.Navy),s.addTask("LabelAnnotationPlacementOptionTask",["LabelAnnotationOptionTask","defaultLabelAnnotationConfig"],TU,L.Navy),s.addTask("CombinedContextsTask",["ItemsContentOptionTask","LabelAnnotationOptionTask"],xM,L.Cyan),s.addTask("AddLabelAnnotationsTask",["LabelAnnotationPlacementOptionTask","LogicalFamilyTask"],CU,L.Red),s.addTask("RemoveLoopsTask",["AddLabelAnnotationsTask"],_U,L.Red),s.addTask("HideGrandParentsConnectorsTask",["HideGrandParentsConnectorsOptionTask","RemoveLoopsTask"],SU,L.Red),s.addTask("BindFamilyConnectorsTask",["HideGrandParentsConnectorsTask"],DU,L.Red),s.addTask("ExtractNestedLayoutsTask",["ExtractNestedLayoutsOptionTask","BindFamilyConnectorsTask"],MU,L.Red),s.addTask("NormalizeLogicalFamilyTask",["NormalizeOptionTask","ExtractNestedLayoutsTask"],IU,L.Red),s.addTask("OrderFamilyNodesTask",["OrderFamilyNodesOptionTask","UserDefinedNodesOrderTask","NormalizeLogicalFamilyTask"],kU,L.Red),s.addTask("FamCreateLayoutsTreeTask",["OrderFamilyNodesTask","ExtractNestedLayoutsTask"],LU,L.Red),s.addTask("ReadTemplatesTask",["TemplatesOptionTask","templates"],OM,L.Cyan),s.addTask("ActiveItemsTask",["ItemsSizesOptionTask","ReadTemplatesTask"],RM,L.Cyan),s.addTask("ItemTemplateParamsTask",["ItemsSizesOptionTask","CursorItemOptionTask","ReadTemplatesTask"],LM,L.Cyan),s.addTask("LabelAnnotationTemplateParamsTask",["ItemsSizesOptionTask","LabelAnnotationTemplateOptionTask","ReadTemplatesTask"],EU,L.Cyan),s.addTask("CombinedTemplateParamsTask",["ItemTemplateParamsTask","LabelAnnotationTemplateParamsTask"],AU,L.Cyan),s.addTask("GroupTitleTemplateTask",["TemplatesOptionTask","templates"],NM,L.Cyan),s.addTask("CheckBoxTemplateTask",["ItemsSizesOptionTask","templates"],VM,L.Cyan),s.addTask("ButtonsTemplateTask",["ItemsSizesOptionTask","templates"],BM,L.Cyan),s.addTask("AnnotationLabelTemplateTask",["ItemsOptionTask","templates"],zM,L.Cyan),s.addTask("LevelAnnotationTemplateTask",["OrientationOptionTask","LevelTitleTemplateOptionTask","templates"],HM,L.Cyan),s.addTask("ConnectionsGraphTask",["graphics","CreateTransformTask","ConnectorsOptionTask","OrderFamilyNodesTask","ExtractNestedLayoutsTask","AlignDiagramTask","RemoveLoopsTask"],$M,L.Cyan),s.addTask("HighlightItemTask",["HighlightItemOptionTask","ActiveItemsTask"],WM,L.Cyan),s.addTask("CursorItemTask",["CursorItemOptionTask","ActiveItemsTask"],GM,L.Cyan),s.addTask("CursorNeighboursTask",["CursorItemTask","NeighboursSelectionModeOptionTask","AddLabelAnnotationsTask","ActiveItemsTask"],xU,L.Cyan),s.addTask("SelectedItemsTask",["SelectedItemsOptionTask","ItemsOptionTask"],qM,L.Cyan),s.addTask("SelectionPathItemsTask",["RemoveLoopsTask","CursorItemTask","SelectedItemsTask","CursorSelectionPathModeOptionTask"],PU,L.Cyan),s.addTask("NormalVisibilityItemsByForegroundShapeAnnotationTask",["ForegroundShapeAnnotationOptionTask"],Xr,L.Cyan),s.addTask("NormalVisibilityItemsByBackgroundShapeAnnotationTask",["BackgroundShapeAnnotationOptionTask"],Xr,L.Cyan),s.addTask("NormalVisibilityItemsByBackgroundAnnotationTask",["BackgroundAnnotationOptionTask"],Xr,L.Cyan),s.addTask("NormalVisibilityItemsByForegroundHighlightPathAnnotationTask",["ForegroundHighlightPathAnnotationOptionTask"],Xr,L.Cyan),s.addTask("NormalVisibilityItemsByBackgroundHighlightPathAnnotationTask",["BackgroundHighlightPathAnnotationOptionTask"],Xr,L.Cyan),s.addTask("NormalVisibilityItemsByForegroundConnectorAnnotationTask",["ForegroundConnectorAnnotationOptionTask"],Dd,L.Cyan),s.addTask("NormalVisibilityItemsByBackgroundConnectorAnnotationTask",["BackgroundConnectorAnnotationOptionTask"],Dd,L.Cyan),s.addTask("NormalVisibilityItemsByMinimumVisibleLevelsTask",["MinimumVisibleLevelsOptionTask","OrderFamilyNodesTask"],aU,L.Cyan),s.addTask("CombinedNormalVisibilityItemsTask",["ItemsSizesOptionTask","CursorItemTask","CursorNeighboursTask","SelectedItemsTask","SelectionPathItemsTask","NormalVisibilityItemsByForegroundShapeAnnotationTask","NormalVisibilityItemsByBackgroundShapeAnnotationTask","NormalVisibilityItemsByBackgroundAnnotationTask","NormalVisibilityItemsByForegroundHighlightPathAnnotationTask","NormalVisibilityItemsByBackgroundHighlightPathAnnotationTask","NormalVisibilityItemsByForegroundConnectorAnnotationTask","NormalVisibilityItemsByBackgroundConnectorAnnotationTask","NormalVisibilityItemsByMinimumVisibleLevelsTask"],KM,L.Cyan),s.addTask("FrameSizeTask",["FrameOptionTask","ReadTemplatesTask","ScaleOptionTask"],XM,L.Navy),s.addTask("LevelTitleSizeTask",["LevelTitlePlacementOptionTask","LevelAnnotationOptionTask","OrientationOptionTask","ScaleOptionTask"],QM,L.Navy),s.addTask("LayoutOptionsTask",["getLayout","OptionsTask"],YM,L.Black),s.addTask("CurrentControlSizeTask",["LayoutOptionsTask","ItemsSizesOptionTask","FrameSizeTask","LevelTitleSizeTask"],ZM,L.Black),s.addTask("CurrentScrollPositionTask",["LayoutOptionsTask"],JM,L.Black),s.addTask("ItemsPositionsTask",["CurrentControlSizeTask","ScaleOptionTask","OrientationOptionTask","ItemsSizesOptionTask","ConnectorsOptionTask","OrderFamilyNodesOptionTask","FamCreateLayoutsTreeTask","CombinedTemplateParamsTask","CursorItemTask","CombinedNormalVisibilityItemsTask"],eI,L.Red),s.addTask("AlignDiagramTask",["OrientationOptionTask","ItemsSizesOptionTask","VisualTreeOptionTask","ScaleOptionTask","CurrentControlSizeTask","ActiveItemsTask","ItemsPositionsTask"],nI,L.Red),s.addTask("CreateTransformTask",["OrientationOptionTask","ScaleOptionTask","AlignDiagramTask"],iI,L.Cyan),s.addTask("PaletteManagerTask",["ConnectorsOptionTask","LinePaletteOptionTask"],rI,L.Cyan),s.addTask("ApplyLayoutChangesTask",["graphics","setLayout","ItemsSizesOptionTask","CurrentControlSizeTask","ScaleOptionTask","AlignDiagramTask","FrameSizeTask","LevelTitleSizeTask"],sI,L.Cyan),s.addTask("CenterOnCursorTask",["LayoutOptionsTask","ApplyLayoutChangesTask","CurrentScrollPositionTask","CursorItemTask","AlignDiagramTask","CreateTransformTask","ScaleOptionTask"],oI,L.Cyan),s.addTask("ProjectItemsToFrameTask",["CreateTransformTask","FrameSizeTask","ApplyLayoutChangesTask","ScaleOptionTask","AlignDiagramTask","CenterOnCursorTask","ItemTemplateParamsTask","SelectedItemsTask"],aI,L.Cyan),s.addTask("ViewPortPlacementTask",["ScaleOptionTask","CenterOnCursorTask","CreateTransformTask","ApplyLayoutChangesTask"],lI,L.Green),s.addTask("VerticalOffsetTask",["ViewPortPlacementTask"],uI,L.Green),s.addTask("LogicalLevelsPlacementTask",["OrderFamilyNodesTask","AlignDiagramTask"],lU,L.Green),s.addTask("MergeLevelIntervalsTask",["LevelAnnotationOptionTask","LogicalLevelsPlacementTask"],hI,L.Green),s.addTask("DrawBackgroundHighlightPathAnnotationTask",["graphics","ConnectorsOptionTask","ForegroundHighlightPathAnnotationOptionTask","ConnectionsGraphTask","foreground"],Md,L.Cyan),s.addTask("DrawForegroundHighlightPathAnnotationTask",["graphics","ConnectorsOptionTask","BackgroundHighlightPathAnnotationOptionTask","ConnectionsGraphTask","background"],Md,L.Cyan),s.addTask("DrawBackgroundAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","BackgroundAnnotationOptionTask","LogicalFamilyTask","AlignDiagramTask"],dI,L.Green),s.addTask("DrawForegroundConnectorAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","ForegroundConnectorAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","foreground"],Id,L.Green),s.addTask("DrawBackgroundConnectorAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","BackgroundConnectorAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","background"],Id,L.Green),s.addTask("DrawForegroundShapeAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","ForegroundShapeAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","foreground"],kd,L.Green),s.addTask("DrawBackgroundShapeAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","BackgroundShapeAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","background"],kd,L.Green),s.addTask("DrawCursorTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","CombinedContextsTask","AlignDiagramTask","CombinedTemplateParamsTask","CursorItemTask","SelectedItemsTask"],fI,L.Green),s.addTask("DrawHighlightTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","CombinedContextsTask","AlignDiagramTask","CombinedTemplateParamsTask","HighlightItemTask","CursorItemTask","SelectedItemsTask"],pI,L.Green),s.addTask("DrawHighlightAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","ScaleOptionTask","CombinedContextsTask","CalloutOptionTask","ReadTemplatesTask","AlignDiagramTask","CenterOnCursorTask","HighlightItemTask","CursorItemTask","SelectedItemsTask","FrameSizeTask"],mI,L.Green),s.addTask("DrawTreeItemsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","ScaleOptionTask","ItemsSizesOptionTask","CombinedContextsTask","AlignDiagramTask","CenterOnCursorTask","CombinedTemplateParamsTask","CursorItemTask","SelectedItemsTask","GroupTitleTemplateTask","CheckBoxTemplateTask","ButtonsTemplateTask"],gI,L.Green),s.addTask("DrawMinimizedItemsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","MinimizedItemsOptionTask","CombinedTemplateParamsTask","AlignDiagramTask"],vI,L.Green),s.addTask("DrawConnectorsTask",["graphics","ConnectionsGraphTask","ConnectorsOptionTask","showElbowDots","PaletteManagerTask"],yI,L.Green),s.addTask("DrawItemLabelsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","LabelsOptionTask","AlignDiagramTask"],_I,L.Green),s.addTask("DrawFrameItemsTask",["graphics","ApplyLayoutChangesTask","ProjectItemsToFrameTask","ItemTemplateParamsTask","MinimizedItemsOptionTask"],bI,L.Green),s.addTask("DrawFrameHighlightTask",["graphics","ProjectItemsToFrameTask","CombinedContextsTask","ItemTemplateParamsTask","HighlightItemTask","CursorItemTask"],wI,L.Green),s.addTask("DrawLevelAnnotationBackgroundTask",["graphics","VerticalOffsetTask","CreateTransformTask","ApplyLayoutChangesTask","LevelAnnotationOptionTask","MergeLevelIntervalsTask","LevelAnnotationTemplateTask"],CI,L.Green),s.addTask("DrawLevelAnnotationTitlesTask",["graphics","VerticalOffsetTask","CreateTransformTask","ApplyLayoutChangesTask","LevelAnnotationOptionTask","MergeLevelIntervalsTask","LevelAnnotationTemplateTask","LevelTitlePlacementOptionTask"],TI,L.Green),s}function VU(e,t){1&e&&Ye(0,"div")}function BU(e,t){1&e&&Pn(0)}function zU(e,t){if(1&e&&(le(0,"table",4)(1,"tbody")(2,"tr")(3,"td",4),ce(4,BU,1,0,"ng-container",5),pe()()()()),2&e){const n=Te(),i=Sn(6);j("ngStyle",n.tableStyle),q(3),j("ngStyle",n.tdStyle),q(1),j("ngTemplateOutlet",i)}}function HU(e,t){1&e&&Pn(0)}function UU(e,t){if(1&e&&(le(0,"div",4),ce(1,HU,1,0,"ng-container",5),pe()),2&e){const n=Te(),i=Sn(6);j("ngStyle",n.divStyle),q(1),j("ngTemplateOutlet",i)}}function jU(e,t){1&e&&Nr(0)}ue.prototype.scale=function(e){return this.x=this.x*e,this.y=this.y*e,this},ue.prototype.distanceTo=function(e,t){var r,s,n=0,i=0;switch(arguments.length){case 1:n=e.x,i=e.y;break;case 2:n=e,i=t}return r=this.x-n,s=this.y-i,Math.sqrt(r*r+s*s)},ue.prototype.equalTo=function(e){return this.x==e.x&&this.y==e.y},ue.prototype.swap=function(e){var t=e.x,n=e.y;e.x=this.x,e.y=this.y,this.x=t,this.y=n},ue.prototype.clone=function(){return new ue(this)},ue.prototype.toString=function(e){var t="";return(t+="left:"+this.x+(e=void 0!==e?e:"px")+";")+"top:"+this.y+e+";"},ue.prototype.getCSS=function(e){return{left:this.x+(e=void 0!==e?e:"px"),top:this.y+e}},Bo.prototype.determinant=function(){return this.a1*this.b2-this.b1*this.a2},Bt.prototype.isNull=function(){return this.from.x==this.to&&this.from.y==this.to.y},Bt.prototype.length=function(){return this.from.distanceTo(this.to)},Bt.prototype.equalTo=function(e){return this.from.equalTo(e.from)&&this.to.equalTo(e.to)},Bt.prototype.getMiddlePoint=function(){return new ue((this.from.x+this.to.x)/2,(this.from.y+this.to.y)/2)},Bt.prototype.relateTo=function(e){var t=0,n=this.to.x-this.from.x,i=this.to.y-this.from.y,r=e.to.x-e.from.x,s=e.to.y-e.from.y;switch((n?8:0)+(i?4:0)+(r?2:0)+(s?1:0)){case 0:case 1:case 2:case 3:case 4:case 8:case 12:t=1;break;case 5:t=i*s>0?2:3;break;case 10:t=n*r>0?2:3;break;case 15:n/r==i/s&&(t=n/r>0?2:3)}return t},Bt.prototype.offset=function(e){var t=this.length(),n=(this.to.y-this.from.y)*e/t,i=-(this.to.x-this.from.x)*e/t;this.from.x+=n,this.from.y+=i,this.to.x+=n,this.to.y+=i},Bt.prototype.getLine=function(){var e=this.from.x,t=this.from.y,n=this.to.x,i=this.to.y;return[i-t,e-n,e*(t-i)+t*(n-e)]},Bt.prototype.getLineKey=function(){var e=this.getLine(),t=e[0],n=e[1],i=e[2],r=1e4;return(e=0!==n?[Math.floor(t/n*r),1,Math.floor(i/n*r)]:[1,0,Math.floor(i/t*r)]).toString()},Bt.prototype.intersect=function(e){var a,u,c,t=this.getLine(),n=e.getLine(),r=new Bo(t[0],t[1],n[0],n[1]).determinant(),h=!1;return 0!==r&&(a=new Bo(-t[2],t[1],-n[2],n[1]).determinant(),c=new Bo(t[0],-t[2],n[0],-n[2]).determinant()/r,e.to.x=u=a/r,e.to.y=c,this.from.x=u,this.from.y=c,h=!0),h},Bt.prototype.getIntersectionPoint=function(e,t,n){var h,d,i=this.getLine(),r=e.getLine(),o=new Bo(i[0],i[1],r[0],r[1]).determinant(),f=null;return 0!==o&&(h=new Bo(-i[2],i[1],-r[2],r[1]).determinant()/o,d=new Bo(i[0],-i[2],r[0],-r[2]).determinant()/o,t?e._contains(h,d,n)&&this._contains(h,d,n)&&(f=new ue(h,d)):f=new ue(h,d)),f},Bt.prototype._contains=function(e,t,n){var i=Math.min(this.from.x,this.to.x),r=Math.min(this.from.y,this.to.y),s=Math.max(this.from.x,this.to.x),o=Math.max(this.from.y,this.to.y);return i-n<=e&&e<=s+n&&r-n<=t&&t<=o+n},Vi.prototype.width=function(){return this.to-this.from},Vi.prototype.equalTo=function(e){return this.from==e.from&&this.to==e.to},Vi.prototype.clone=function(){return new Vi(this)},Vi.prototype.toString=function(){return this.from+", "+this.to},Vi.prototype.overlaps=function(e){var t=!0;return(this.to<e.from||e.to<this.from)&&(t=!1),t},se.prototype.left=function(){return this.x},se.prototype.top=function(){return this.y},se.prototype.right=function(){return this.x+this.width},se.prototype.bottom=function(){return this.y+this.height},se.prototype.verticalCenter=function(){return this.y+this.height/2},se.prototype.horizontalCenter=function(){return this.x+this.width/2},se.prototype.centerPoint=function(){return new ue(this.horizontalCenter(),this.verticalCenter())},se.prototype.isEmpty=function(){return null===this.x||null===this.y||null===this.width||null===this.height||this.width<0||this.height<0},se.prototype.offset=function(e,t,n,i){switch(arguments.length){case 1:null!==e&&"object"==typeof e?(this.x=this.x-e.left,this.y=this.y-e.top,this.width=this.width+e.left+e.right,this.height=this.height+e.top+e.bottom):(this.x=this.x-e,this.y=this.y-e,this.width=this.width+2*e,this.height=this.height+2*e);break;case 4:this.x=this.x-e,this.y=this.y-t,this.width=this.width+e+n,this.height=this.height+t+i}return this},se.prototype.scale=function(e){return this.x=this.x*e,this.y=this.y*e,this.width=this.width*e,this.height=this.height*e,this},se.prototype.translate=function(e,t){return this.x=this.x+e,this.y=this.y+t,this},se.prototype.invert=function(){var e=this.width,t=this.x;return this.width=this.height,this.height=e,this.x=this.y,this.y=t,this},se.prototype.loopEdges=function(e){var t=[new ue(this.left(),this.top()),new ue(this.right(),this.top()),new ue(this.right(),this.bottom()),new ue(this.left(),this.bottom())],n=[be.Top,be.Right,be.Bottom,be.Left];if(t.push(t[0]),null!=e)for(var i=1,r=t.length;i<r&&!e(new Bt(t[i-1],t[i]),n[i-1]);i+=1);return this},se.prototype.contains=function(e,t){switch(arguments.length){case 1:return this.x<=e.x&&e.x<=this.x+this.width&&this.y<=e.y&&e.y<=this.y+this.height;case 2:return this.x<=e&&e<=this.x+this.width&&this.y<=t&&t<=this.y+this.height;default:return!1}},se.prototype.cropByRect=function(e){return this.x<e.x&&(this.width-=e.x-this.x,this.x=e.x),this.right()>e.right()&&(this.width-=this.right()-e.right()),this.y<e.y&&(this.height-=e.y-this.y,this.y=e.y),this.bottom()>e.bottom()&&(this.height-=this.bottom()-e.bottom()),this.isEmpty()&&(this.x=null,this.y=null,this.width=null,this.height=null),this},se.prototype.overlaps=function(e){var t=!0;return(this.x+this.width<e.x||e.x+e.width<this.x||this.y+this.height<e.y||e.y+e.height<this.y)&&(t=!1),t},se.prototype.addRect=function(e,t,n,i){var r,s;switch(arguments.length){case 1:e.isEmpty()||(this.isEmpty()?(this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height):(r=Math.max(this.right(),e.right()),s=Math.max(this.bottom(),e.bottom()),this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.width=r-this.x,this.height=s-this.y));break;case 2:this.isEmpty()?(this.x=e,this.y=t,this.width=0,this.height=0):(r=Math.max(this.right(),e),s=Math.max(this.bottom(),t),this.x=Math.min(this.x,e),this.y=Math.min(this.y,t),this.width=r-this.x,this.height=s-this.y);break;case 4:this.isEmpty()?(this.x=e,this.y=t,this.width=n,this.height=i):(r=Math.max(this.right(),e+n),s=Math.max(this.bottom(),t+i),this.x=Math.min(this.x,e),this.y=Math.min(this.y,t),this.width=r-this.x,this.height=s-this.y)}return this},se.prototype.getCSS=function(e){return{left:this.x+(e=void 0!==e?e:"px"),top:this.y+e,width:this.width+e,height:this.height+e}},se.prototype.toString=function(e){var t="";return t+="left:"+this.x+(e=void 0!==e?e:"px")+";",t+="top:"+this.y+e+";",(t+="width:"+this.width+e+";")+"height:"+this.height+e+";"},se.prototype.validate=function(){if(isNaN(this.x)||isNaN(this.y)||isNaN(this.width)||isNaN(this.height))throw"Invalid rect position."},se.prototype.equalTo=function(e){return this.x==e.x&&this.y==e.y&&this.width==e.width&&this.height==e.height},se.prototype.getProjectionPoint=function(e){var t=null;if(!this.contains(e)){var n=new Bt(this.centerPoint(),e);this.loopEdges(function(i){return null!=(t=n.getIntersectionPoint(i,!0,1))})}return t},se.prototype.verticalInterval=function(){return new Vi(this.y,this.bottom())},zn.prototype.toAttr=function(){var e={lineWidth:this.lineWidth,lineType:this.lineType};return null!==this.fillColor&&(e.fillColor=this.fillColor),null!==this.opacity&&(e.opacity=this.opacity),null!==this.lineColor&&(e.borderColor=this.lineColor),e},zn.prototype.toString=function(){return this._key},(rt.prototype=new ue).clone=function(){return new rt(this)},rt.prototype.loop=function(e,t){t?.call(e,this.x,this.y,0)},rt.prototype.setPoint=function(e,t){this.x=e.x,this.y=e.y},rt.prototype.getEndPoint=function(){return this},rt.prototype.invert=function(e){this.x=e.x,this.y=e.y},rt.prototype.transform=function(e,t){var n=this;e.transformPoint(n.x,n.y,t,n,function(i,r){n.x=i,n.y=r})},(Ve.prototype=new rt).clone=function(){return new Ve(this)},Ve.prototype.trim=function(e,t){var n=this.offsetPoint(this,e,t);return this.x=n.x,this.y=n.y,this},Ve.prototype.offsetPoint=function(e,t,n){var r=e.distanceTo(t);return 0===r||0===n?new ue(e):new ue(e.x+(t.x-e.x)/r*n,e.y+(t.y-e.y)/r*n)},gn.prototype.clone=function(){return new gn(this.cpX,this.cpY,this.x,this.y)},gn.prototype.loop=function(e,t){null!=t&&(t.call(e,this.cpX,this.cpY,0),t.call(e,this.x,this.y,1))},gn.prototype.setPoint=function(e,t){switch(t){case 0:this.cpX=e.x,this.cpY=e.y;break;case 1:this.x=e.x,this.y=e.y}},gn.prototype.getEndPoint=function(){return this},gn.prototype.invert=function(e){this.x=e.x,this.y=e.y},gn.prototype.transform=function(e,t){var n=this;e.transformPoints(n.x,n.y,n.cpX,n.cpY,t,n,function(i,r,s,o){n.x=i,n.y=r,n.cpX=s,n.cpY=o})},gn.prototype.trim=function(e,t){var n=.5,i=this.offsetPoint(this.x,this.y,this.cpX,this.cpY,e.x,e.y,n),s=this.offsetPoint(this.x,this.y,this.cpX,this.cpY,e.x,e.y,.1);return n=t*(n/i.distanceTo(this.x,this.y)+.1/s.distanceTo(this.x,this.y))/2,i=this.offsetPoint(this.x,this.y,this.cpX,this.cpY,e.x,e.y,n),this.x=i.x,this.y=i.y,this},gn.prototype.offsetPoint=function(e,t,n,i,r,s,o){return new ue((1-o)*(1-o)*e+2*(1-o)*o*n+o*o*r,(1-o)*(1-o)*t+2*(1-o)*o*i+o*o*s)},(Xn.prototype=new ue).clone=function(){return new Xn(this.cpX1,this.cpY1,this.cpX2,this.cpY2,this.x,this.y)},Xn.prototype.loop=function(e,t){null!=t&&(t.call(e,this.cpX1,this.cpY1,0),t.call(e,this.cpX2,this.cpY2,1),t.call(e,this.x,this.y,2))},Xn.prototype.setPoint=function(e,t){switch(t){case 0:this.cpX1=e.x,this.cpY1=e.y;break;case 1:this.cpX2=e.x,this.cpY2=e.y;break;case 2:this.x=e.x,this.y=e.y}},Xn.prototype.getEndPoint=function(){return this},Xn.prototype.invert=function(e){var t=this.cpX1,n=this.cpY1;this.x=e.x,this.y=e.y,this.cpX1=this.cpX2,this.cpY1=this.cpY2,this.cpX2=t,this.cpY2=n},Xn.prototype.transform=function(e,t){var n=this;e.transform3Points(n.x,n.y,n.cpX1,n.cpY1,n.cpX2,n.cpY2,t,n,function(i,r,s,o,a,l){n.x=i,n.y=r,n.cpX1=s,n.cpY1=o,n.cpX2=a,n.cpY2=l})},Xn.prototype.trim=function(e,t){var n=.5,i=this.offsetPoint(this.x,this.y,this.cpX2,this.cpY2,this.cpX1,this.cpY1,e.x,e.y,n),s=this.offsetPoint(this.x,this.y,this.cpX2,this.cpY2,this.cpX1,this.cpY1,e.x,e.y,.1);return n=t*(n/i.distanceTo(this.x,this.y)+.1/s.distanceTo(this.x,this.y))/2,i=this.offsetPoint(this.x,this.y,this.cpX2,this.cpY2,this.cpX1,this.cpY1,e.x,e.y,n),this.x=i.x,this.y=i.y,this},Xn.prototype.offsetPoint=function(e,t,n,i,r,s,o,a,l){return new ue((1-l)*(1-l)*(1-l)*e+3*(1-l)*(1-l)*l*n+3*(1-l)*l*l*r+l*l*l*o,(1-l)*(1-l)*(1-l)*t+3*(1-l)*(1-l)*l*i+3*(1-l)*l*l*s+l*l*l*a)},bs.prototype.trace=function(e,t,n){},bs.prototype.getId=function(e){var t="_"+e.nodeid;return e.nodeid+=1,t},bs.prototype.ConnectorEdge=function(e,t,n,i,r,s,o,a,l,u,c){this.polyline=n,this.from=e,this.to=t,this.weight=o||0,this.fromOffset=a||0,this.hasArrow=c||!1,this.parentsArrowId=i,this.childrenArrowId=r,this.dotId=s,this.hasMiddle=l,this.middleParent=u,this.isOppositeFlow=!1},bs.prototype.ConnectorDestination=function(e){for(var t in this.id=null,this.x=null,this.y=null,this.bundleid=null,this.hasElbow=!1,this.elbowPoint1=null,this.elbowPoint2=null,this.visibility=null,this.isSquared=!0,e)e.hasOwnProperty(t)&&(this[t]=e[t])},bs.prototype.traceFork=function(e,t,n,i,r,s,o,a,l){var u,c,h,d,p,m,g,_,b,y,v,w,S,f=[];if(s){for(f=[],u=0,h=r.length;u<h&&(d=r[u]).x<i.x&&!d.isSquared;u+=1)f.push(d);for((h=f.length)>0&&(p=(m=f[h-1]).x==i.x?i:new this.ConnectorDestination({id:m.bundleid,x:m.x,y:i.y}),this.traceAngularSegments(e,t,n,p,f,!1)),f=[],c=r.length-1;c>=u&&(d=r[c]).x>i.x&&!d.isSquared;c-=1)f.push(d);for((h=f.length)>0&&(p=(m=f[h-1]).x==i.x?i:new this.ConnectorDestination({id:m.bundleid,x:m.x,y:i.y}),this.traceAngularSegments(e,t,n,p,f,!1)),g=u;g<=c;g+=1){switch(d=r[g],(b=n.bevelSize)<2&&(b=0),n.elbowType){case Bs.Bevel:case Bs.Round:b>0&&Math.abs(i.x-d.x)>b&&Math.abs(i.y-d.y)>b&&(d.hasElbow=!0,d.elbowPoint1=new ue(d.x,i.y+(i.y>d.y?-b:b)),d.elbowPoint2=new ue(d.x+(i.x>d.x?b:-b),i.y))}_=new Kn,d.hasElbow?(t.transform.transform3Points(d.elbowPoint2.x,d.elbowPoint2.y,d.elbowPoint1.x,d.elbowPoint2.y,d.elbowPoint1.x,d.elbowPoint1.y,!0,this,function(M,D,I,E,P,O){switch(n.elbowType){case Bs.Bevel:_.addSegment(new rt(M,D)),_.addSegment(new Ve(P,O));break;case Bs.Round:_.addSegment(new rt(M,D)),_.addSegment(new Xn(M,D,I,E,P,O))}}),t.transform.transformPoints(d.elbowPoint1.x,d.elbowPoint1.y,d.x,d.y,!0,this,function(M,D,I,E){_.addSegment(new Ve(I,E))})):t.transform.transformPoints(d.x,i.y,d.x,d.y,!0,this,function(M,D,I,E){_.addSegment(new rt(M,D)),_.addSegment(new Ve(I,E))});var T=d.x==i.x?i.id:d.bundleid,C=d.visibility!==ie.Invisible;e.graph.addEdge(T,d.id,new this.ConnectorEdge(T,d.id,_,o?d.id:null,o?null:d.id,null,C?this.NORMAL_ITEM_WEIGHT:this.LINE_ITEM_WEIGHT,a,null,null,C))}for(u=Math.max(u-1,0),c=Math.min(c+1,r.length-1),y=i,v=i.id,g=u;g<=c;g+=1)S=(w=r[g]).bundleid,w.x>y.x&&(_=new Kn,t.transform.transformPoints(y.x,i.y,null!=w.elbowPoint2?w.elbowPoint2.x:w.x,i.y,!0,this,function(M,D,I,E){_.addSegment(new rt(M,D)),_.addSegment(new Ve(I,E))}),e.graph.addEdge(v,S,new this.ConnectorEdge(v,S,_,null,null,v,Math.abs(w.x-y.x)/1e4,a,l,o?S:v)),y=w.elbowPoint2||w,v=S);for(y=i,v=i.id,g=c;g>=u;g-=1)S=(w=r[g]).bundleid,w.x<y.x&&(_=new Kn,t.transform.transformPoints(y.x,i.y,null!=w.elbowPoint2?w.elbowPoint2.x:w.x,i.y,!0,this,function(M,D,I,E){_.addSegment(new rt(M,D)),_.addSegment(new Ve(I,E))}),e.graph.addEdge(v,S,new this.ConnectorEdge(v,S,_,null,null,v,Math.abs(w.x-y.x)/1e4,a,l,o?S:v)),y=w.elbowPoint2||w,v=S)}else this.traceAngularSegments(e,t,n,i,r,!0)},bs.prototype.traceAngularSegments=function(e,t,n,i,r,s){var o,a,l,u,c;for(o=0,a=r.length;o<a;o+=1){switch(u=r[o],c=new Kn,t.transform.transformPoint(i.x,i.y,!0,this,function(d,f){c.addSegment(new rt(d,f))}),n.connectorType){case Fo.Angular:t.transform.transformPoint(u.x,u.y,!0,this,function(d,f){c.addSegment(new Ve(d,f))});break;case Fo.Curved:l=new se(i,u),s?i.x>l.x?t.transform.transform3Points(l.right(),l.verticalCenter(),l.x,l.verticalCenter(),l.x,l.bottom(),!0,this,function(d,f,p,m,g,_){c.addSegment(new Xn(d,f,p,m,g,_))}):t.transform.transform3Points(l.x,l.verticalCenter(),l.right(),l.verticalCenter(),l.right(),l.bottom(),!0,this,function(d,f,p,m,g,_){c.addSegment(new Xn(d,f,p,m,g,_))}):i.x>l.x?t.transform.transformPoints(l.x,l.y,l.x,l.bottom(),!0,this,function(d,f,p,m){c.addSegment(new gn(d,f,p,m))}):t.transform.transformPoints(l.right(),l.y,l.right(),l.bottom(),!0,this,function(d,f,p,m){c.addSegment(new gn(d,f,p,m))})}var h=u.visibility!==ie.Invisible;e.graph.addEdge(i.id,u.id,new this.ConnectorEdge(i.id,u.id,c,null,h?u.id:null,h?this.NORMAL_ITEM_WEIGHT:this.LINE_ITEM_WEIGHT,null,null,null,!0))}},(Cd.prototype=new bs).trace=function(e,t,n){var i,r,s,o,a,l,u,c,h,d,f,p,m,_=n.connectorType===Fo.Squared;if(i=[],this.fromItems.length>0){for(l=0,u=(s=this.fromItems).length;l<u;l+=1)a=t.treeItemsPositions[o=s[l]],m=new this.ConnectorDestination({id:t.nestedLayoutBottomConnectorIds.hasOwnProperty(o)?t.nestedLayoutBottomConnectorIds[o]:o,bundleid:this.getId(e),x:a.actualPosition.horizontalCenter(),y:a.actualPosition.bottom(),isSquared:!0,visibility:a.actualVisibility}),i.push(m);i.sort(function(v,w){return v.x-w.x}),f=a.bottomConnectorShift-a.bottomConnectorInterval*(this.fromStackSize-this.fromOffset+1)}if(r=[],this.toItems.length>0){for(h=!1,s=this.toItems,l=0;l<s.length;l+=1){switch(c=!0,(a=t.treeItemsPositions[o=s[l]]).actualVisibility){case ie.Dot:case ie.Line:c=_}m=new this.ConnectorDestination({id:o,bundleid:this.getId(e),x:a.actualPosition.horizontalCenter()+0,y:a.actualPosition.top(),isSquared:c,visibility:a.actualVisibility}),r.push(m),h=h||m.isSquared}r.sort(function(v,w){return v.x-w.x}),p=a.topConnectorShift}d=1==r.length?r[0].x:1==i.length?i[0].x:r.length>0&&i.length>0?(i[0].x+i[i.length-1].x+r[0].x+r[r.length-1].x)/4:r.length>0?(r[0].x+r[r.length-1].x)/2:(i[0].x+i[i.length-1].x)/2;var b=null;i.length>0&&(b=new this.ConnectorDestination({id:0==r.length&&this.dotId?this.dotId:this.getId(e),x:d,y:f}),this.traceFork(e,t,n,b,i,!0,!0,this.fromOffset,n.showExtraArrows));var y=null;r.length>0&&(y=new this.ConnectorDestination({id:0==i.length&&this.dotId?this.dotId:this.getId(e),x:d,y:p}),null!=b&&y.y==b.y&&(y=b),this.traceFork(e,t,n,y,r,h,!1,0,n.showExtraArrows)),null!=b&&null!=y&&b.id!=y.id&&t.transform.transformPoints(b.x,b.y,y.x,y.y,!0,this,function(v,w,S,T){var C=new Kn;C.addSegment(new rt(v,w)),C.addSegment(new Ve(S,T)),e.graph.addEdge(b.id,y.id,new this.ConnectorEdge(b.id,y.id,C,null,null,null,0))})},(Eu.prototype=new bs).trace=function(e,t,n){var i=this.fromItem,r=this.toItem,s=t.treeItemsPositions[i],o=t.treeItemsPositions[r],a=new Kn;s.actualPosition.x<o.actualPosition.x?t.transform.transformPoints(s.actualPosition.right(),s.horizontalConnectorsShift,o.actualPosition.x,o.horizontalConnectorsShift,!0,this,function(c,h,d,f){a.addSegment(new rt(c,h)),a.addSegment(new Ve(d,f))}):t.transform.transformPoints(s.actualPosition.x,s.horizontalConnectorsShift,o.actualPosition.right(),s.horizontalConnectorsShift,!0,this,function(c,h,d,f){a.addSegment(new rt(c,h)),a.addSegment(new Ve(d,f))});var l=o.actualVisibility!==ie.Invisible,u=s.actualVisibility!==ie.Invisible;e.graph.addEdge(i,r,new this.ConnectorEdge(i,r,a,l?r:null,u?i:null,null,l||u?this.NORMAL_ITEM_WEIGHT:this.LINE_ITEM_WEIGHT,null,null,null,!0))},Au.prototype.setShift=function(e,t,n,i,r){return this.shift=e,this.levelSpace=t,this.topConnectorShift=-t/2-n,this.connectorShift=this.depth+i+(r+1)*(t/2),this.nextLevelShift=n+this.depth+i+t+r*t/2,this.nextLevelShift},Au.prototype.getNodesBottom=function(){return this.shift+this.depth},Au.prototype.toString=function(){return this.currentvisibility},Qn.prototype.loop=function(e,t){if(null!=t){var n=0;this.treeLevels.loopLevels(this,function(i){this.treeLevels.loopLevelItems(this,i,function(r,s){t.call(e,s,n)}),n+=1})}},Qn.prototype.measure=function(e,t,n,i,r,s){this.treeLevelsPositions=[],this.treeLevels.loopLevels(this,function(a,l){var u=new Au;this.treeLevelsPositions.push(u)}),this.setOffsets(this.treeLevels,r,this.childLayoutsPositions,this.treeLevelsPositions,this.visualTree,this.rightMargins,this.leftMargins,s.intervals,s.arrowsDirection,s.linesWidth,s.cousinsIntervalMultiplier,s.horizontalAlignment,s.padding),this.setLevelsDepth(this.treeLevels,r,this.treeLevelsPositions,s.verticalAlignment),this.shiftLevels(this.treeLevelsPositions,s.padding.top,s.shifts,s.arrowsDirection,s.linesWidth,this.getConnectorsStacksSizes);var o=new il;return o.actualVisibility=ie.Normal,o.actualSize=this.getLayoutSize(this.treeLevels,r,this.childLayoutsPositions,this.treeLevelsPositions,s.padding),o},Qn.prototype.getLayoutSize=function(e,t,n,i,r){return new se(0,0,Math.round(this.getLayoutWidth(e,t,n,r)),Math.round(this.getLayoutHeight(i,r)))},Qn.prototype.getLayoutWidth=function(e,t,n,i){var r=0;return e.loopLevels(this,function(s,o){var a=e.getLevelLength(s);if(a>0){var l=e.getItemAtPosition(s,a-1);r=Math.max(r,n[l].offset+t[l].actualSize.width+i.right)}}),r},Qn.prototype.getLayoutHeight=function(e,t){return e[e.length-1].getNodesBottom()+t.bottom},Qn.prototype.setLevelsDepth=function(e,t,n,i){var r,s;e.loopLevels(this,function(o,a){var l=n[o];switch(l.shift=0,l.depth=0,l.actualVisibility=ie.Invisible,r=null,s=null,e.loopLevelItems(this,o,function(u,c,h){var d=t[u];switch(l.depth=Math.max(l.depth,d.actualSize.height),d.actualVisibility){case ie.Dot:case ie.Line:case ie.Invisible:s=s?Math.min(s,d.actualSize.height):d.actualSize.height;break;default:r=r?Math.min(r,d.actualSize.height):d.actualSize.height}l.actualVisibility=Math.min(l.actualVisibility,d.actualVisibility)}),null==r&&(r=l.depth),null!=s&&s>r&&(r=s),i){case Le.Top:l.horizontalConnectorsDepth=r/2;break;case Le.Middle:l.horizontalConnectorsDepth=l.depth/2;break;case Le.Bottom:l.horizontalConnectorsDepth=l.depth-r/2}})},Qn.prototype.shiftLevels=function(e,t,n,i,r,s){var o,a,l,u=0,c=0,h=8*r;switch(i){case yt.Parents:u=h,c=0;break;case yt.Children:u=0,c=h}var d=!0;for(o=0,a=e.length;o<a;o+=1)if(l=e[o],d&&l.actualVisibility==ie.Invisible)l.setShift(0,0,0,0,0);else{var f=s(o).parentsStackSize;t+=l.setShift(t,n[l.actualVisibility],c,u,f),d=!1}},Qn.prototype.setOffsets=function(e,t,n,i,r,s,o,a,l,u,c,h,d){var f,p;for(f=0,p=i.length;f<p;f+=1)i[f].currentOffset=0;r.loopPostOrder(this,function(m,g,_,b){var C,M,D,I,E,P,O,V,k,x,z,W,re,N,B,y=t[m],v=y.actualVisibility,w=e.getLevelIndex(m),S=i[w],T=a[v===ie.Auto?S.currentvisibility:v]/2,X=8*u;n[m]=new H3(0,S.currentOffset>0?T+T*g.relationDegree*c:d.left,T);var Q=n[m];if(l!=yt.None&&(8&g.connectorPlacement&&(Q.leftPadding+=X),2&g.connectorPlacement&&(Q.rightPadding+=X)),Q.offset=S.currentOffset+Q.leftPadding,S.currentOffset=Q.offset+y.actualSize.width+Q.rightPadding,r.hasChildren(m))if((D=this.getChildrenOffset(g,t,n,r,h))>0)this.offsetItemChildren(g,D,e,r,t,n,i);else if(D<0&&(this.offsetItem(g,D=-D,e,t,n,i),I=null,E={},O=null,null!==(V=r.parent(g.id))&&(r.loopChildrenReversed(this,V.id,function(G,ae,de){if(ae===g)I=[];else if(null!==I){if(P=this.getGapBetweenSiblings(ae,g,s,o,t,n),E[ae.id]=P,!(P>0))return O=ae,!0;I.splice(0,0,ae)}}),I.length>0))){if(k=null,null!==O)for((x=(x=[O]).concat(I)).push(g),k=[[O]],C=1,M=x.length;C<M;C+=1)z=x[C],x[C-1].gravity==Ie.Right||z.gravity==Ie.Left?k[k.length-1].push(z):k.push([z]);else(k=[I.slice(0)])[k.length-1].push(g);if(k.length>0)for(C=(I=k[k.length-1]).length-2;C>=0;C-=1)P=E[(B=I[C]).id],D=Math.min(P,D),this.offsetItem(B,D,e,t,n,i),this.offsetItemChildren(B,D,e,r,t,n,i);for(re=D/(k.length-1),W=k.length-2;W>0;W-=1)for(C=(N=k[W]).length-1;C>=0;C-=1)P=E[(B=N[C]).id],D=Math.min(W*re,Math.min(P,D)),this.offsetItem(B,D,e,t,n,i),this.offsetItemChildren(B,D,e,r,t,n,i)}})},Qn.prototype.getGapBetweenSiblings=function(e,t,n,i,r,s){for(var o=null,a=this.getRightMargins(e,n,r,s),l=this.getLeftMargins(t,i,s),u=Math.min(a.length,l.length),c=0;c<u;c+=1){var h=l[c]-a[c];if(o=null!==o?Math.min(o,h):h,h<=0)break}return Math.floor(o)},Qn.prototype.getRightMargins=function(e,t,n,i){var r=[],s=t[e.id];void 0===s&&(s=[]),(s=s.slice()).splice(0,0,e.id);for(var o=0,a=s.length;o<a;o+=1){var l=s[o],c=i[l];r[o]=c.offset+n[l].actualSize.width+c.rightPadding}return r},Qn.prototype.getLeftMargins=function(e,t,n){var i=[],r=t[e.id];void 0===r&&(r=[]),(r=r.slice()).splice(0,0,e.id);for(var s=0,o=r.length;s<o;s+=1){var a=n[r[s]];i[s]=a.offset-a.leftPadding}return i},Qn.prototype.getChildrenOffset=function(e,t,n,i,r){var a=n[e.id].offset+t[e.id].actualSize.width/2,l=null;if(null===e.visualAggregatorId){var u=null;i.loopChildren(this,e.id,function(_,b,y){if(1&(u=b).connectorPlacement)return!0});var c=t[u.id],h=n[u.id],d=null;i.loopChildrenReversed(this,e.id,function(_,b,y){if(1&(d=b).connectorPlacement)return!0});var f=t[d.id],p=n[d.id];switch(r){case Ie.Left:l=h.offset+c.actualSize.width/2;break;case Ie.Right:l=p.offset+f.actualSize.width/2;break;case Ie.Center:l=(h.offset+p.offset+f.actualSize.width)/2}}else l=n[e.visualAggregatorId].offset+t[e.visualAggregatorId].actualSize.width/2;return a-l},Qn.prototype.offsetItem=function(e,t,n,i,r,s){var o=i[e.id],a=r[e.id];a.offset+=t;var l=s[n.getLevelIndex(e.id)];l.currentOffset=Math.max(l.currentOffset,a.offset+o.actualSize.width+a.rightPadding)},Qn.prototype.offsetItemChildren=function(e,t,n,i,r,s,o){i.loopLevels(this,e.id,function(a,l,u){var c=r[a],h=s[a];h.offset+=t;var d=o[n.getLevelIndex(a)];return d.currentOffset=Math.max(d.currentOffset,h.offset+c.actualSize.width),!0})},Qn.prototype.arrange=function(e,t,n,i,r,s){var o=null;null!=s&&this.treeLevels.loopLevels(this,function(a,l){var u=this.treeLevelsPositions[a];this.treeLevels.loopLevelItems(this,a,function(c,h,d){var f=i[c],m=this.getItemPosition(f.actualVisibility,this.childLayoutsPositions[c].offset,f.actualSize,o,u,r.verticalAlignment);s.call(e,c,{...f,...m})}),o=u})},Qn.prototype.getItemPosition=function(e,t,n,i,r,s){var o=0;switch(e){case ie.Normal:switch(s){case Le.Top:o=0;break;case Le.Middle:o=(r.depth-n.height)/2;break;case Le.Bottom:o=r.depth-n.height}break;case ie.Dot:case ie.Line:case ie.Invisible:o=r.horizontalConnectorsDepth-n.height/2}return{actualPosition:new se(t,r.shift+o,n.width,n.height),horizontalConnectorsShift:r.shift+r.horizontalConnectorsDepth,topConnectorShift:null!=i?i.shift+i.connectorShift:null,topConnectorInterval:null!=i?i.levelSpace/2:null,bottomConnectorShift:r.shift+r.connectorShift,bottomConnectorInterval:r.levelSpace/2}},Sd.prototype.measure=function(e,t,n,i,r,s){var o,a,l,{orientationType:u,checkBoxPanelSize:c,buttonsPanelSize:h,groupTitlePanelSize:d,groupTitlePlacementType:f}=s,p=n||t?ie.Normal:this.visibility,m=p===ie.Auto?e:p;switch(m){case ie.Normal:l=new se(0,0,(a=new Fe((o=i.template.templateConfig).itemSize)).width,a.height),t&&(a.height+=o.cursorPadding.top+o.cursorPadding.bottom,a.width+=o.cursorPadding.left+o.cursorPadding.right,l.x=o.cursorPadding.left,l.y=o.cursorPadding.top),i.hasSelectorCheckbox&&(a.height+=c),i.hasButtons&&(a.width+=h,f===vt.Right)&&(l.x+=h),i.hasGroupTitle&&(a.width+=d,f===vt.Right||(l.x+=d));break;case ie.Dot:a=new Fe((o=i.template.templateConfig).minimizedItemSize);break;case ie.Line:case ie.Invisible:a=new Fe}switch(u){case qe.Left:case qe.Right:a.invert()}var g=new il;return g.actualVisibility=m,g.actualSize=a,g.contentPosition=l,g},Sd.prototype.arrange=function(e,t,n,i,r,s){},ws.prototype.setOrientation=function(e){switch(e){case qe.Top:this.invertArea=!1,this.invertHorizontally=!1,this.invertVertically=!1;break;case qe.Bottom:this.invertArea=!1,this.invertHorizontally=!1,this.invertVertically=!0;break;case qe.Left:this.invertArea=!0,this.invertHorizontally=!1,this.invertVertically=!1;break;case qe.Right:this.invertArea=!0,this.invertHorizontally=!0,this.invertVertically=!1}},ws.prototype.getOrientation=function(e){var t=e;if(this.invertHorizontally)switch(e){case qe.Left:t=qe.Right;break;case qe.Right:t=qe.Left}if(this.invertVertically)switch(e){case qe.Top:t=qe.Bottom;break;case qe.Bottom:t=qe.Top}if(this.invertArea)switch(t){case qe.Top:t=qe.Left;break;case qe.Bottom:t=qe.Right;break;case qe.Left:t=qe.Top;break;case qe.Right:t=qe.Bottom}return t},ws.prototype.transformPoint=function(e,t,n,i,r){var s;n&&this.invertArea&&(s=e,e=t,t=s),this.invertHorizontally&&(e=this.size.width-e),this.invertVertically&&(t=this.size.height-t),n||this.invertArea&&(s=e,e=t,t=s),r.call(i,e,t)},ws.prototype.transformPoints=function(e,t,n,i,r,s,o){var a;r&&this.invertArea&&(a=e,e=t,t=a,a=n,n=i,i=a),this.invertHorizontally&&(e=this.size.width-e,n=this.size.width-n),this.invertVertically&&(t=this.size.height-t,i=this.size.height-i),r||this.invertArea&&(a=e,e=t,t=a,a=n,n=i,i=a),o.call(s,e,t,n,i)},ws.prototype.transform3Points=function(e,t,n,i,r,s,o,a,l){var u;o&&this.invertArea&&(u=e,e=t,t=u,u=n,n=i,i=u,u=r,r=s,s=u),this.invertHorizontally&&(e=this.size.width-e,n=this.size.width-n,r=this.size.width-r),this.invertVertically&&(t=this.size.height-t,i=this.size.height-i,s=this.size.height-s),o||this.invertArea&&(u=e,e=t,t=u,u=n,n=i,i=u,u=r,r=s,s=u),l.call(a,e,t,n,i,r,s)},ws.prototype.transformRect=function(e,t,n,i,r,s,o){var a;r&&this.invertArea&&(a=e,e=t,t=a,a=n,n=i,i=a),this.invertHorizontally&&(e=this.size.width-e-n),this.invertVertically&&(t=this.size.height-t-i),r||this.invertArea&&(a=e,e=t,t=a,a=n,n=i,i=a),o.call(s,e,t,n,i)},ws.prototype.transformThickness=function(e,t){var n,{left:i,right:r,top:s,bottom:o}=e;return t&&this.invertArea&&(n=i,i=s,s=n,n=r,r=o,o=n),this.invertHorizontally&&(n=i,i=r,r=n),this.invertVertically&&(n=s,s=o,o=n),t||this.invertArea&&(n=i,i=s,s=n,n=r,r=o,o=n),new Pe(i,s,r,o)},pv.prototype.selectPalette=function(e){this.cursor=e%this.paletteLength},pv.prototype.getPalette=function(e){var t=null;switch(e){case 1:t=this.regularIndex;break;case 2:t=this.highlightIndex;break;case 0:t=this.cursor}return this.palette[t]},Us.prototype._getLabelPosition=function(e,t,n,i,r,s,o,a){var l=null;switch(a){case be.Top:l=new se(e+n/2-r/2,t-o-s,r,s);break;case be.TopRight:l=new se(e+n-r,t-o-s,r,s);break;case be.TopLeft:l=new se(e,t-o-s,r,s);break;case be.Right:l=new se(e+n+o,t+i/2-s/2,r,s);break;case be.RightTop:l=new se(e+n+o,t,r,s);break;case be.RightBottom:l=new se(e+n+o,t+i-s,r,s);break;case be.BottomRight:l=new se(e+n-r,t+i+o,r,s);break;case be.BottomLeft:l=new se(e,t+i+o,r,s);break;case be.Left:l=new se(e-r-o,t+i/2-s/2,r,s);break;case be.LeftTop:l=new se(e-r-o,t,r,s);break;case be.LeftBottom:l=new se(e-r-o,t+i-s,r,s);break;default:l=new se(e+n/2-r/2,t+i+o,r,s)}return l},Us.prototype._betweenPoint=function(e,t){return new ue((e.x+t.x)/2,(e.y+t.y)/2)},Us.prototype._offsetPoint=function(e,t,n){var r=e.distanceTo(t);return 0===r||0===n?new ue(e):new ue(e.x+(t.x-e.x)/r*n,e.y+(t.y-e.y)/r*n)},(gv.prototype=new Us).draw=function(e){var n=new Kn(new zn({lineColor:this.borderColor,lineWidth:this.lineWidth,fillColor:this.fillColor,lineType:this.lineType,opacity:this.opacity}));(function Y3(e,t,n){var i,r,s,o,a;t.sort(function(Q,G){return Q.x==G.x?Q.y-G.y:Q.x-G.x});var l=[],u={};for(i=0,r=t.length;i<r;i+=1)for(var c=t[i],h=[c.x,c.right()],d=0;d<h.length;d+=1){var f=h[d];null==(a=u[f])&&(u[f]=a={x:f,add:[],remove:[]},l.push(a)),f==c.x?a.add.push(i):a.remove.push(i)}function p(Q,G){this.start=Q,this.startHead=null,this.end=G,this.endHead=null,this.overlap=function(ae){return!(this.end<ae.start||this.start>ae.end)}}function m(Q,G){this.x=Q,this.ranges=G}l.sort(function(Q,G){return Q.x-G.x});var g={},_=[];for(_.push(new m(null,[])),i=0,r=l.length;i<r;i+=1){for(s=0,o=(a=l[i]).add.length;s<o;s+=1)g[a.add[s]]=!0;for(s=0,o=a.remove.length;s<o;s+=1)delete g[a.remove[s]];var b=[];for(var y in g)g.hasOwnProperty(y)&&b.push(t[y]);b.sort(function(Q,G){return Q.y-G.y});var v=[],w=null,S=null;for(s=0,o=b.length;s<o;s+=1){var T=b[s];null==w?(w=T.y,S=T.bottom()):S<T.y?(v.push(new p(w,S)),w=T.y,S=T.bottom()):S=Math.max(S,T.bottom())}null!=w&&v.push(new p(w,S)),_.push(new m(a.x,v))}var C=[],M={},D=1;function I(Q,G){this.isHead=Q,this.list=G,M.hasOwnProperty(G)||(M[G]=[]),M[G].push(this),this.add=function(ae){ae.from.equalTo(ae.to)||(this.isHead?(C[this.list].add(D,ae),D+=1):(C[this.list].unshift(D,ae),D+=1))},this.getTail=function(){return new I(!this.isHead,this.list)},this.attach=function(ae){if(this.list!=ae.list){C[this.list].attach(C[ae.list]);var de=M[ae.list];if(delete M[ae.list],null!=de)for(var je=0,Ot=de.length;je<Ot;je+=1){var Zt=de[je];Zt!=ae&&(Zt.list=this.list,M[this.list].push(Zt))}}}}function E(Q){return C.push(new sv),new I(Q,C.length-1)}for(i=1,r=_.length;i<r;i+=1)for(var P=_[i-1],O=_[i],V=0,k=0;V<P.ranges.length||k<O.ranges.length;){var x=V<P.ranges.length?P.ranges[V]:null,F=k<O.ranges.length?O.ranges[k]:null;if(null!=F)if(null!=x)if(F.overlap(x)){for(l=[new ue(P.x,x.start),new ue(O.x,x.start),new ue(O.x,F.start)],z=1;z<l.length;z+=1)x.startHead.add(new Bt(l[z],l[z-1]));F.startHead=x.startHead;for(var W=!0;W;)if(W=!1,x.end>F.end){var re=k+1<O.ranges.length?O.ranges[k+1]:null;if(null!=re&&re.overlap(x)){var N=new ue(O.x,re.start),B=new ue(O.x,F.end);F.endHead=E(!0),F.endHead.add(new Bt(N,B)),re.startHead=F.endHead.getTail(),k+=1,F=re,W=!0}}else{var U=V+1<P.ranges.length?P.ranges[V+1]:null;if(null!=U&&U.overlap(F)){for(l=[new ue(P.x,x.end),new ue(O.x,x.end),new ue(O.x,U.start),new ue(P.x,U.start)],z=1;z<l.length;z+=1)x.endHead.add(new Bt(l[z-1],l[z]));x.endHead.attach(U.startHead),V+=1,x=U,W=!0}}for(l=[new ue(P.x,x.end),new ue(O.x,x.end),new ue(O.x,F.end)],z=1;z<l.length;z+=1)x.endHead.add(new Bt(l[z-1],l[z]));F.endHead=x.endHead,V+=1,k+=1}else{if(x.start<F.start){for(l=[new ue(P.x,x.end),new ue(O.x,x.end),new ue(O.x,x.start),new ue(P.x,x.start)],z=1;z<l.length;z+=1)x.endHead.add(new Bt(l[z-1],l[z]));x.endHead.attach(x.startHead),V+=1;continue}F.endHead=E(!0),F.endHead.add(new Bt(new ue(O.x,F.start),new ue(O.x,F.end))),F.startHead=F.endHead.getTail(),k+=1}else F.endHead=E(!0),F.endHead.add(new Bt(new ue(O.x,F.start),new ue(O.x,F.end))),F.startHead=F.endHead.getTail(),k+=1;else{l=[new ue(P.x,x.end),new ue(O.x,x.end),new ue(O.x,x.start),new ue(P.x,x.start)];for(var z=1;z<l.length;z+=1)x.endHead.add(new Bt(l[z-1],l[z]));x.endHead.attach(x.startHead),V+=1}}if(null!=n)for(i=0;i<C.length;i+=1)M.hasOwnProperty(i)&&(l=[],C[i].iterate(function(Q,G){0==l.length&&l.push(Q.from),l.push(Q.to)}),n.call(e,l))})(this,e,function(i){for(var r=0,s=i.length;r<s;r+=1){var o=i[r];n.addSegment(0==r?new rt(o.x,o.y):new Ve(o.x,o.y))}}),n.transform(this.transform,!0),this.graphics.polyline(n)},(xu.prototype=new Us).draw=function(e,t,n,i,r,s,o,a,l,u,c,h,d,f,p){var m,g,_,b,y,v=r/2,w=null,S=be.Auto,T=be.Auto,C=this;if(b=new Bt(n.centerPoint(),i.centerPoint()),n.loopEdges(function(D,I){return m=D.getIntersectionPoint(b,!0,1),S=I,null!=m}),i.loopEdges(function(D,I){return g=D.getIntersectionPoint(b,!0,1),T=I,null!=g}),null!=m&&null!=g){var M=new Bt(m,g);d.getOffset(M,function(D,I,E){switch(M.offset((D*s-(I-1)*s/2)*E),m=M.from,g=M.to,l){case 1:(y=new Bt(g.clone(),m.clone())).offset(v),C._drawLine(e,t,y.from,y.to,!1),(y=new Bt(m.clone(),g.clone())).offset(v),C._drawLine(e,t,y.from,y.to,!1);break;case 0:C._drawLine(e,t,m,g,!1);break;case 2:C._drawLine(e,t,m,g,!0)}if(h){switch(c){case Ro.From:w=C._getLabelPositionBySnapPoint(m.x,m.y,o.width,o.height,u,S);break;case Ro.Between:_=C._betweenPoint(m,g),w=C._getLabelPositionBySnapPoint(_.x,_.y,o.width,o.height,u,be.Right);break;case Ro.To:w=C._getLabelPositionBySnapPoint(g.x,g.y,o.width,o.height,u,T)}f?.call(this,w,p)}})}},xu.prototype._drawLine=function(e,t,n,i,r){var s;e.addInverted(function(o){(s=o.getPolyline(t)).addSegment(new rt(n)),s.addSegment(new Ve(i)),s.addArrow(t.lineWidth,function(a){a.mergeTo(e.getPolyline(a.paletteItem))})},!1),r&&(s=e.getPolyline(t)).addArrow(t.lineWidth,function(o){o.mergeTo(e.getPolyline(o.paletteItem))})},xu.prototype._getLabelPositionBySnapPoint=function(e,t,n,i,r,s){var o=null;switch(s){case be.Auto:case be.Top:o=new se(e-n/2,t-r-i,n,i);break;case be.Right:o=new se(e+r,t-i/2,n,i);break;case be.Bottom:o=new se(e-n/2,t+r,n,i);break;case be.Left:o=new se(e-n-r,t-i/2,n,i)}return o},(vv.prototype=new Us).draw=function(e,t,n,i,r,s,o,a,l,u,c,h,d,f,p){var m,g,_,b,y,v,w,S,T,C,M,P,O,D=be.Auto,I=be.Auto,E=null;switch(P=e.getPolyline(t),S=[],l){case 1:S=[-r/2,r/2],O=!1;break;case 0:S=[0],O=!1;break;case 2:S=[0],O=!0}if(m=Math.max(h?o.width:0,5*r),n.right()+m<i.left()||n.left()>i.right()+m)if(n.left()>i.right()?(_=new ue(n.left(),n.verticalCenter()),b=new ue(i.right(),i.verticalCenter())):(_=new ue(n.right(),n.verticalCenter()),b=new ue(i.left(),i.verticalCenter())),h&&(n.left()>i.right()?(D=be.Left,I=be.Right):(D=be.Right,I=be.Left)),g=new se(_,b),M=_.y<=b.y,C=_.x<b.x,g.height<g.width){for(g.height<2*r&&g.offset(0,M?2*r:0,0,M?0:2*r),v=0,w=S.length;v<w;v+=1)T=S[v],e.addInverted(function(V){var k=V.getPolyline(t);k.addSegment(new rt(_.x,_.y+T)),k.addSegment(new gn(g.horizontalCenter(),(M?g.top():g.bottom())+T,b.x,b.y+T)),O&&k.addArrow(t.lineWidth,function(x){x.mergeTo(e.getPolyline(x.paletteItem))})},v||0==l),P.addArrow(t.lineWidth,function(V){V.mergeTo(e.getPolyline(V.paletteItem))});h&&(E=new se((y=o.width<g.width/5*2?gn.prototype.offsetPoint(_.x,_.y,g.horizontalCenter(),M?g.top():g.bottom(),b.x,b.y,.5):new ue(_.x,M?g.top():g.bottom())).x+(C?r:-o.width-r),M?y.y-o.height-r:y.y+r,o.width,o.height))}else{for(v=0,w=S.length;v<w;v+=1)T=S[v],e.addInverted(function(V){var k=V.getPolyline(t);k.addSegment(new rt(_.x,_.y+T)),k.addSegment(new gn(g.horizontalCenter()+T*(M!=C?1:-1),(M?g.top():g.bottom())+T,g.horizontalCenter()+T*(M!=C?1:-1),g.verticalCenter()+T)),k.addSegment(new gn(g.horizontalCenter()+T*(M!=C?1:-1),(M?g.bottom():g.top())+T,b.x,b.y+T)),O&&k.addArrow(t.lineWidth,function(x){x.mergeTo(e.getPolyline(x.paletteItem))})},v||0==l),P.addArrow(t.lineWidth,function(V){V.mergeTo(e.getPolyline(V.paletteItem))});h&&(E=new se(g.horizontalCenter()+(M!=C?r:-(r+o.width)),g.verticalCenter()-o.height/2,o.width,o.height))}else if(n.verticalCenter()<i.top()||n.verticalCenter()>i.bottom()){for(_=new ue((C=n.x<a.width/2)?n.right():n.left(),n.verticalCenter()),b=new ue(C?i.right():i.left(),i.verticalCenter()),(g=new se(_,b)).offset(10*r,0,10*r,0),M=_.y<=b.y,v=0,w=S.length;v<w;v+=1)T=S[v],e.addInverted(function(V){var k=V.getPolyline(t);k.addSegment(new rt(_.x,_.y+T)),k.addSegment(new gn(C?g.right()+T*(M?-1:1):g.left()-T*(M?-1:1),g.verticalCenter(),C?i.right():i.left(),i.verticalCenter()-T)),O&&k.addArrow(t.lineWidth,function(x){x.mergeTo(e.getPolyline(x.paletteItem))})},v||0==l),P.addArrow(t.lineWidth,function(V){V.mergeTo(e.getPolyline(V.paletteItem))});h&&(I=D=C?be.Right:be.Left,E=new se((y=gn.prototype.offsetPoint(_.x,_.y,C?g.right():g.left(),g.verticalCenter(),b.x,b.y,.5)).x+(C?r/2:-r/2-o.width),y.y-o.height/2,o.width,o.height))}else{for(_=new ue(n.horizontalCenter(),n.top()),b=new ue(i.horizontalCenter(),i.top()),(g=new se(_,b)).offset(0,7*r,0,0),C=_.x<b.x,v=0,w=S.length;v<w;v+=1)T=S[v],e.addInverted(function(V){var k=V.getPolyline(t);k.addSegment(new rt(_.x+T,_.y)),k.addSegment(new gn(g.horizontalCenter(),g.top()-T*(C?-1:1),i.horizontalCenter()-T,i.top())),O&&k.addArrow(t.lineWidth,function(x){x.mergeTo(e.getPolyline(x.paletteItem))})},v||0==l),P.addArrow(t.lineWidth,function(V){V.mergeTo(e.getPolyline(V.paletteItem))});h&&(D=be.Top,I=be.Top,E=new se((y=gn.prototype.offsetPoint(_.x,_.y,g.horizontalCenter(),g.top(),b.x,b.y,.5)).x-o.width/2,y.y-(u+o.height),o.width,o.height))}if(h)switch(c){case Ro.From:E=this._getLabelPosition(n.x,n.y,n.width,n.height,E.width,E.height,u,D);break;case Ro.To:E=this._getLabelPosition(i.x,i.y,i.width,i.height,E.width,E.height,u,I)}f?.(E,p)},(rl.prototype=new Us).draw=function(e,t){var u,c,h,d,f,p,m,n=new ue((t=new se(t).offset(this.offset)).x,t.y),i=new ue(t.right(),t.y),r=new ue(t.right(),t.bottom()),o=[null,null,null,null,null,null,null,null],a=[n,i,r,new ue(t.left(),t.bottom())],l=this.m_graphics.getPxSize(this.cornerRadius,Math.min(n.distanceTo(i),i.distanceTo(r)));for(d={},null!==this.fillColor&&(d.fillColor=this.fillColor,d.opacity=this.opacity),null!==this.lineColor&&(d.lineColor=this.borderColor),d.lineWidth=this.lineWidth,d.lineType=this.lineType,f=new zn(d),m=(p=new zo).getPolyline(f),null!==e&&null!==(u=this.pointerPlacement===be.Auto?this._getPlacement(e,n,r):this.pointerPlacement)&&(o[u]=e),h=0;h<a.length;h+=1)this._drawSegment(m,a[0],a[1],a[2],this.pointerWidth,l,o[1],o[2]),c=a.shift(),a.push(c),c=o.shift(),o.push(c),c=o.shift(),o.push(c);this.m_graphics.polylinesBuffer(p)},rl.prototype._getPlacement=function(e,t,n){return this.m_map[e.x<t.x?0:e.x>n.x?2:1][e.y<t.y?0:e.y>n.y?2:1]},rl.prototype._drawSegment=function(e,t,n,i,r,s,o,a){var h,d,f,l=this._offsetPoint(t,n,s),u=this._offsetPoint(n,t,s),c=this._offsetPoint(n,i,s);r=this.m_graphics.getPxSize(r,t.distanceTo(n)/2),0===e.length()&&e.addSegment(new rt(l)),null!==o&&(h=this._betweenPoint(t,n),d=this._offsetPoint(h,t,r),f=this._offsetPoint(h,n,r),e.addSegment(new Ve(d)),e.addSegment(new Ve(o)),e.addSegment(new Ve(f))),e.addSegment(new Ve(u)),null!==a?(e.addSegment(new Ve(a)),e.addSegment(new Ve(c))):e.addSegment(new gn(n,c))},Be.Markers={},Be.DrawCircle=function(e,t){var n=Math.min(t.width/2,t.height/2);t=new se(t.horizontalCenter()-n,t.verticalCenter()-n,2*n,2*n),Be.DrawOval(e,t)},Be.DrawRectangle=function(e,t){e.addSegment(new rt(t.x,t.verticalCenter())),e.addSegment(new Ve(t.x,t.y)),e.addSegment(new Ve(t.right(),t.y)),e.addSegment(new Ve(t.right(),t.bottom())),e.addSegment(new Ve(t.x,t.bottom())),e.addSegment(new Ve(t.x,t.verticalCenter()))},Be.DrawOval=function(e,t){var n,i;n=t.width/2*.5522848,i=t.height/2*.5522848,e.addSegment(new rt(t.x,t.verticalCenter())),e.addSegment(new Xn(t.x,t.verticalCenter()-i,t.horizontalCenter()-n,t.y,t.horizontalCenter(),t.y)),e.addSegment(new Xn(t.horizontalCenter()+n,t.y,t.right(),t.verticalCenter()-i,t.right(),t.verticalCenter())),e.addSegment(new Xn(t.right(),t.verticalCenter()+i,t.horizontalCenter()+n,t.bottom(),t.horizontalCenter(),t.bottom())),e.addSegment(new Xn(t.horizontalCenter()-n,t.bottom(),t.x,t.verticalCenter()+i,t.x,t.verticalCenter()))},Be.DrawTriangle=function(e,t){e.addSegment(new rt(t.left(),t.bottom())),e.addSegment(new Ve(t.horizontalCenter(),t.y)),e.addSegment(new Ve(t.right(),t.bottom())),e.addSegment(new Ve(t.left(),t.bottom()))},Be.DrawCrossOut=function(e,t){e.addSegment(new rt(t.horizontalCenter(),t.verticalCenter())),e.addSegment(new Ve(t.x,t.y)),e.addSegment(new rt(t.horizontalCenter(),t.verticalCenter())),e.addSegment(new Ve(t.right(),t.bottom())),e.addSegment(new rt(t.horizontalCenter(),t.verticalCenter())),e.addSegment(new Ve(t.right(),t.y)),e.addSegment(new rt(t.horizontalCenter(),t.verticalCenter())),e.addSegment(new Ve(t.left(),t.bottom()))},Be.DrawRhombus=function(e,t){e.addSegment(new rt(t.horizontalCenter(),t.bottom())),e.addSegment(new Ve(t.left(),t.verticalCenter())),e.addSegment(new Ve(t.horizontalCenter(),t.y)),e.addSegment(new Ve(t.right(),t.verticalCenter())),e.addSegment(new Ve(t.horizontalCenter(),t.bottom()))},Be.DrawWedge=function(e,t){e.addSegment(new rt(t.horizontalCenter(),t.y)),e.addSegment(new Ve(t.right(),t.y)),e.addSegment(new Ve(t.horizontalCenter(),t.bottom())),e.addSegment(new Ve(t.left(),t.y)),e.addSegment(new Ve(t.horizontalCenter(),t.y))},Be.DrawFramedOval=function(e,t){Be.DrawRectangle(e,t),Be.DrawOval(e,t)},Be.DrawFramedTriangle=function(e,t){Be.DrawRectangle(e,t),Be.DrawTriangle(e,t)},Be.DrawFramedWedge=function(e,t){Be.DrawRectangle(e,t),Be.DrawWedge(e,t)},Be.DrawFramedRhombus=function(e,t){Be.DrawRectangle(e,t),Be.DrawRhombus(e,t)},Be.DrawNone=function(e,t){},Be.Markers[en.Circle]=Be.DrawCircle,Be.Markers[en.Rectangle]=Be.DrawRectangle,Be.Markers[en.Oval]=Be.DrawOval,Be.Markers[en.Triangle]=Be.DrawTriangle,Be.Markers[en.CrossOut]=Be.DrawCrossOut,Be.Markers[en.Rhombus]=Be.DrawRhombus,Be.Markers[en.Wedge]=Be.DrawWedge,Be.Markers[en.FramedOval]=Be.DrawFramedOval,Be.Markers[en.FramedTriangle]=Be.DrawFramedTriangle,Be.Markers[en.FramedWedge]=Be.DrawFramedWedge,Be.Markers[en.FramedRhombus]=Be.DrawFramedRhombus,Be.Markers[en.None]=Be.DrawNone,Be.prototype.draw=function(e,t,n,i){var r;r=e.getPolyline(i),Be.Markers[t](r,n)},(yv.prototype=new Us).draw=function(e,t){var n,i,r,s,o;e=new se(e).offset(this.offset),this.transform=new ws,this.transform.size=this.panelSize,this.transform.setOrientation(this.orientationType),this.hasLabel&&(n=this._getLabelPosition(e.x,e.y,e.width,e.height,this.labelSize.width,this.labelSize.height,this.labelOffset,this.labelPlacement)),this.shapeType===en.Rectangle?((i=new rl(this.m_graphics)).cornerRadius=this.cornerRadius,i.opacity=this.opacity,i.lineWidth=this.lineWidth,i.lineType=this.lineType,i.borderColor=this.borderColor,i.fillColor=this.fillColor,i.draw(null,e)):(r=new zn({lineColor:this.borderColor,lineWidth:this.lineWidth,lineType:this.lineType,fillColor:this.fillColor,opacity:this.opacity}),this.transform.transformRect(e.x,e.y,e.width,e.height,!1,this,function(a,l,u,c){e=new se(a,l,u,c)}),o=new Be,s=new zo,o.draw(s,this.shapeType,e,r),s.transform(this.transform,!0),this.m_graphics.polylinesBuffer(s)),this.hasLabel&&this.m_graphics.template(n.x,n.y,0,0,0,0,n.width,n.height,this.labelTemplate.template(),this.labelTemplate.getHashCode(),this.labelTemplate.render,t,null)},_v.prototype=new se,SI.prototype.getUserDefinedPositions=function(e){var t,n,i,r=Ir(),s={};for(n=0,i=e.length;n<i;n+=1)null!=(t=e[n]).relativeItem&&(s[t.relativeItem]=!0),null!=t.id&&(s[t.id]=!0);for(n=0,i=e.length;n<i;n+=1)s.hasOwnProperty((t=e[n]).id)&&r.add(t.relativeItem||null,t.id,t);function a(m,g){this.position=m,this.items=g}var l={},u={},c={};r.loopPostOrder(this,function(m,g,_,b){var S,y=[],v=u[m],w=c[m];if(null!=v)for(v.sort(function(T,C){return C.position-T.position}),S=0;S<v.length;S+=1)y=y.concat(v[S].items);if(y.push(m),null!=w)for(w.sort(function(T,C){return T.position-C.position}),S=0;S<w.length;S+=1)y=y.concat(w[S].items);null!=_?g.placementType==vt.Left?(u.hasOwnProperty(_)||(u[_]=[]),u[_].push(new a(g.position,y))):(c.hasOwnProperty(_)||(c[_]=[]),c[_].push(new a(g.position,y))):l[m]=y});var h={},d={};for(var f in l)if(l.hasOwnProperty(f))for(e=l[f],n=0;n<e.length;n+=1){var p=e[n];h[p]=n,d[p]=f}return{position:h,group:d}},Ho.prototype.getNear=function(e){return this.values[this[e]]},Ho.prototype.getFar=function(e){return this.values[Math.abs(this[e]-1)]},Ho.prototype.setNear=function(e,t){this.values[this[e]]=t},Ho.prototype.setFar=function(e,t){this.values[Math.abs(this[e]-1)]=t},Ho.prototype.toString=function(){return this.parent+","+this.child},Pu.prototype.validate=function(e,t){if(!e.validate())throw"Family structure failed to pass validation!";e.loop(this,function(n,i){e.loopChildren(this,n,function(r,s,o){if(null===s.level||null===i.level||(t?s.level!=i.level+1:s.level<=i.level))throw"Family tree is broken. Children/Parents or levels mismatch!";return e.SKIP})})},(Uo.prototype=new bs).trace=function(e,t,n){this.isChildren?this.traceChildrenLayout(e,t,n):this.traceParentsLayout(e,t,n)},Uo.prototype.traceChildrenLayout=function(e,t,n){for(var i,r=[],s=0;s<this.blocksCount;s+=1){for(var o=null,a=this.rowsCount-1;a>=0;a-=1){var l=this.getNodeIndex(s,a,!0,!0),u=null,c=null;l<this.len&&(c=t.treeItemsPositions[u=this.items[l]]);var h=this.getNodeIndex(s,a,!1,!0),d=null,f=null;h<this.len&&(f=t.treeItemsPositions[d=this.items[h]]);var p=null;null==p&&null!=c&&(p=new this.ConnectorDestination({id:this.getId(e),x:c.actualPosition.horizontalCenter()+c.rightMedianOffset,y:c.horizontalConnectorsShift})),null==p&&null!=f&&(p=new this.ConnectorDestination({id:this.getId(e),x:f.actualPosition.horizontalCenter()-f.leftMedianOffset,y:f.horizontalConnectorsShift})),null!=c&&t.transform.transformPoints((i=c.actualPosition).right(),p.y,p.x,p.y,!0,this,function(_,b,y,v){var w=new Kn;w.addSegment(new rt(_,b)),w.addSegment(new Ve(y,v)),e.graph.addEdge(u=t.nestedLayoutParentConnectorIds[u]||u,p.id,new this.ConnectorEdge(u,p.id,w,null,u,null,10,null,null,null,!0))}),null!=f&&t.transform.transformPoints((i=f.actualPosition).left(),p.y,p.x,p.y,!0,this,function(_,b,y,v){var w=new Kn;w.addSegment(new rt(_,b)),w.addSegment(new Ve(y,v)),e.graph.addEdge(d=t.nestedLayoutParentConnectorIds[d]||d,p.id,new this.ConnectorEdge(d,p.id,w,null,d,null,10,null,null,null,!0))}),null!=o&&null!=p&&t.transform.transformPoints(o.x,o.y,p.x,p.y,!0,this,function(_,b,y,v){var w=new Kn;w.addSegment(new rt(_,b)),w.addSegment(new Ve(y,v)),e.graph.addEdge(o.id,p.id,new this.ConnectorEdge(o.id,p.id,w,null,null,null,0))}),null!=p&&(o=p)}null!=o&&r.push(new this.ConnectorDestination({id:o.id,bundleid:this.getId(e),x:o.x,y:o.y,isSquared:!0,visibility:ie.Invisible}))}var g=new this.ConnectorDestination({id:this.matrixNodeId,x:(i=t.treeItemsPositions[this.matrixNodeId].actualPosition).horizontalCenter(),y:i.top()});this.traceFork(e,t,n,g,r,!0,!1,0,n.showExtraArrows)},Uo.prototype.traceParentsLayout=function(e,t,n){for(var i,r=[],s=0;s<=this.blocksCount;s+=1){for(var o=null,a=0;a<this.rowsCount;a+=1){var l=this.getNodeIndex(s,a,!0,!1),u=null,c=null;l<this.len&&(c=t.treeItemsPositions[u=this.items[l]]);var h=this.getNodeIndex(s,a,!1,!1),d=null,f=null;h<this.len&&(f=t.treeItemsPositions[d=this.items[h]]);var p=null;null==p&&null!=c&&(p=new this.ConnectorDestination({id:this.getId(e),x:c.actualPosition.horizontalCenter()+c.rightMedianOffset,y:c.horizontalConnectorsShift})),null==p&&null!=f&&(p=new this.ConnectorDestination({id:this.getId(e),x:f.actualPosition.horizontalCenter()-f.leftMedianOffset,y:f.horizontalConnectorsShift})),null!=c&&t.transform.transformPoints((i=c.actualPosition).right(),p.y,p.x,p.y,!0,this,function(_,b,y,v){var w=new Kn;w.addSegment(new rt(_,b)),w.addSegment(new Ve(y,v)),e.graph.addEdge(u=t.nestedLayoutBottomConnectorIds[u]||u,p.id,new this.ConnectorEdge(u,p.id,w,u,null,null,10,null,null,null,!0))}),null!=f&&t.transform.transformPoints((i=f.actualPosition).left(),p.y,p.x,p.y,!0,this,function(_,b,y,v){var w=new Kn;w.addSegment(new rt(_,b)),w.addSegment(new Ve(y,v)),e.graph.addEdge(d=t.nestedLayoutBottomConnectorIds[d]||d,p.id,new this.ConnectorEdge(d,p.id,w,d,null,null,10,null,null,null,!0))}),null!=o&&null!=p&&t.transform.transformPoints(o.x,o.y,p.x,p.y,!0,this,function(_,b,y,v){var w=new Kn;w.addSegment(new rt(_,b)),w.addSegment(new Ve(y,v)),e.graph.addEdge(o.id,p.id,new this.ConnectorEdge(o.id,p.id,w,null,null,null,0,null,null,null,!0))}),null!=p&&(o=p)}null!=o&&r.push(new this.ConnectorDestination({id:o.id,bundleid:this.getId(e),x:o.x,y:o.y,isSquared:!0,visibility:ie.Invisible}))}var g=new this.ConnectorDestination({id:this.connectionId,x:(i=t.treeItemsPositions[this.matrixNodeId].actualPosition).horizontalCenter(),y:i.bottom()});this.traceFork(e,t,n,g,r,!0,!0,0,n.showExtraArrows)},Uo.prototype.getNodeIndex=function(e,t,n,i){var s,r=null;return i?this.matrixWidth>(s=2*e+(n?0:1))&&(r=t*this.matrixWidth+s):(s=2*e+(n?-1:0))>=0&&s<this.matrixWidth&&(r=t*this.matrixWidth+s),r},Bi.prototype.loop=function(e,t){if(null!=t)for(var n=0,i=this.items.length;n<i;n+=1)t.call(e,this.items[n],0)},Bi.prototype.Column=function(){this.depth=0,this.offset=0,this.leftPadding=0,this.rightPadding=0,this.layoutDirection=vt.Left},Bi.prototype.Row=function(){this.depth=0,this.offset=0,this.horizontalConnectorsDepth=0,this.minimalDepth=null,this.dotsDepth=null},Bi.prototype.getMatrixWidth=function(e,t){return Math.min(e,Math.ceil(Math.sqrt(t)))},Bi.prototype.measure=function(e,t,n,i,r,s){var o={columns:[],rows:[]};this.measureColumns(o,this.items,r,s),this.measureRows(o,this.items,r,s),this.data=o;var a=new il;return a.actualVisibility=ie.Normal,a.actualSize=this.getLayoutSize(o),a},Bi.prototype.measureColumns=function(e,t,n,i){var r,s,o,a=this.getMatrixWidth(i.maximumColumnsInMatrix,t.length);for(s=0,o=t.length;s<o;s+=1){var c=n[t[s].id],h=i.intervals[c.actualVisibility]/2,d=s%a;null==(r=e.columns[d])&&((r=new this.Column).layoutDirection=d%2?vt.Right:vt.Left,e.columns[d]=r),r.depth=Math.max(r.depth,h+c.actualSize.width+h)}var p=8*i.linesWidth,m=0;for(s=0,o=e.columns.length;s<o;s+=1){if(r=e.columns[s],s%2==0)switch(i.arrowsDirection){case yt.Parents:r.leftPadding=this.hideChildrenConnection?0:p,r.rightPadding=0;break;case yt.Children:r.leftPadding=0,r.rightPadding=this.hideParentConnection?0:p}else switch(i.arrowsDirection){case yt.Parents:r.leftPadding=0,r.rightPadding=this.hideChildrenConnection?0:p;break;case yt.Children:r.leftPadding=this.hideParentConnection?0:p,r.rightPadding=0}r.offset=m+r.leftPadding+r.depth/2,m=r.offset+r.depth/2+r.rightPadding}},Bi.prototype.measureRows=function(e,t,n,i){var r,s,o,a=this.getMatrixWidth(i.maximumColumnsInMatrix,t.length);for(r=0,s=t.length;r<s;r+=1){var c=n[t[r].id],h=Math.floor(r/a),d=i.shifts[c.actualVisibility]/2;switch(null==(o=e.rows[h])&&(o=new this.Row,e.rows[h]=o),o.depth=Math.max(o.depth,d+c.actualSize.height+d),c.actualVisibility){case ie.Dot:case ie.Line:case ie.Invisible:o.dotsDepth=o.dotsDepth?Math.min(o.dotsDepth,c.actualSize.height):c.actualSize.height;break;default:o.minimalDepth=o.minimalDepth?Math.min(o.minimalDepth,c.actualSize.height):c.actualSize.height}}var f=0;for(r=0,s=e.rows.length;r<s;r+=1)switch(o=e.rows[r],o.offset=f+o.depth/2,f=o.offset+o.depth/2,null==o.minimalDepth&&(o.minimalDepth=o.depth),null!=o.dotsDepth&&o.dotsDepth>o.minimalDepth&&(o.minimalDepth=o.dotsDepth),i.verticalAlignment){case Le.Top:o.horizontalConnectorsDepth=o.minimalDepth/2;break;case Le.Middle:o.horizontalConnectorsDepth=o.depth/2;break;case Le.Bottom:o.horizontalConnectorsDepth=o.depth-o.minimalDepth/2}},Bi.prototype.getLayoutSize=function(e){return new se(0,0,Math.round(this.getLayoutWidth(e)),Math.round(this.getLayoutHeight(e)))},Bi.prototype.getLayoutWidth=function(e){var t=0,n=e.columns.length;if(n>0){var i=e.columns[n-1];t=i.offset+i.depth/2+i.rightPadding}return t},Bi.prototype.getLayoutHeight=function(e){var t=0,n=e.rows.length;if(n>0){var i=e.rows[n-1];t=i.offset+i.depth/2}return t},Bi.prototype.arrange=function(e,t,n,i,r,s){if(null!=s)for(var o=this.getMatrixWidth(r.maximumColumnsInMatrix,this.items.length),a=0,l=this.items.length;a<l;a+=1){var c=this.items[a].id,d=this.data.columns[a%o],f=Math.floor(a/o),p=this.data.rows[f],m=i[c],g=this.getItemPosition(m.actualVisibility,d,p,m.actualSize,r.verticalAlignment);g.translate(t.x,t.y),m={...m,actualPosition:g,horizontalConnectorsShift:t.y+p.offset-p.depth/2+p.horizontalConnectorsDepth,leftMedianOffset:d.depth/2+d.leftPadding,rightMedianOffset:d.depth/2+d.rightPadding,topConnectorShift:p.depth/2,bottomConnectorShift:p.depth/2},s.call(e,c,m,d.layoutDirection)}},Bi.prototype.getItemPosition=function(e,t,n,i,r){var s=0;switch(e){case ie.Normal:switch(r){case Le.Top:s=0;break;case Le.Middle:s=(n.depth-i.height)/2;break;case Le.Bottom:s=n.depth-i.height}break;case ie.Dot:case ie.Line:case ie.Invisible:s=n.horizontalConnectorsDepth-i.height/2}return new se(t.offset-i.width/2,n.offset-n.depth/2+s,i.width,i.height)},Qr.prototype.loop=function(e,t){if(null!=t)for(var n=0,i=this.items.length;n<i;n+=1)t.call(e,this.items[n],0)},Qr.prototype.Column=function(){this.depth=0,this.offset=0,this.parentsPadding=0,this.childrenPadding=0},Qr.prototype.Row=function(){this.depth=0,this.offset=0,this.minimalDepth=null,this.dotsDepth=null},Qr.prototype.measure=function(e,t,n,i,r,s){var o={columns:[],row:null};this.measureColumns(o,this.items,r,s),this.measureRow(o,this.items,r,s),this.data=o;var a=new il;return a.actualVisibility=ie.Normal,a.actualSize=this.getLayoutSize(o),a},Qr.prototype.measureColumns=function(e,t,n,i){for(var r,s=0,o=8*i.linesWidth,a=0;a<t.length;a+=1){var c=n[t[a].id];null==(r=e.columns[a])&&(r=new this.Column,e.columns[a]=r),r.depth=c.actualSize.width;var h=i.intervals[c.actualVisibility]/2;switch(0!=a&&(r.parentsPadding=h),a!=t.length-1&&(r.childrenPadding=h),i.arrowsDirection){case yt.Parents:a!=t.length-1&&(r.childrenPadding+=this.hideChildrenConnection?0:o);break;case yt.Children:0!=a&&(r.parentsPadding+=this.hideParentConnection?0:o)}r.offset=s+r.parentsPadding+r.depth/2,s=r.offset+r.depth/2+r.childrenPadding}},Qr.prototype.measureRow=function(e,t,n,i){e.row=new this.Row;for(var r=e.row,s=0;s<t.length;s+=1){var l=n[t[s].id],u=i.shifts[l.actualVisibility]/2;switch(r.depth=Math.max(r.depth,u+l.actualSize.height+u),l.actualVisibility){case ie.Dot:case ie.Line:case ie.Invisible:r.dotsDepth=r.dotsDepth?Math.min(r.dotsDepth,l.actualSize.height):l.actualSize.height;break;default:r.minimalDepth=r.minimalDepth?Math.min(r.minimalDepth,l.actualSize.height):l.actualSize.height}}r.offset=r.depth/2,null==r.minimalDepth&&(r.minimalDepth=r.depth),null!=r.dotsDepth&&r.dotsDepth>r.minimalDepth&&(r.minimalDepth=r.dotsDepth)},Qr.prototype.getLayoutSize=function(e){var t=0,n=e.columns.length;if(n>0){var i=e.columns[n-1];t=i.offset+i.depth/2+i.childrenPadding}var r=e.row.offset+e.row.depth/2;return new se(0,0,Math.round(t),Math.round(r))},Qr.prototype.arrange=function(e,t,n,i,r,s){if(null!=s)for(var o=0;o<this.items.length;o+=1){var l=this.items[o].id,u=this.data.columns[o],c=this.data.row,h=i[l],d=u.offset;n==vt.Left&&(d=t.width-u.offset);var f=this.getItemPosition(h.actualVisibility,d,c,h.actualSize,r);f.translate(t.x,t.y),h={...h,actualPosition:f,horizontalConnectorsShift:t.y+c.offset-c.depth/2+c.offset,leftMedianOffset:u.depth/2+(n==vt.Left?u.childrenPadding:u.parentsPadding),rightMedianOffset:u.depth/2+(n==vt.Left?u.parentsPadding:u.childrenPadding),topConnectorShift:c.depth/2,bottomConnectorShift:c.depth/2},s.call(e,l,h)}},Qr.prototype.getItemPosition=function(e,t,n,i,r){return new se(t-i.width/2,n.offset-i.height/2,i.width,i.height)},(xd.prototype=new Pu).extract=function(e,t,n,i){var r={},s={},o={},a=[];return n.hasNodes()>0&&e.enableMatrixLayout&&n.groupBy(this,Math.max(2,e.minimumMatrixSize),function(l,u,c){for(var h=[],d=0;d<c.length;d+=1){var f=c[d];if(1==f.length)h.push(f[0].node);else{var y=i+=1,v=i+=1,p=new Cs({id:y,isVisible:!1,isActive:!1,itemConfig:{title:"dummy #"+y,description:"This is item used as aggregator of horizontally grouped nodes."},hideParentConnection:!0,hideChildrenConnection:!0});s[y]=f[0].id,o[y]=f[f.length-1].id;for(var m=0;m<f.length-1;m+=1)a.push(new Eu(f[m+1].id,f[m].id));for(m=0;m<f.length;m+=1)n.removeNode(f[m].id);var T=h.map(I=>I.id);if(l.length>0?(n.add(l,y,p),p.hideParentConnection=!1):n.add(null,y,p),u.length>0){for(m=0;m<u.length;m+=1)n.adopt([y],u[m]);p.hideChildrenConnection=!1}r[y]=new Qr(f.map(I=>I.node),p.hideParentConnection,p.hideChildrenConnection),h.push(p)}}y=i+=1,v=i+=1;var w=new Cs({id:y,isVisible:!1,isActive:!1,itemConfig:{title:"dummy #"+y,description:"This is item used as aggregator of matrixed nodes."},hideParentConnection:!0,hideChildrenConnection:!0});o[y]=v,m=0;for(var S=h.length;m<S;m+=1)n.removeNode(h[m].id);if(T=h.map(C=>C.id),l.length>0?(n.add(l,y,w),w.hideParentConnection=!1,a.push(new Uo(!0,T,y,y,this.getMatrixWidth(e.maximumColumnsInMatrix,T.length)))):n.add(null,y,w),u.length>0){for(m=0;m<u.length;m+=1)n.adopt([y],u[m]);w.hideChildrenConnection=!1,a.push(new Uo(!1,T,y,v,this.getMatrixWidth(e.maximumColumnsInMatrix,T.length)))}r[y]=new Bi(h,w.hideParentConnection,w.hideChildrenConnection)},function(l){for(var u=null,c=0,h=0;h<l.length;h+=1){var f=t(l[h].id);if(null!=f){if(c>0){u=-1;break}if(c++,!f.addToMatrix){u=-1;break}u=f.matrixId}}return 0==c&&(u=-1),u}),{maximumId:i,nestedLayoutParentConnectorIds:s,nestedLayoutBottomConnectorIds:o,layouts:r,bundles:a}},xd.prototype.getMatrixWidth=function(e,t){return Math.min(e,Math.ceil(Math.sqrt(t)))},(sl.prototype=new Pu).normalize=function(e,t,n){if(t.hasNodes()>0){var i=[];t.loop(this,function(h,d){d.isLevelNeutral&&i.push(h)});var r=t;if(i.length>0){r=t.clone();for(var s=0;s<i.length;s+=1){var o=i[s],a=[];r.loopParents(this,o,function(h,d,f){if(0!=f)return!0;a.push(h)});var l=[];if(a.length>0&&r.loopChildren(this,o,function(h,d,f){if(0!=f)return!0;l.push(h)}),r.removeNode(o),l.length>0)for(var u=0;u<l.length;u+=1)r.adopt(a,l[u])}}r.loopLevels(this,e.groupByType==yt.Parents,function(h,d,f){d.level=f}),e.alignBylevels?this.resortItemsBylevels(t):t.loopLevels(this,e.groupByType==yt.Parents,function(h,d,f){d.level=f}),this.debug&&this.validate(t,!1),this.fillInItems(t,function(h){return new Cs({id:n+=1,levelGravity:yt.Children,isVisible:!1,isActive:!1,itemConfig:{title:"extension #"+n,description:"This is item used to fill gaps in levels."}})}),this.debug&&this.validate(t,!0)}return n},sl.prototype.resortItemsBylevels=function(e){var r,t=[],n=null,i=null;for(e.loop(this,function(o,a){a.originalLevel=a.level,a.level=null,null!=a.originalLevel&&(t[a.originalLevel]||(t[a.originalLevel]={}),t[a.originalLevel][o]=a,n=null!=n?Math.min(a.originalLevel,n):a.originalLevel,i=null!=i?Math.max(a.originalLevel,i):a.originalLevel)}),r=n;r<=i;r+=1)this.setLevelsForItems(t[r],e);e.loopTopo(this,function(o,a,l){var u;a.levelGravity==yt.Parents&&(u=null,e.loopParents(this,o,function(c,h,d){return u=null==u?h.level+1:Math.max(h.level+1,u),e.SKIP}),a.level=u||a.level)})},sl.prototype.setLevelsForItems=function(e,t){var i,r,s,n=0;for(i in e)e.hasOwnProperty(i)&&t.loopParents(this,i,function(o,a,l){return n=Math.max(a.level+1,n),t.SKIP});for(i in e)e.hasOwnProperty(i)&&((r=e[i]).level=n);for(;!gd(e);){for(i in s={},e)e.hasOwnProperty(i)&&(r=e[i],t.loopChildren(this,i,function(o,a,l){return(null==a.originalLevel||a.isLevelNeutral)&&(a.level=null==a.level?r.level+1:Math.max(a.level,r.level+1),s[o]=a),t.SKIP}));e=s}},sl.prototype.fillInItems=function(e,t){var n;e.loop(this,function(i,r){for(var o,s=!0;s;)s=!1,o=[],e.loopParents(this,i,function(a,l,u){return r.level-1>l.level&&o.push(a),e.SKIP}),o.length>1&&((n=t(r)).level=r.level-1,n.hideParentConnection=!1,n.hideChildrenConnection=!1,e.bundleParents(i,o,n.id,n),s=!0,i=n.id,r=n)}),e.loop(this,function(i,r){for(var o,s=!0,a=!0;s;)s=!1,o=[],e.loopChildren(this,i,function(l,u,c){return r.level+1<u.level?o.push(l):a=!1,e.SKIP}),o.length>1&&((n=t(r)).level=r.level+1,a&&(n.hideParentConnection=!1,n.hideChildrenConnection=!1),e.bundleChildren(i,o,n.id,n),s=!0,i=n.id,r=n)}),e.loop(this,function(i,r){for(var o,s=!0;s;)s=!1,o=[],e.loopParents(this,i,function(a,l,u){return r.level-1>l.level&&o.push(a),e.SKIP}),o.length>0&&((n=t(r)).level=r.level-1,n.hideParentConnection=!1,n.hideChildrenConnection=!1,e.bundleParents(i,o,n.id,n),s=!0,i=n.id,r=n)})},bv.prototype.clone=function(e){var n,t=new bv(e);for(n in this.left)this.left.hasOwnProperty(n)&&(t.left[n]=this.left[n]);for(n in this.right)this.right.hasOwnProperty(n)&&(t.right[n]=this.right[n]);for(n in this.crossings)this.crossings.hasOwnProperty(n)&&(t.crossings[n]=this.crossings[n]);return t.itemid=e,t},ri.prototype.balance=function(e){var t={maximumId:null,treeLevels:Td(),bundles:[],connectorStacks:[]},n={orgTree:Ir(),maximumId:e.maximumId,orgPartners:{},itemByChildrenKey:{},minimumLevel:null,maximumLevel:null};this.createOrgTree(e,n);var i,r=-1;return n.orgTree.loopLevels(this,function(s,o,a){var l=e.logicalFamily.node(s);null!=l&&(i!==a&&(i=a,r+=1),t.treeLevels.addItem(r,s,l))}),this.recalcLevelsDepth(t.bundles,t.connectorStacks,t.treeLevels,e.logicalFamily),t.maximumId=n.maximumId,t},ri.prototype.Family=function(e){this.id=null,this.familyPriority=1,this.childFamilies=[],this.items=[],this.links=[],this.backLinks=[],1==arguments.length&&(this.id=e)},ri.prototype.FamLink=function(e,t){this.fromItem=e,this.toItem=t},ri.prototype.createOrgTree=function(e,t){var n,i,r,s,o,a,l,u,c,d,f,p,m,g,b,y,v,w,S,T,C,M,D,I,P,h=[],E=[];if(e.logicalFamily.hasNodes()>0){if(I={},p=0,P=[],e.logicalFamily.loopRoots(this,function(O,V){m=new this.Family(p),this.extractOrgChart(O,e.logicalFamily,e.primaryParents,t.orgTree,t.orgPartners,t.itemByChildrenKey,I,m),E.push(m),P.push(m),p+=1}),P.sort(function(O,V){var k=O.items[0].level,x=V.items[0].level;return k!=x?k-x:V.items.length-O.items.length}),h=[],d={},E.length>0){for(o=No(),n=0,i=E.length;n<i;n+=1)for(r=0,s=(m=E[n]).links.length;r<s;r+=1)(u=e.logicalFamily.node((a=m.links[r]).fromItem).familyId)!=(c=e.logicalFamily.node(a.toItem).familyId)&&(o.addEdge(u,c,{weight:0}),o.edge(u,c).weight+=1),E[c].backLinks.push(new this.FamLink(a.toItem,a.fromItem));for(;h.length<E.length;)for(n=0,i=P.length;n<i;n+=1)d.hasOwnProperty((m=P[n]).id)||(null!=(T=o.getSpanningTree(m.id,function(O){return-O.weight})).node(m.id)?(T.loopPostOrder(this,function(O,V,k,x){var z=E[k],W=[];null!=k&&(z.familyPriority=z.familyPriority+E[O].familyPriority),W=[],T.loopChildren(this,O,function(re,N,B){W.push(re)}),W.sort(function(re,N){return E[re].familyPriority-E[N].familyPriority}),T.arrangeChildren(O,W)}),T.loopPreOrder(this,function(O,V){h.push(O),d[O]=!0})):(h.push(m.id),d[m.id]=!0))}for(t.maximumId+=1,D=new Pd(t.maximumId,null,t.minimumLevel-1),t.orgTree.add(null,D.id,D),f={},n=0,i=h.length;n<i;n+=1){for(v={},w=D,S=0,l=(m=E[h[n]]).links.concat(m.backLinks),r=0;r<l.length;r+=1)b=t.orgTree.node((a=l[r]).toItem),t.orgTree.node(a.fromItem),!0===f[b.familyId]&&((y=b).level>=(g=m.items[0]).level&&t.orgTree.loopParents(this,y.id,function(O,V){if(y=V,V.level<g.level)return!0}),v.hasOwnProperty(y.id)?v[y.id]+=1:v[y.id]=1,S<v[y.id]&&(w=y,S=v[y.id]));this.attachFamilyToOrgChart(t,w,m),f[m.id]=!0}C=this.getExtraGravity(t),M=this.getGrandChildren(t),this.balanceOrgTree(t.orgTree,C,M,e.itemsPositions,e.itemsGroups)}},ri.prototype.getGrandChildren=function(e){var t={};return e.orgTree.loopPostOrder(this,function(n,i,r,s){var o;if(e.minimumLevel=null!=e.minimumLevel?Math.min(e.minimumLevel,i.level):i.level,e.maximumLevel=null!=e.maximumLevel?Math.max(e.maximumLevel,i.level):i.level,null!=r&&(t[r]||(t[r]={}),t[r][o=i.level-1]?t[r][o]+=1:t[r][o]=1,null!=t[n]))for(o in t[n])t[n].hasOwnProperty(o)&&(t[r][o]?t[r][o]+=t[n][o]:t[r][o]=t[n][o])}),t},ri.prototype.balanceOrgTree=function(e,t,n,i,r){var s,o,a,l,u,c,h,d,f,g,_,p="__left__",m="__right__";e.loopLevels(this,function(b,y,v){var C,w=No(),S={},T=null;if(h=[],e.loopChildren(this,y.id,function(M,D,I){var E;if(null==T&&(T=D),S[D.id]={},t.hasOwnProperty(D.id))for(E in c=t[D.id])if(c.hasOwnProperty(E))for(g=c[E],S[D.id][E]={},s=0,o=g.length;s<o;s+=1)C=(u=g[s]).commonParent==y.id?u.toParent:e.node(u.fromParent).childIndex<e.node(u.toParent).childIndex?m:p,D.id!=C&&(w.addEdge(D.id,C,{weight:0}),w.edge(D.id,C).weight+=1,null==S[D.id][E][C]&&(S[D.id][E][C]=0),S[D.id][E][C]+=1);I>0&&w.addEdge(D.id,T.id,{weight:0})}),null!=T)for(_=[],w.getTotalWeightGrowthSequence(this,function(M){return M.weight},function(M){_.push(M)}),0===_.length&&(_=[T.id]),d=this.balanceItems(_,p,m,S,n,i,r),a=0,l=d.length;a<l;a+=1)(f=e.node(d[a])).childIndex=a,h.push(f.id);e.arrangeChildren(y.id,h)})},ri.prototype.balanceItems=function(e,t,n,i,r,s,o){var l,d,f,p,m,_,b,y,v,w,S,T,C,M,D,I,E,P,O,V,k,x,F,z,W,re,N,B,U,a=[],u=sv(),c=0,h={},g={};for(b=[t,null,n],l=0;l<b.length;l+=1)p=c++,(m=new bv(_=b[l])).position=l,u.add(p,m),null!==_&&(g[_]=p);for(l=0;l<e.length;l+=1)if((_=e[l])!=t&&_!=n)for(k in y=null,v=null,w=null,S=null,T=null,C=null,d=null,f=null,o.hasOwnProperty(_)&&h.hasOwnProperty(N=o[_])&&(d=(B=h[N]).previousContext(W=s[_]),f=B.nextContext(W)),u.iterate(function(X,Q){var G,ae,de,je;if(null==X.itemId){for(G in P=r[_],M=0,D=0,I=0,E=0,X.crossings)X.crossings.hasOwnProperty(G)&&(P&&null!=P[G]&&(M+=X.crossings[G]*P[G]),E+=X.crossings[G]);for(G in i[_])if(i[_].hasOwnProperty(G))for(ae in de=i[_][G])de.hasOwnProperty(ae)&&g.hasOwnProperty(ae)&&null!=(je=u.item(g[ae]))&&(je.position<X.position?(M+=(X.left[G]||0)-(je.left[G]||0),I+=Math.abs(je.balance+1)):(M+=(X.right[G]||0)-(je.right[G]||0),I+=Math.abs(je.balance-1)),D+=Math.abs(je.position-X.position));(null==w||w>M||w==M&&(S>D||S==D&&(T>I||T==I&&C>E)))&&(y=Q,w=M,v=X,S=D,T=I,C=E)}},d,f),u.insertBefore(y,c++,v.clone(null)),g[_]=c,V=c,O=v.clone(_),s.hasOwnProperty(_)&&(h.hasOwnProperty(N=o[_])||(h[N]=fv()),(B=h[N]).add(s[_],c)),u.insertBefore(y,c++,O),O.position=0,re=0,u.iterate(function(X,Q){var G,ae;if(Q!=V){for(G in ae=r[_])ae.hasOwnProperty(G)&&(X.left[G]?X.left[G]+=ae[G]:X.left[G]=ae[G]);X.position=re+=1}},V),re=0,u.iterateBack(function(X,Q){var G,ae;if(Q!=V){for(G in ae=r[_],r[_])r[_].hasOwnProperty(G)&&(X.right[G]?X.right[G]+=ae[G]:X.right[G]=ae[G]);X.position=re-=1}},V),i[_])if(i[_].hasOwnProperty(k))for(F in x=i[_][k])x.hasOwnProperty(F)&&g.hasOwnProperty(F)&&null!=(z=u.item(U=g[F]))&&(z.position<0?(z.balance+=1,O.balance-=1,u.iterateBack(function(X,Q){Q!=V&&Q!=U&&(X.crossings[k]?X.crossings[k]+=x[F]:X.crossings[k]=x[F])},V,U)):(z.balance-=1,O.balance+=1,u.iterate(function(X,Q){Q!=V&&Q!=U&&(X.crossings[k]?X.crossings[k]+=x[F]:X.crossings[k]=x[F])},V,U)));return u.iterate(function(X){var Q=X.itemId;null!=Q&&Q!=t&&Q!=n&&a.push(Q)}),a},ri.prototype.ExtraGravity=function(e){this.commonParent=null,this.fromParent=null,this.toParent=null,this.level=e},ri.prototype.getExtraGravity=function(e){var t,n,r,s,o,a,i={};for(t in e.orgPartners)if(e.orgPartners.hasOwnProperty(t))for(n=e.orgTree.node(t),r=0,s=(o=e.orgPartners[t]).length;r<s;r+=1)a=e.orgTree.node(o[r]),this.addExtraGravitiesForConnection(e.orgTree,i,a,n);return i},ri.prototype.addExtraGravitiesForConnection=function(e,t,n,i){var r=new this.ExtraGravity(n.level),s=new this.ExtraGravity(i.level);e.zipUp(this,n.id,i.id,function(o,a,l,u){if(this.addExtraGravityForItem(t,o,r),this.addExtraGravityForItem(t,l,s),a==u)return r.commonParent=a,r.fromParent=o,r.toParent=l,s.commonParent=a,s.fromParent=l,s.toParent=o,!0})},ri.prototype.addExtraGravityForItem=function(e,t,n){e.hasOwnProperty(t)||(e[t]={}),null==e[t][n.level]&&(e[t][n.level]=[]),e[t][n.level].push(n)},ri.prototype.attachFamilyToOrgChart=function(e,t,n){var i,r=n.items[0],s=null,o=t;for(i=t.level+1;i<r.level;i+=1)e.maximumId+=1,s=new Pd(e.maximumId,null,i),e.orgTree.add(o.id,s.id,s),n.items.push(s),o=s;r.hideParentConnection=!0,e.orgTree.adopt(o.id,r.id,r)},ri.prototype.extractOrgChart=function(e,t,n,i,r,s,o,a){var l,u,h,p,c=[],m=t.node(e);for(p=new Pd(m.id,a.id,m.level),i.add(null,p.id,p),a.items.push(p),o[m.id]=m,m.familyId=a.id,c=this.extractChildren(m,t,n,i,r,s,o,a);c.length>0;){for(h=[],l=0,u=c.length;l<u;l+=1)h=h.concat(this.extractChildren(c[l],t,n,i,r,s,o,a));c=h}},ri.prototype.extractChildren=function(e,t,n,i,r,s,o,a){var h,l=[],u=null,c=null;if(1==t.countChildren(e.id)&&(u=t.firstChild(e.id)),null!=s[u])null==r[(c=s[u]).id]&&(r[c.id]=[]),r[c.id].push(e.id),a.links.push(new this.FamLink(e.id,u));else{if(null!=u){if(n.hasOwnProperty(u)){var d=n[u];if(d!=e.id)return null==r[d]&&(r[d]=[]),r[d].push(e.id),a.links.push(new this.FamLink(e.id,u)),l}s[u]=e}t.loopChildren(this,e.id,function(f,p,m){if(o[p.id])throw"Many to many relations should not exist at this stage";return l.push(p),h=new Pd(p.id,a.id,p.level),i.add(e.id,h.id,h),a.items.push(h),o[p.id]=!0,p.familyId=a.id,t.SKIP})}return l},ri.prototype.recalcLevelsDepth=function(e,t,n,i){var r,s,o,a,l,u,c,d,f,p,h={};n.loopLevels(this,function(m,g){var _=new wd;if(t[m]=_,c=[],n.loopLevelItems(this,m,function(b,y,v){var w=[],S=[],T=null;h.hasOwnProperty(b)||(h[b]=!0,y.hideChildrenConnection?T=b:w.push(b),i.loopChildren(this,b,function(C,M,D){return i.loopParents(this,C,function(I,E){return h.hasOwnProperty(I)||(h[I]=!0,E.hideChildrenConnection?T=I:w.push(I)),i.SKIP}),M.hideParentConnection?T=C:S.push(C),i.SKIP}),(w.length>1||S.length>0)&&(u=new Cd(w,S,T),e.push(u),w.length>1&&c.push(u)))}),c.length>0){for(p=hv(),r=0,s=c.length;r<s;r+=1){for(d=null,f=null,o=0,a=(u=c[r]).fromItems.length;o<a;o+=1)l=n.getItemPosition(u.fromItems[o]),d=null!=d?Math.min(d,l):l,f=null!=f?Math.max(f,l):l;p.add(d,f,u)}_.parentsStackSize=p.resolve(this,function(b,y,v,w,S){v.fromOffset=w+1,v.fromStackSize=S})}})},DI.prototype.getUserDefinedPrimaryParents=function(e,t){var i,r,n={},s={};for(i=0,r=e.length;i<r;i+=1){var o=e[i];null!=o.primaryParent&&(s[o.id]=o.primaryParent)}for(var a in s)for(var l=s[a],u={},c=[a];c.length>0;){var h=[];for(i=0,r=c.length;i<r;i+=1)t.loopParents(this,a=c[i],function(d,f){if(u[d]=a,d==l){for(;null!=u[d];)n[u[d]]=d,d=u[d];return h=[],t.BREAK}return 0==f.isVisible&&h.push(d),t.SKIP});c=h}return n},kr.prototype.loop=function(e,t){if(null!=t){var n=0;this.treeLevels.loopLevels(this,function(i){this.treeLevels.loopLevelItems(this,i,function(r,s){t.call(e,s,n)}),n+=1})}},kr.prototype.measure=function(e,t,n,i,r,s){this.treeLevelsPositions=[],this.treeLevels.loopLevels(this,function(a,l){var u=new Au;this.treeLevelsPositions.push(u)}),this.setOffsets(this.treeLevels,r,this.childLayoutsPositions,this.treeLevelsPositions,this.logicalFamily,s.intervals,s.padding),this.setLevelsDepth(this.treeLevels,r,this.treeLevelsPositions,s.verticalAlignment),this.shiftLevels(this.treeLevelsPositions,s.padding.top,s.shifts,s.arrowsDirection,s.linesWidth,this.getConnectorsStacksSizes);var o=new il;return o.actualVisibility=ie.Normal,o.actualSize=this.getLayoutSize(this.treeLevels,r,this.childLayoutsPositions,this.treeLevelsPositions,s.padding),o},kr.prototype.getLayoutSize=function(e,t,n,i,r){return new se(0,0,Math.round(this.getLayoutWidth(e,t,n,r)),Math.round(this.getLayoutHeight(i,r)))},kr.prototype.getLayoutWidth=function(e,t,n,i){var r=0;return e.loopLevels(this,function(s,o){var a=e.getLevelLength(s);if(a>0){var l=e.getItemAtPosition(s,a-1);r=Math.max(r,n[l].offset+t[l].actualSize.width+i.right)}}),r},kr.prototype.getLayoutHeight=function(e,t){return e[e.length-1].getNodesBottom()+t.bottom},kr.prototype.setLevelsDepth=function(e,t,n,i){var r,s;e.loopLevels(this,function(o,a){var l=n[o];switch(l.shift=0,l.depth=0,l.actualVisibility=ie.Invisible,r=null,s=null,e.loopLevelItems(this,o,function(u,c,h){var d=t[u];switch(l.depth=Math.max(l.depth,d.actualSize.height),d.actualVisibility){case ie.Dot:case ie.Line:case ie.Invisible:s=s?Math.min(s,d.actualSize.height):d.actualSize.height;break;default:r=r?Math.min(r,d.actualSize.height):d.actualSize.height}l.actualVisibility=Math.min(l.actualVisibility,d.actualVisibility)}),null==r&&(r=l.depth),null!=s&&s>r&&(r=s),i){case Le.Top:l.horizontalConnectorsDepth=r/2;break;case Le.Middle:l.horizontalConnectorsDepth=l.depth/2;break;case Le.Bottom:l.horizontalConnectorsDepth=l.depth-r/2}})},kr.prototype.shiftLevels=function(e,t,n,i,r,s){var o,a,l,u,c=0,h=0,d=8*r;switch(i){case yt.Parents:c=d,h=0;break;case yt.Children:c=0,h=d}for(o=0,a=e.length;o<a;o+=1)l=e[o],u=s(o).parentsStackSize,t+=l.setShift(t,n[l.actualVisibility],h,c,u)},kr.prototype.setOffsets=function(e,t,n,i,r,s,o){var a,l;for(a=0,l=i.length;a<l;a+=1)i[a].currentOffset=0;var c=new RU(this,r.getPlanarFamily(e),e,function(d,f){var p=t[d],m=s[p.actualVisibility]/2;return n[d]=new FU(0,m,m),m+p.actualSize.width+m}),h=null;e.loopLevels(this,function(d,f){var p=e.getItemAtPosition(d,0);if(null!=p){var m=t[p],g=c.getOffset(p)-m.actualSize.width/2;h=null===h?g:Math.min(h,g)}}),e.loopLevels(this,function(d,f){e.loopLevelItems(this,d,function(p,m,g){var _=t[p],b=c.getOffset(p);n[p].offset=b-_.actualSize.width/2-h+o.left})})},kr.prototype.arrange=function(e,t,n,i,r,s){var o=null;null!=s&&this.treeLevels.loopLevels(this,function(a,l){var u=this.treeLevelsPositions[a];this.treeLevels.loopLevelItems(this,a,function(c,h,d){var f=i[c],m=this.getItemPosition(f.actualVisibility,this.childLayoutsPositions[c].offset,f.actualSize,o,u,r.verticalAlignment);s.call(e,c,{...f,...m})}),o=u})},kr.prototype.getItemPosition=function(e,t,n,i,r,s){var o=0;switch(e){case ie.Normal:switch(s){case Le.Top:o=0;break;case Le.Middle:o=(r.depth-n.height)/2;break;case Le.Bottom:o=r.depth-n.height}break;case ie.Dot:case ie.Line:case ie.Invisible:o=r.horizontalConnectorsDepth-n.height/2}return{actualPosition:new se(t,r.shift+o,n.width,n.height),horizontalConnectorsShift:r.shift+r.horizontalConnectorsDepth,topConnectorShift:null!=i?i.shift+i.connectorShift:null,topConnectorInterval:null!=i?i.levelSpace/2:null,bottomConnectorShift:r.shift+r.connectorShift,bottomConnectorInterval:r.levelSpace/2}};const $U=["*"],WU=function(e){return{backgroundColor:e}},GU=function(e){return{color:e}},qU=function(e,t,n){return{width:e,height:t,borderWidth:n}},KU=function(e){return{borderWidth:e}},XU=["frameMousePanelRef"],QU=["framePlaceholderRef"],YU=["titlesMousePanelRef"],ZU=["titlesPlaceholderRef"],JU=["scrollPanelRef"],ej=["mousePanelRef"],tj=["placeholderRef"],nj=["calloutPlaceholderRef"],ij=["controlPanelRef"];function rj(e,t){1&e&&Pn(0)}const sr=function(e){return{$implicit:e}};function sj(e,t){if(1&e){const n=Ps();le(0,"div",13,14),Ze("click",function(r){return hi(n),di(Te().onFrameClick(r))})("mousemove",function(r){return hi(n),di(Te().onFrameMouseMove(r))}),le(2,"div",15,16),ce(4,rj,1,0,"ng-container",10),pe()()}if(2&e){const n=Te(),i=Sn(13);j("ngStyle",n.frameMousePanelStyle),q(2),j("ngStyle",n.framePlaceholderStyle),q(2),j("ngTemplateOutlet",i)("ngTemplateOutletContext",Vn(4,sr,n.framePlaceholder))}}function oj(e,t){1&e&&Pn(0)}function aj(e,t){if(1&e){const n=Ps();le(0,"div",17,18),Ze("mousemove",function(r){return hi(n),di(Te().onFrameMouseMove(r))})("click",function(r){return hi(n),di(Te().onFrameClick(r))}),le(2,"div",19,20),ce(4,oj,1,0,"ng-container",10),pe()()}if(2&e){const n=Te(),i=Sn(13);j("ngStyle",n.titlesMousePanelStyle),q(2),j("ngStyle",n.titlesPlaceholderStyle),q(2),j("ngTemplateOutlet",i)("ngTemplateOutletContext",Vn(4,sr,n.titlesPlaceholder))}}function lj(e,t){1&e&&Pn(0)}function uj(e,t){1&e&&Pn(0)}function cj(e,t){if(1&e&&(le(0,"div",21,22),ce(2,uj,1,0,"ng-container",10),pe()),2&e){const n=Te(),i=Sn(13);j("ngStyle",n.calloutPlaceholderStyle),q(2),j("ngTemplateOutlet",i)("ngTemplateOutletContext",Vn(3,sr,n.calloutPlaceholder))}}function hj(e,t){if(1&e&&(le(0,"div",29)(1,"rotated-text",30),Je(2),pe()()),2&e){const n=t.$implicit;j("ngStyle",n.style),q(1),j("width",n.width)("height",n.height)("orientation",n.orientation)("horizontalAlignment",n.horizontalAlignment)("verticalAlignment",n.verticalAlignment),q(1),Wn(n.label)}}function dj(e,t){if(1&e&&(co(),Ye(0,"path",33)),2&e){const n=t.$implicit;j("ngStyle",n.style),Cn("d",n.data)}}const wv=function(e,t){return{width:e,height:t}};function fj(e,t){if(1&e&&(co(),le(0,"svg",31),ce(1,dj,1,2,"path",32),pe()),2&e){const n=Te(2).$implicit,i=Te().$implicit;j("ngStyle",fh(4,wv,i.size.width+"px",i.size.height+"px")),Cn("height.px",i.size.height)("width.px",i.size.width),q(1),j("ngForOf",n.polylines)}}function pj(e,t){if(1&e&&(et(0),Ye(1,"bp-item",38),tt()),2&e){const n=Te().$implicit;q(1),j("itemConfig",n.context.context)("itemTitleFirstFontColor",n.context.itemTitleFirstFontColor)("itemTitleSecondFontColor",n.context.itemTitleSecondFontColor)}}function mj(e,t){if(1&e&&(et(0),Ye(1,"bp-checkbox",39),tt()),2&e){const n=Te().$implicit;q(1),j("id",n.context.id)("isSelected",n.context.isSelected)("label",n.context.selectCheckBoxLabel)}}function gj(e,t){if(1&e&&(et(0),Ye(1,"bp-group-title",40),tt()),2&e){const n=Te().$implicit;q(1),j("options",n.context)("itemConfig",n.context.context)("width",n.context.width)("height",n.context.height)}}function vj(e,t){if(1&e&&(et(0),Ye(1,"bp-cursor",41),tt()),2&e){const n=Te().$implicit;q(1),j("templateConfig",n.context.templateConfig)}}function yj(e,t){if(1&e&&(et(0),Ye(1,"bp-highlight",41),tt()),2&e){const n=Te().$implicit;q(1),j("templateConfig",n.context.templateConfig)}}function _j(e,t){if(1&e&&(et(0),Ye(1,"bp-dot-highlight",41),tt()),2&e){const n=Te().$implicit;q(1),j("templateConfig",n.context.templateConfig)}}function bj(e,t){if(1&e&&(et(0),Ye(1,"bp-level-title",42),tt()),2&e){const n=Te().$implicit;q(1),j("options",n.context)("annotationConfig",n.context.context)("width",n.context.width)("height",n.context.height)}}function wj(e,t){if(1&e&&(et(0),Ye(1,"bp-level-background",43),tt()),2&e){const n=Te().$implicit;q(1),j("annotationConfig",n.context.context)}}function Tj(e,t){if(1&e&&(et(0),le(1,"div",44),Je(2),pe(),tt()),2&e){const n=Te().$implicit;q(2),Wn(n.context.context.title)}}function Cj(e,t){if(1&e&&(et(0),le(1,"div",44),Je(2),pe(),tt()),2&e){const n=Te().$implicit;q(2),Wn(n.context.context.label)}}function Sj(e,t){1&e&&Pn(0)}function Dj(e,t){if(1&e&&(et(0),ce(1,Sj,1,0,"ng-container",10),tt()),2&e){const n=Te().$implicit;q(1),j("ngTemplateOutlet",n.templateRef)("ngTemplateOutletContext",n.context)}}function Mj(e,t){if(1&e&&(le(0,"div",34),et(1,35),ce(2,pj,2,3,"ng-container",36),ce(3,mj,2,3,"ng-container",36),ce(4,gj,2,4,"ng-container",36),ce(5,vj,2,1,"ng-container",36),ce(6,yj,2,1,"ng-container",36),ce(7,_j,2,1,"ng-container",36),ce(8,bj,2,4,"ng-container",36),ce(9,wj,2,1,"ng-container",36),ce(10,Tj,3,1,"ng-container",36),ce(11,Cj,3,1,"ng-container",36),ce(12,Dj,2,2,"ng-container",37),tt(),pe()),2&e){const n=t.$implicit;j("ngStyle",n.style),q(1),j("ngSwitch",n.templateType),q(1),j("ngSwitchCase","itemTemplate"),q(1),j("ngSwitchCase","checkboxTemplate"),q(1),j("ngSwitchCase","groupTitleTemplate"),q(1),j("ngSwitchCase","cursorTemplate"),q(1),j("ngSwitchCase","highlightTemplate"),q(1),j("ngSwitchCase","dotHighlightTemplate"),q(1),j("ngSwitchCase","levelTitleTemplate"),q(1),j("ngSwitchCase","levelBackgroundTemplate"),q(1),j("ngSwitchCase","labelAnnotationTemplate"),q(1),j("ngSwitchCase","annotationLabelTemplate")}}function Ij(e,t){if(1&e&&(et(0),ce(1,hj,3,7,"div",26),ce(2,fj,2,7,"svg",27),ce(3,Mj,13,12,"div",28),tt()),2&e){const n=Te().$implicit;q(1),j("ngForOf",n.labels),q(1),j("ngIf",n.polylines.length>0),q(1),j("ngForOf",n.items)}}function kj(e,t){if(1&e&&(le(0,"div",24),ce(1,Ij,4,3,"ng-container",25),pe()),2&e){const n=t.$implicit;q(1),j("ngIf",n)}}function Ej(e,t){1&e&&ce(0,kj,2,1,"div",23),2&e&&j("ngForOf",t.$implicit.layers)}function Aj(e,t){1&e&&Pn(0)}function xj(e,t){if(1&e){const n=Ps();le(0,"div",13,14),Ze("click",function(r){return hi(n),di(Te().onFrameClick(r))})("mousemove",function(r){return hi(n),di(Te().onFrameMouseMove(r))}),le(2,"div",15,16),ce(4,Aj,1,0,"ng-container",10),pe()()}if(2&e){const n=Te(),i=Sn(13);j("ngStyle",n.frameMousePanelStyle),q(2),j("ngStyle",n.framePlaceholderStyle),q(2),j("ngTemplateOutlet",i)("ngTemplateOutletContext",Vn(4,sr,n.framePlaceholder))}}function Pj(e,t){1&e&&Pn(0)}function Oj(e,t){if(1&e){const n=Ps();le(0,"div",17,18),Ze("mousemove",function(r){return hi(n),di(Te().onFrameMouseMove(r))})("click",function(r){return hi(n),di(Te().onFrameClick(r))}),le(2,"div",19,20),ce(4,Pj,1,0,"ng-container",10),pe()()}if(2&e){const n=Te(),i=Sn(13);j("ngStyle",n.titlesMousePanelStyle),q(2),j("ngStyle",n.titlesPlaceholderStyle),q(2),j("ngTemplateOutlet",i)("ngTemplateOutletContext",Vn(4,sr,n.titlesPlaceholder))}}function Rj(e,t){1&e&&Pn(0)}function Fj(e,t){1&e&&Pn(0)}function Lj(e,t){if(1&e&&(le(0,"div",21,22),ce(2,Fj,1,0,"ng-container",10),pe()),2&e){const n=Te(),i=Sn(13);j("ngStyle",n.calloutPlaceholderStyle),q(2),j("ngTemplateOutlet",i)("ngTemplateOutletContext",Vn(3,sr,n.calloutPlaceholder))}}function Nj(e,t){if(1&e&&(le(0,"div",29)(1,"rotated-text",30),Je(2),pe()()),2&e){const n=t.$implicit;j("ngStyle",n.style),q(1),j("width",n.width)("height",n.height)("orientation",n.orientation)("horizontalAlignment",n.horizontalAlignment)("verticalAlignment",n.verticalAlignment),q(1),Wn(n.label)}}function Vj(e,t){if(1&e&&(co(),Ye(0,"path",33)),2&e){const n=t.$implicit;j("ngStyle",n.style),Cn("d",n.data)}}function Bj(e,t){if(1&e&&(co(),le(0,"svg",31),ce(1,Vj,1,2,"path",32),pe()),2&e){const n=Te(2).$implicit,i=Te().$implicit;j("ngStyle",fh(4,wv,i.size.width+"px",i.size.height+"px")),Cn("height.px",i.size.height)("width.px",i.size.width),q(1),j("ngForOf",n.polylines)}}function zj(e,t){if(1&e&&(et(0),Ye(1,"bp-item",38),tt()),2&e){const n=Te().$implicit;q(1),j("itemConfig",n.context.context)("itemTitleFirstFontColor",n.context.itemTitleFirstFontColor)("itemTitleSecondFontColor",n.context.itemTitleSecondFontColor)}}function Hj(e,t){if(1&e&&(et(0),Ye(1,"bp-checkbox",39),tt()),2&e){const n=Te().$implicit;q(1),j("id",n.context.id)("isSelected",n.context.isSelected)("label",n.context.selectCheckBoxLabel)}}function Uj(e,t){if(1&e&&(et(0),Ye(1,"bp-group-title",40),tt()),2&e){const n=Te().$implicit;q(1),j("options",n.context)("itemConfig",n.context.context)("width",n.context.width)("height",n.context.height)}}function jj(e,t){if(1&e&&(et(0),Ye(1,"bp-cursor",41),tt()),2&e){const n=Te().$implicit;q(1),j("templateConfig",n.context.templateConfig)}}function $j(e,t){if(1&e&&(et(0),Ye(1,"bp-highlight",41),tt()),2&e){const n=Te().$implicit;q(1),j("templateConfig",n.context.templateConfig)}}function Wj(e,t){if(1&e&&(et(0),Ye(1,"bp-dot-highlight",41),tt()),2&e){const n=Te().$implicit;q(1),j("templateConfig",n.context.templateConfig)}}function Gj(e,t){if(1&e&&(et(0),Ye(1,"bp-level-title",42),tt()),2&e){const n=Te().$implicit;q(1),j("options",n.context)("annotationConfig",n.context.context)("width",n.context.width)("height",n.context.height)}}function qj(e,t){if(1&e&&(et(0),Ye(1,"bp-level-background",43),tt()),2&e){const n=Te().$implicit;q(1),j("annotationConfig",n.context.context)}}function Kj(e,t){if(1&e&&(et(0),le(1,"div",44),Je(2),pe(),tt()),2&e){const n=Te().$implicit;q(2),Wn(n.context.context.title)}}function Xj(e,t){if(1&e&&(et(0),le(1,"div",44),Je(2),pe(),tt()),2&e){const n=Te().$implicit;q(2),Wn(n.context.context.label)}}function Qj(e,t){1&e&&Pn(0)}function Yj(e,t){if(1&e&&(et(0),ce(1,Qj,1,0,"ng-container",10),tt()),2&e){const n=Te().$implicit;q(1),j("ngTemplateOutlet",n.templateRef)("ngTemplateOutletContext",n.context)}}function Zj(e,t){if(1&e&&(le(0,"div",34),et(1,35),ce(2,zj,2,3,"ng-container",36),ce(3,Hj,2,3,"ng-container",36),ce(4,Uj,2,4,"ng-container",36),ce(5,jj,2,1,"ng-container",36),ce(6,$j,2,1,"ng-container",36),ce(7,Wj,2,1,"ng-container",36),ce(8,Gj,2,4,"ng-container",36),ce(9,qj,2,1,"ng-container",36),ce(10,Kj,3,1,"ng-container",36),ce(11,Xj,3,1,"ng-container",36),ce(12,Yj,2,2,"ng-container",37),tt(),pe()),2&e){const n=t.$implicit;j("ngStyle",n.style),q(1),j("ngSwitch",n.templateType),q(1),j("ngSwitchCase","itemTemplate"),q(1),j("ngSwitchCase","checkboxTemplate"),q(1),j("ngSwitchCase","groupTitleTemplate"),q(1),j("ngSwitchCase","cursorTemplate"),q(1),j("ngSwitchCase","highlightTemplate"),q(1),j("ngSwitchCase","dotHighlightTemplate"),q(1),j("ngSwitchCase","levelTitleTemplate"),q(1),j("ngSwitchCase","levelBackgroundTemplate"),q(1),j("ngSwitchCase","labelAnnotationTemplate"),q(1),j("ngSwitchCase","annotationLabelTemplate")}}function Jj(e,t){if(1&e&&(et(0),ce(1,Nj,3,7,"div",26),ce(2,Bj,2,7,"svg",27),ce(3,Zj,13,12,"div",28),tt()),2&e){const n=Te().$implicit;q(1),j("ngForOf",n.labels),q(1),j("ngIf",n.polylines.length>0),q(1),j("ngForOf",n.items)}}function e$(e,t){if(1&e&&(le(0,"div",24),ce(1,Jj,4,3,"ng-container",25),pe()),2&e){const n=t.$implicit;q(1),j("ngIf",n)}}function t$(e,t){1&e&&ce(0,e$,2,1,"div",23),2&e&&j("ngForOf",t.$implicit.layers)}const II=".control-panel[_ngcontent-%COMP%]{position:relative;overflow:hidden;top:0px;left:0px;width:100%;height:100%;padding:0;margin-bottom:0;margin-right:0}.frame-mouse-panel[_ngcontent-%COMP%]{position:absolute;overflow:hidden}.frame-placeholder[_ngcontent-%COMP%]{position:absolute;overflow:hidden;transform-origin:0 0}.titles-mouse-panel[_ngcontent-%COMP%], .titles-placeholder[_ngcontent-%COMP%]{position:absolute;overflow:hidden}.scroll-panel[_ngcontent-%COMP%]{position:absolute;overflow:auto;-webkit-overflow-scrolling:touch}.mouse-panel[_ngcontent-%COMP%]{position:absolute;overflow:hidden}.placeholder[_ngcontent-%COMP%]{position:absolute;overflow:hidden;transform-origin:0 0}.callout-placeholder[_ngcontent-%COMP%]{position:absolute;overflow:visible}.layer[_ngcontent-%COMP%]{position:absolute;overflow:visible;left:0px;top:0px}.label[_ngcontent-%COMP%]{position:absolute;overflow:visible;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-webkit-touch-callout:none;user-select:none;box-sizing:content-box}.template[_ngcontent-%COMP%]{position:absolute;overflow:visible;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-webkit-touch-callout:none;user-select:none;box-sizing:content-box;padding:0;margin:0}.label-annotation[_ngcontent-%COMP%]{position:absolute;overflow:visible;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-webkit-touch-callout:none;user-select:none;box-sizing:content-box;width:100%;text-align:center}";function n$(e,t){1&e&&Pn(0)}function i$(e,t){if(1&e){const n=Ps();le(0,"div",13,14),Ze("click",function(r){return hi(n),di(Te().onFrameClick(r))})("mousemove",function(r){return hi(n),di(Te().onFrameMouseMove(r))}),le(2,"div",15,16),ce(4,n$,1,0,"ng-container",10),pe()()}if(2&e){const n=Te(),i=Sn(13);j("ngStyle",n.frameMousePanelStyle),q(2),j("ngStyle",n.framePlaceholderStyle),q(2),j("ngTemplateOutlet",i)("ngTemplateOutletContext",Vn(4,sr,n.framePlaceholder))}}function r$(e,t){1&e&&Pn(0)}function s$(e,t){if(1&e){const n=Ps();le(0,"div",17,18),Ze("mousemove",function(r){return hi(n),di(Te().onFrameMouseMove(r))})("click",function(r){return hi(n),di(Te().onFrameClick(r))}),le(2,"div",19,20),ce(4,r$,1,0,"ng-container",10),pe()()}if(2&e){const n=Te(),i=Sn(13);j("ngStyle",n.titlesMousePanelStyle),q(2),j("ngStyle",n.titlesPlaceholderStyle),q(2),j("ngTemplateOutlet",i)("ngTemplateOutletContext",Vn(4,sr,n.titlesPlaceholder))}}function o$(e,t){1&e&&Pn(0)}function a$(e,t){1&e&&Pn(0)}function l$(e,t){if(1&e&&(le(0,"div",21,22),ce(2,a$,1,0,"ng-container",10),pe()),2&e){const n=Te(),i=Sn(13);j("ngStyle",n.calloutPlaceholderStyle),q(2),j("ngTemplateOutlet",i)("ngTemplateOutletContext",Vn(3,sr,n.calloutPlaceholder))}}function u$(e,t){if(1&e&&(le(0,"div",29)(1,"rotated-text",30),Je(2),pe()()),2&e){const n=t.$implicit;j("ngStyle",n.style),q(1),j("width",n.width)("height",n.height)("orientation",n.orientation)("horizontalAlignment",n.horizontalAlignment)("verticalAlignment",n.verticalAlignment),q(1),Wn(n.label)}}function c$(e,t){if(1&e&&(co(),Ye(0,"path",33)),2&e){const n=t.$implicit;j("ngStyle",n.style),Cn("d",n.data)}}function h$(e,t){if(1&e&&(co(),le(0,"svg",31),ce(1,c$,1,2,"path",32),pe()),2&e){const n=Te(2).$implicit,i=Te().$implicit;j("ngStyle",fh(4,wv,i.size.width+"px",i.size.height+"px")),Cn("height.px",i.size.height)("width.px",i.size.width),q(1),j("ngForOf",n.polylines)}}function d$(e,t){if(1&e&&(et(0),Ye(1,"bp-item",38),tt()),2&e){const n=Te().$implicit;q(1),j("itemConfig",n.context.context)("itemTitleFirstFontColor",n.context.itemTitleFirstFontColor)("itemTitleSecondFontColor",n.context.itemTitleSecondFontColor)}}function f$(e,t){if(1&e&&(et(0),Ye(1,"bp-checkbox",39),tt()),2&e){const n=Te().$implicit;q(1),j("id",n.context.id)("isSelected",n.context.isSelected)("label",n.context.selectCheckBoxLabel)}}function p$(e,t){if(1&e&&(et(0),Ye(1,"bp-group-title",40),tt()),2&e){const n=Te().$implicit;q(1),j("options",n.context)("itemConfig",n.context.context)("width",n.context.width)("height",n.context.height)}}function m$(e,t){if(1&e&&(et(0),Ye(1,"bp-cursor",41),tt()),2&e){const n=Te().$implicit;q(1),j("templateConfig",n.context.templateConfig)}}function g$(e,t){if(1&e&&(et(0),Ye(1,"bp-highlight",41),tt()),2&e){const n=Te().$implicit;q(1),j("templateConfig",n.context.templateConfig)}}function v$(e,t){if(1&e&&(et(0),Ye(1,"bp-dot-highlight",41),tt()),2&e){const n=Te().$implicit;q(1),j("templateConfig",n.context.templateConfig)}}function y$(e,t){if(1&e&&(et(0),Ye(1,"bp-level-title",42),tt()),2&e){const n=Te().$implicit;q(1),j("options",n.context)("annotationConfig",n.context.context)("width",n.context.width)("height",n.context.height)}}function _$(e,t){if(1&e&&(et(0),Ye(1,"bp-level-background",43),tt()),2&e){const n=Te().$implicit;q(1),j("annotationConfig",n.context.context)}}function b$(e,t){if(1&e&&(et(0),le(1,"div",44),Je(2),pe(),tt()),2&e){const n=Te().$implicit;q(2),Wn(n.context.context.title)}}function w$(e,t){if(1&e&&(et(0),le(1,"div",44),Je(2),pe(),tt()),2&e){const n=Te().$implicit;q(2),Wn(n.context.context.label)}}function T$(e,t){1&e&&Pn(0)}function C$(e,t){if(1&e&&(et(0),ce(1,T$,1,0,"ng-container",10),tt()),2&e){const n=Te().$implicit;q(1),j("ngTemplateOutlet",n.templateRef)("ngTemplateOutletContext",n.context)}}function S$(e,t){if(1&e&&(le(0,"div",34),et(1,35),ce(2,d$,2,3,"ng-container",36),ce(3,f$,2,3,"ng-container",36),ce(4,p$,2,4,"ng-container",36),ce(5,m$,2,1,"ng-container",36),ce(6,g$,2,1,"ng-container",36),ce(7,v$,2,1,"ng-container",36),ce(8,y$,2,4,"ng-container",36),ce(9,_$,2,1,"ng-container",36),ce(10,b$,3,1,"ng-container",36),ce(11,w$,3,1,"ng-container",36),ce(12,C$,2,2,"ng-container",37),tt(),pe()),2&e){const n=t.$implicit;j("ngStyle",n.style),q(1),j("ngSwitch",n.templateType),q(1),j("ngSwitchCase","itemTemplate"),q(1),j("ngSwitchCase","checkboxTemplate"),q(1),j("ngSwitchCase","groupTitleTemplate"),q(1),j("ngSwitchCase","cursorTemplate"),q(1),j("ngSwitchCase","highlightTemplate"),q(1),j("ngSwitchCase","dotHighlightTemplate"),q(1),j("ngSwitchCase","levelTitleTemplate"),q(1),j("ngSwitchCase","levelBackgroundTemplate"),q(1),j("ngSwitchCase","labelAnnotationTemplate"),q(1),j("ngSwitchCase","annotationLabelTemplate")}}function D$(e,t){if(1&e&&(et(0),ce(1,u$,3,7,"div",26),ce(2,h$,2,7,"svg",27),ce(3,S$,13,12,"div",28),tt()),2&e){const n=Te().$implicit;q(1),j("ngForOf",n.labels),q(1),j("ngIf",n.polylines.length>0),q(1),j("ngForOf",n.items)}}function M$(e,t){if(1&e&&(le(0,"div",24),ce(1,D$,4,3,"ng-container",25),pe()),2&e){const n=t.$implicit;q(1),j("ngIf",n)}}function I$(e,t){1&e&&ce(0,M$,2,1,"div",23),2&e&&j("ngForOf",t.$implicit.layers)}var si=(()=>{return(e=si||(si={}))[e.Auto=0]="Auto",e[e.Left=2]="Left",e[e.Right=3]="Right",si;var e})(),gt=(()=>{return(e=gt||(gt={}))[e.Connector=0]="Connector",e[e.Shape=1]="Shape",e[e.HighlightPath=2]="HighlightPath",e[e.Label=3]="Label",e[e.Background=4]="Background",e[e.Level=5]="Level",gt;var e})(),js=(()=>{return(e=js||(js={}))[e.Auto=0]="Auto",e[e.Vertical=1]="Vertical",e[e.Horizontal=2]="Horizontal",e[e.Matrix=3]="Matrix",js;var e})(),Od=(()=>{return(e=Od||(Od={})).AliceBlue="#f0f8ff",e.AntiqueWhite="#faebd7",e.Aqua="#00ffff",e.Aquamarine="#7fffd4",e.Azure="#f0ffff",e.Beige="#f5f5dc",e.Bisque="#ffe4c4",e.Black="#000000",e.BlanchedAlmond="#ffebcd",e.Blue="#0000ff",e.BlueViolet="#8a2be2",e.Brown="#a52a2a",e.BurlyWood="#deb887",e.Bronze="#cd7f32",e.CadetBlue="#5f9ea0",e.ChartReuse="#7fff00",e.Chocolate="#d2691e",e.Coral="#ff7f50",e.CornflowerBlue="#6495ed",e.Cornsilk="#fff8dc",e.Crimson="#dc143c",e.Cyan="#00ffff",e.DarkBlue="#00008b",e.DarkCyan="#008b8b",e.DarkGoldenrod="#b8860b",e.DarkGray="#a9a9a9",e.DarkGreen="#006400",e.DarkKhaki="#bdb76b",e.DarkMagenta="#8b008b",e.DarkOliveGreen="#556b2f",e.Darkorange="#ff8c00",e.DarkOrchid="#9932cc",e.DarkRed="#8b0000",e.DarkSalmon="#e9967a",e.DarkSeaGreen="#8fbc8f",e.DarkSlateBlue="#483d8b",e.DarkSlateGray="#2f4f4f",e.DarkTurquoise="#00ced1",e.DarkViolet="#9400d3",e.DeepPink="#ff1493",e.DeepSkyBlue="#00bfff",e.DimGray="#696969",e.DodgerBlue="#1e90ff",e.FireBrick="#b22222",e.FloralWhite="#fffaf0",e.ForestGreen="#228b22",e.Fuchsia="#ff00ff",e.Gainsboro="#dcdcdc",e.GhostWhite="#f8f8ff",e.Gold="#ffd700",e.Goldenrod="#daa520",e.Gray="#808080",e.Green="#008000",e.GreenYellow="#adff2f",e.Honeydew="#f0fff0",e.Hotpink="#ff69b4",e.IndianRed="#cd5c5c",e.Indigo="#4b0082",e.Ivory="#fffff0",e.Khaki="#f0e68c",e.Lavender="#e6e6fa",e.LavenderBlush="#fff0f5",e.Lawngreen="#7cfc00",e.Lemonchiffon="#fffacd",e.LightBlue="#add8e6",e.LightCoral="#f08080",e.LightCyan="#e0ffff",e.LightGoldenrodYellow="#fafad2",e.LightGray="#d3d3d3",e.LightGreen="#90ee90",e.LightPink="#ffb6c1",e.LightSalmon="#ffa07a",e.LightSeaGreen="#20b2aa",e.LightSkyBlue="#87cefa",e.LightSlateGray="#778899",e.LightSteelBlue="#b0c4de",e.LightYellow="#ffffe0",e.Lime="#00ff00",e.Limegreen="#32cd32",e.Linen="#faf0e6",e.Magenta="#ff00ff",e.Maroon="#800000",e.MediumAquamarine="#66cdaa",e.MediumBlue="#0000cd",e.MediumOrchid="#ba55d3",e.MediumPurple="#9370d8",e.MediumSeaGreen="#3cb371",e.MediumSlateBlue="#7b68ee",e.MediumSpringGreen="#00fa9a",e.MediumTurquoise="#48d1cc",e.MediumVioletRed="#c71585",e.MidnightBlue="#191970",e.MintCream="#f5fffa",e.MistyRose="#ffe4e1",e.Moccasin="#ffe4b5",e.NavajoWhite="#ffdead",e.Navy="#000080",e.Oldlace="#fdf5e6",e.Olive="#808000",e.Olivedrab="#6b8e23",e.Orange="#ffa500",e.OrangeRed="#ff4500",e.Orchid="#da70d6",e.PaleGoldenRod="#eee8aa",e.PaleGreen="#98fb98",e.PaleTurquoise="#afeeee",e.PaleVioletRed="#d87093",e.Papayawhip="#ffefd5",e.Peachpuff="#ffdab9",e.Peru="#cd853f",e.Pink="#ffc0cb",e.Plum="#dda0dd",e.PowderBlue="#b0e0e6",e.Purple="#800080",e.Red="#ff0000",e.RosyBrown="#bc8f8f",e.RoyalBlue="#4169e1",e.SaddleBrown="#8b4513",e.Salmon="#fa8072",e.SandyBrown="#f4a460",e.SeaGreen="#2e8b57",e.Seashell="#fff5ee",e.Sienna="#a0522d",e.Silver="#c0c0c0",e.SkyBlue="#87ceeb",e.SlateBlue="#6a5acd",e.SlateGray="#708090",e.Snow="#fffafa",e.SpringGreen="#00ff7f",e.SteelBlue="#4682b4",e.Tan="#d2b48c",e.Teal="#008080",e.Thistle="#d8bfd8",e.Tomato="#ff6347",e.Turquoise="#40e0d0",e.Violet="#ee82ee",e.Wheat="#f5deb3",e.White="#ffffff",e.WhiteSmoke="#f5f5f5",e.Yellow="#ffff00",e.YellowGreen="#9acd32",Od;var e})(),Rd=(()=>{return(e=Rd||(Rd={}))[e.From=0]="From",e[e.Between=1]="Between",e[e.To=2]="To",Rd;var e})(),Ou=(()=>{return(e=Ou||(Ou={}))[e.Offbeat=0]="Offbeat",e[e.Straight=1]="Straight",Ou;var e})(),Ru=(()=>{return(e=Ru||(Ru={}))[e.OneWay=0]="OneWay",e[e.TwoWay=1]="TwoWay",e[e.BothWay=2]="BothWay",Ru;var e})(),Fu=(()=>{return(e=Fu||(Fu={}))[e.Squared=0]="Squared",e[e.Angular=1]="Angular",e[e.Curved=2]="Curved",Fu;var e})(),jo=(()=>{return(e=jo||(jo={}))[e.None=0]="None",e[e.Dot=1]="Dot",e[e.Bevel=2]="Bevel",e[e.Round=3]="Round",jo;var e})(),Tt=(()=>{return(e=Tt||(Tt={}))[e.Auto=0]="Auto",e[e.True=1]="True",e[e.False=2]="False",Tt;var e})(),zi=(()=>{return(e=zi||(zi={}))[e.None=0]="None",e[e.Parents=1]="Parents",e[e.Children=2]="Children",zi;var e})(),Ln=(()=>{return(e=Ln||(Ln={}))[e.Center=0]="Center",e[e.Left=1]="Left",e[e.Right=2]="Right",Ln;var e})(),Fd=(()=>{return(e=Fd||(Fd={}))[e.Regular=0]="Regular",e[e.Assistant=1]="Assistant",e[e.SubAssistant=4]="SubAssistant",e[e.Adviser=2]="Adviser",e[e.SubAdviser=5]="SubAdviser",e[e.GeneralPartner=6]="GeneralPartner",e[e.LimitedPartner=7]="LimitedPartner",e[e.AdviserPartner=8]="AdviserPartner",Fd;var e})(),Lu=(()=>{return(e=Lu||(Lu={}))[e.LevelAnnotation=1]="LevelAnnotation",e[e.BackgroundAnnotation=2]="BackgroundAnnotation",e[e.BackgroundAnnotations=3]="BackgroundAnnotations",e[e.BackgroundConnectorAnnotation=4]="BackgroundConnectorAnnotation",e[e.BackgroundHighlightPathAnnotations=5]="BackgroundHighlightPathAnnotations",e[e.Connector=6]="Connector",e[e.ForegroundHighlightPathAnnotations=7]="ForegroundHighlightPathAnnotations",e[e.Highlight=8]="Highlight",e[e.Marker=9]="Marker",e[e.Label=10]="Label",e[e.Cursor=11]="Cursor",e[e.Item=12]="Item",e[e.ForegroundAnnotations=13]="ForegroundAnnotations",e[e.ForegroundConnectorAnnotation=14]="ForegroundConnectorAnnotation",e[e.Annotation=15]="Annotation",e[e.Controls=16]="Controls",Lu;var e})(),tn=(()=>{return(e=tn||(tn={}))[e.Solid=0]="Solid",e[e.Dotted=1]="Dotted",e[e.Dashed=2]="Dashed",tn;var e})(),$o=(()=>{return(e=$o||($o={}))[e.Default=0]="Default",e[e.CursorOnly=1]="CursorOnly",e[e.HighlightOnly=3]="HighlightOnly",e[e.Inactive=2]="Inactive",$o;var e})(),Nu=(()=>{return(e=Nu||(Nu={}))[e.ParentsAndChildren=0]="ParentsAndChildren",e[e.ParentsChildrenSiblingsAndSpouses=1]="ParentsChildrenSiblingsAndSpouses",Nu;var e})(),Hi=(()=>{return(e=Hi||(Hi={}))[e.Top=0]="Top",e[e.Bottom=1]="Bottom",e[e.Left=2]="Left",e[e.Right=3]="Right",e[e.None=4]="None",Hi;var e})(),Mi=(()=>{return(e=Mi||(Mi={}))[e.None=0]="None",e[e.PageWidth=1]="PageWidth",e[e.PageHeight=2]="PageHeight",e[e.FitToPage=3]="FitToPage",e[e.AutoSize=5]="AutoSize",e[e.SelectionOnly=6]="SelectionOnly",Mi;var e})(),Ss=(()=>{return(e=Ss||(Ss={}))[e.Auto=0]="Auto",e[e.TopLeft=8]="TopLeft",e[e.Top=1]="Top",e[e.TopRight=2]="TopRight",e[e.RightTop=11]="RightTop",e[e.Right=3]="Right",e[e.RightBottom=12]="RightBottom",e[e.BottomRight=4]="BottomRight",e[e.Bottom=5]="Bottom",e[e.BottomLeft=6]="BottomLeft",e[e.LeftBottom=10]="LeftBottom",e[e.Left=7]="Left",e[e.LeftTop=9]="LeftTop",Ss;var e})(),$s=(()=>{return(e=$s||($s={}))[e.Line=0]="Line",e[e.Move=1]="Move",e[e.QuadraticArc=2]="QuadraticArc",e[e.CubicArc=3]="CubicArc",e[e.Dot=4]="Dot",$s;var e})(),Wo=(()=>{return(e=Wo||(Wo={}))[e.None=0]="None",e[e.FullStack=1]="FullStack",Wo;var e})(),Ws=(()=>{return(e=Ws||(Ws={}))[e.Rectangle=0]="Rectangle",e[e.Oval=1]="Oval",e[e.Triangle=2]="Triangle",e[e.CrossOut=3]="CrossOut",e[e.Circle=4]="Circle",e[e.Rhombus=5]="Rhombus",e[e.Wedge=7]="Wedge",e[e.FramedOval=8]="FramedOval",e[e.FramedTriangle=9]="FramedTriangle",e[e.FramedWedge=10]="FramedWedge",e[e.FramedRhombus=11]="FramedRhombus",e[e.None=6]="None",Ws;var e})(),Gt=(()=>{return(e=Gt||(Gt={}))[e.Horizontal=0]="Horizontal",e[e.RotateLeft=1]="RotateLeft",e[e.RotateRight=2]="RotateRight",e[e.Auto=3]="Auto",Gt;var e})(),hn=(()=>{return(e=hn||(hn={}))[e.Top=0]="Top",e[e.Middle=1]="Middle",e[e.Bottom=2]="Bottom",hn;var e})(),Er=(()=>{return(e=Er||(Er={}))[e.Auto=0]="Auto",e[e.Normal=1]="Normal",e[e.Dot=2]="Dot",e[e.Line=3]="Line",e[e.Invisible=4]="Invisible",Er;var e})(),Go=(()=>{return(e=Go||(Go={}))[e.Auto=0]="Auto",e[e.Background=1]="Background",e[e.Foreground=2]="Foreground",Go;var e})();class Yr{constructor(t=0,n=0,i=0,r=0,s=null){this.x=t,this.y=n,this.width=i,this.height=r}translate(t,n){return this.x=this.x+t,this.y=this.y+n,this}getCSS(t="px"){return{left:this.x+t,top:this.y+t,width:this.width+t,height:this.height+t}}}class wt{constructor(t=0,n=0){this.width=0,this.height=0,this.width=t,this.height=n}getCSS(t="px"){return{width:this.width+t,height:this.height+t}}space(){return this.width*this.height}}class Nn{constructor(t,n,i,r){this.left=0,this.top=0,this.right=0,this.bottom=0,this.left=t,this.top=n,this.right=i,this.bottom=r}}class Tv{constructor(t=0,n=0){this.x=0,this.y=0,this.x=t,this.y=n}getCSS(t="px"){return{left:this.x+t,top:this.y+t}}}class E${constructor(t,n){this.data=t,this.style=n}}class A${constructor(t,n,i,r,s,o,a){this.label=t,this.width=n,this.height=i,this.orientation=r,this.horizontalAlignment=s,this.verticalAlignment=o,this.style=a}}class x${constructor(t,n,i,r,s){this.templateType=t,this.name=n,this.templateRef=i,this.context=r,this.style=s}}class P${constructor(t){this.layers=[],this.activeLayer=null,this.size=new wt,this.rect=new Yr,this.hasGraphics=!0,this.isVisible=!0,this.name=t,this.layers=[],this.activeLayer=null}}class O${constructor(t){this.items=[],this.polylines=[],this.labels=[],this.name=t}reset(){this.items=[],this.polylines=[],this.labels=[]}}class R${constructor(t){for(var n in this.placeholders={},this.activePlaceholder=null,this.hasGraphics=!0,this.names=[],this.size=t,this.names=[],Lu){let i=parseInt(Lu[n]);this.names[i]=n}}clean(){this.placeholders={},this.activePlaceholder=null}resize(t,n,i){this.activatePlaceholder(t),this.resizePlaceholder(this.activePlaceholder,0,0,n,i)}position(t,n,i,r,s){this.activatePlaceholder(t),this.resizePlaceholder(this.activePlaceholder,n,i,r,s)}show(t){var n=this.placeholders[t];null!=n&&(n.isVisible=!0)}hide(t){var n=this.placeholders[t];null!=n&&(n.isVisible=!1)}resizePlaceholder(t,n,i,r,s){t.size=new wt(r,s),t.rect=new Yr(n,i,r,s)}reset(t,n){const i=this.placeholders[t];null!=i&&i.layers[n]?.reset()}activate(t,n){return this.activatePlaceholder(t),this.activateLayer(n),this.activePlaceholder}activatePlaceholder(t){let n=this.placeholders[t];void 0===n&&(n=new P$(t),n.size=this.size,n.rect=new Yr(0,0,n.size.width,n.size.height),this.placeholders[t]=n),this.activePlaceholder=n}activateLayer(t){if(!this.activePlaceholder)throw"No active placeholder";let i=this.activePlaceholder.layers[t];void 0===i&&(i=new O$(this.names[t]),this.activePlaceholder.layers[t]=i),this.activePlaceholder.activeLayer=i}getPlaceholders(){return this.placeholders}text(t,n,i,r,s,o,a,l,u){if(!this.activePlaceholder||!this.activePlaceholder.activeLayer)throw"No active placeholder or layer";this.activePlaceholder.activeLayer.labels.push(new A$(s,i,r,o,a,l,{...u,top:n+"px",left:t+"px"}))}polyline(t){if(!this.activePlaceholder||!this.activePlaceholder.activeLayer)throw"No active placeholder or layer";var i,r,s,n=t.paletteItem.toAttr(),o={};if(void 0!==n.fillColor?(o.fill=n.fillColor,o.fillOpacity=n.opacity):o.fillOpacity=0,void 0!==n.lineWidth&&void 0!==n.borderColor?(o.stroke=n.borderColor,o.strokeWidth=n.lineWidth,o.strokeOpacity=void 0!==n.opacity?n.opacity:1):(o.stroke="transparent",o.strokeWidth=0),null!=n.lineType)switch(i=Math.round(n.lineWidth)||1,n.lineType){case tn.Dotted:o.strokeDasharray=i+","+i;break;case tn.Dashed:o.strokeDasharray=5*i+","+3*i;break;default:o.strokeDasharray=""}let a="";t.loop(this,function(l){switch(l.segmentType){case $s.Move:a+="M"+(Math.round(l.x)+.5)+" "+(Math.round(l.y)+.5);break;case $s.Line:a+="L"+(Math.round(l.x)+.5)+" "+(Math.round(l.y)+.5);break;case $s.QuadraticArc:a+="Q"+(Math.round(l.cpX)+.5)+" "+(Math.round(l.cpY)+.5)+" "+(Math.round(l.x)+.5)+" "+(Math.round(l.y)+.5);break;case $s.Dot:l.width===l.height&&l.width/2<=l.cornerRadius?(r=l.width/2,a+="M"+(Math.round(l.x)+.5)+" "+(Math.round(l.y)+l.height/2+.5),a+="A"+r+" "+r+" 0 0 0 "+(Math.round(l.x+l.width)+.5)+" "+(Math.round(l.y)+l.height/2+.5),a+="A"+r+" "+r+" 0 0 0 "+(Math.round(l.x)+.5)+" "+(Math.round(l.y)+l.height/2+.5)):0===l.cornerRadius?(a+="M"+(Math.round(l.x)+.5)+" "+(Math.round(l.y)+.5),a+="L"+(Math.round(l.x+l.width)+.5)+" "+(Math.round(l.y)+.5),a+="L"+(Math.round(l.x+l.width)+.5)+" "+(Math.round(l.y+l.height)+.5),a+="L"+(Math.round(l.x)+.5)+" "+(Math.round(l.y+l.height)+.5),a+="L"+(Math.round(l.x)+.5)+" "+(Math.round(l.y)+.5)):(s=Math.min(l.cornerRadius,Math.min(l.width/2,l.height/2)),a+="M"+(Math.round(l.x)+.5)+" "+(Math.round(l.y+s)+.5),a+="A"+Math.round(s)+" "+Math.round(s)+" 0 0 1 "+(Math.round(l.x+s)+.5)+" "+(Math.round(l.y)+.5),a+="L"+(Math.round(l.x+l.width-s)+.5)+" "+(Math.round(l.y)+.5),a+="A"+Math.round(s)+" "+Math.round(s)+" 0 0 1 "+(Math.round(l.x+l.width)+.5)+" "+(Math.round(l.y+s)+.5),a+="L"+(Math.round(l.x+l.width)+.5)+" "+(Math.round(l.y+l.height-s)+.5),a+="A"+Math.round(s)+" "+Math.round(s)+" 0 0 1 "+(Math.round(l.x+l.width-s)+.5)+" "+(Math.round(l.y+l.height)+.5),a+="L"+(Math.round(l.x+s)+.5)+" "+(Math.round(l.y+l.height)+.5),a+="A"+Math.round(s)+" "+Math.round(s)+" 0 0 1 "+(Math.round(l.x)+.5)+" "+(Math.round(l.y+l.height-s)+.5),a+="L"+(Math.round(l.x)+.5)+" "+(Math.round(l.y+s)+.5));break;case $s.CubicArc:a+="C"+(Math.round(l.cpX1)+.5)+" "+(Math.round(l.cpY1)+.5)+" "+(Math.round(l.cpX2)+.5)+" "+(Math.round(l.cpY2)+.5)+" "+(Math.round(l.x)+.5)+" "+(Math.round(l.y)+.5)}}),this.activePlaceholder.activeLayer.polylines.push(new E$(a,o))}polylinesBuffer(t){var n=this;t.loop(this,function(i){i.length()>0&&n.polyline(i)})}template(t,n,i,r,s,o,a,l,u,c,h,d,f){if(!this.activePlaceholder||!this.activePlaceholder.activeLayer)throw"No active placeholder or layer";const p=t+s,m=n+o,g=a,_=l;let b={width:g+"px",height:_+"px",top:m+"px",left:p+"px",...f};var y={...d,...u,x:p,y:m,width:g,height:_},v=null;null!==h&&(v=h(y)),this.activePlaceholder.activeLayer.items.push(new x$(u.templateType,u.templateName,v,y,b))}getPxSize(t,n){var i=t;return"string"==typeof t&&(i=t.indexOf("pt")>0?96*parseInt(t,10)/72:t.indexOf("%")>0?parseFloat(t)/100*n:parseInt(t,10)),i}}class Ui{constructor(t,n){this.options={...n,templateType:t}}template(){return this.options}getHashCode(){return""}render(t){return null}}class F$ extends Ui{constructor(){super("annotationLabelTemplate",{})}}class L$ extends Ui{constructor(){super("dummyTemplate",{})}render(t){const{onButtonsRender:n}=t;return n()}}class N$ extends Ui{constructor(t){super("checkboxTemplate",{selectCheckBoxLabel:t})}}class V$ extends Ui{constructor(t,n){super("cursorTemplate",{...t,templateConfig:n})}}class B$ extends Ui{constructor(t,n){super("dummyTemplate",t),this.render=n}}class z$ extends Ui{constructor(t,n){super("dotHighlightTemplate",{...t,templateConfig:n})}}class H$ extends Ui{constructor(t){super("groupTitleTemplate",t)}}class U$ extends Ui{constructor(t,n){super("highlightTemplate",{...t,templateConfig:n})}}class j$ extends Ui{constructor(t,n){super("itemTemplate",{...t,templateConfig:n})}}class $$ extends Ui{constructor(){super("labelAnnotationTemplate",{})}}class W$ extends Ui{constructor(t){super("levelBackgroundTemplate",t)}}class G$ extends Ui{constructor(t,n){var i=t.levelTitleOrientation;if(t.levelTitleOrientation==Gt.Auto)switch(n){case Hi.Top:case Hi.Bottom:i=Gt.RotateRight}super("levelTitleTemplate",{...t,orientation:n,levelTitleOrientation:i})}}class q$ extends Ui{constructor(t,n,i){super("dummyTemplate",{...t,itemTemplate:n}),this.render=i}}class Cv{constructor(t){this.factory=t}}let Vu=(()=>{class e{constructor(){this.width=0,this.height=0,this.orientation=Gt.RotateRight,this.horizontalAlignment=Ln.Center,this.verticalAlignment=hn.Middle,this.hasVerticalAlignment=!1,this.tableStyle={},this.tdStyle={},this.divStyle={}}ngOnChanges(){const n=this.getTransform(this.orientation);let i={};i=this.orientation===Gt.Horizontal?{width:this.width+"px",height:this.height+"px",maxWidth:this.width+"px",maxHeight:this.height+"px"}:{width:this.height+"px",height:this.width+"px",maxWidth:this.height+"px",maxHeight:this.width+"px",left:Math.round(this.width/2-this.height/2)+"px",top:Math.round(this.height/2-this.width/2)+"px"};var r={position:"absolute",padding:0,margin:0,lineHeight:1,textAlign:this.getHorizontalAlignment(this.horizontalAlignment),WebkitTransformOrigin:"center center",MozTransformOrigin:"center center",OTransformOrigin:"center center",msTransformOrigin:"center center",WebkitTransform:n,MozTransform:n,OTransform:n,msTransform:n,transform:n,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",tableLayout:"fixed",...i};this.hasVerticalAlignment=this.verticalAlignment!==hn.Top,this.tdStyle={verticalAlign:this.getVerticalAlignment(this.verticalAlignment),padding:0,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},this.tableStyle={...r,borderCollapse:"collapse"},this.divStyle=r}getTransform(n){let i="";switch(n){case Gt.RotateLeft:i="rotate(-90deg)";break;case Gt.RotateRight:i="rotate(90deg)"}return i}getHorizontalAlignment(n){let i="";switch(n){case Ln.Center:i="center";break;case Ln.Left:i="left";break;case Ln.Right:i="right"}return i}getVerticalAlignment(n){let i="";switch(n){case hn.Bottom:i="bottom";break;case hn.Middle:i="middle";break;case hn.Top:i="top"}return i}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Vt({type:e,selectors:[["rotated-text"]],inputs:{width:"width",height:"height",orientation:"orientation",horizontalAlignment:"horizontalAlignment",verticalAlignment:"verticalAlignment"},features:[un],ngContentSelectors:$U,decls:7,vars:3,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["tableTemplate",""],["divTemplate",""],["content",""],[3,"ngStyle"],[4,"ngTemplateOutlet"]],template:function(n,i){if(1&n&&(Ra(),ce(0,VU,1,0,"div",0),ce(1,zU,5,3,"ng-template",null,1,Hr),ce(3,UU,2,2,"ng-template",null,2,Hr),ce(5,jU,1,0,"ng-template",null,3,Hr)),2&n){const r=Sn(2),s=Sn(4);j("ngIf",i.hasVerticalAlignment)("ngIfThen",r)("ngIfElse",s)}},dependencies:[ja,ir,lu]}),e})();class ji{constructor(t={}){this.id=null,this.parent=null,this.title=null,this.description=null,this.image=null,this.context=null,this.itemTitleColor="#4169e1",this.minimizedItemShapeType=null,this.groupTitle=null,this.groupTitleColor="#4169e1",this.isVisible=!0,this.isActive=!0,this.hasSelectorCheckbox=Tt.Auto,this.hasButtons=Tt.Auto,this.itemType=Fd.Regular,this.adviserPlacementType=si.Auto,this.childrenPlacementType=js.Auto,this.levelOffset=null,this.placeAssistantsAboveChildren=Tt.Auto,this.placeAdvisersAboveChildren=Tt.Auto,this.templateName=null,this.showCallout=Tt.Auto,this.calloutTemplateName=null,this.label=null,this.showLabel=Tt.Auto,this.labelSize=null,this.labelOrientation=Gt.Auto,Object.assign(this,t)}}let Sv=(()=>{class e{constructor(){this.royalBlue="#000080",this.itemTitleFirstFontColor="#ffffff",this.itemTitleSecondFontColor="#000080",this.itemConfig=new ji,this.backgroundColor="#4169e1",this.color="#ffffff"}ngOnChanges(n){this.backgroundColor=this.itemConfig.itemTitleColor||this.royalBlue,this.color=tM(this.backgroundColor,this.itemTitleSecondFontColor,this.itemTitleFirstFontColor)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Vt({type:e,selectors:[["bp-item"]],inputs:{itemTitleFirstFontColor:"itemTitleFirstFontColor",itemTitleSecondFontColor:"itemTitleSecondFontColor",itemConfig:"itemConfig"},features:[un],decls:8,vars:10,consts:[[1,"item","corner-all","item-frame","default-template"],[1,"title-background","item","corner-all","item-frame",3,"ngStyle"],[1,"item","item-title",3,"ngStyle"],[1,"photo-frame","item"],[1,"photo",3,"src","alt"],[1,"item","description"]],template:function(n,i){1&n&&(le(0,"div",0)(1,"div",1)(2,"div",2),Je(3),pe()(),le(4,"div",3),Ye(5,"img",4),pe(),le(6,"div",5),Je(7),pe()()),2&n&&(q(1),j("ngStyle",Vn(6,WU,i.backgroundColor)),q(1),j("ngStyle",Vn(8,GU,i.color)),q(1),Wn(i.itemConfig.title),q(2),j("src",i.itemConfig.image,Np)("alt",i.itemConfig.title),q(2),Wn(i.itemConfig.description))},dependencies:[ir],styles:[".item[_ngcontent-%COMP%]{position:absolute;overflow:visible;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-webkit-touch-callout:none;user-select:none;box-sizing:content-box}.corner-all[_ngcontent-%COMP%]{border-radius:4px}.item-frame[_ngcontent-%COMP%]{border:1px solid #dddddd;background:#eeeeee;color:#333}.default-template[_ngcontent-%COMP%]{width:100%;height:100%;left:-1px;top:-1px}.item-title[_ngcontent-%COMP%]{text-overflow:ellipsis;-o-text-overflow:ellipsis;white-space:nowrap;text-align:left;font-size:14px;line-height:16px;color:#fff;padding:0;top:2px;left:2px;right:2px;height:16px}.title-background[_ngcontent-%COMP%]{top:2px;left:2px;right:2px;height:20px}.photo-frame[_ngcontent-%COMP%]{border:1px solid #cccccc;background:#f6f6f6;color:#1c94c4;top:26px;left:2px;width:50px;height:60px}.photo[_ngcontent-%COMP%]{height:60px;width:50px}.description[_ngcontent-%COMP%]{overflow:hidden;text-align:left;top:26px;left:56px;right:2px;bottom:2px;font-size:12px}"]}),e})(),Dv=(()=>{class e{constructor(){this.id=null,this.label="Selected",this.isSelected=!1,this.onChange=()=>null,this.borderWidth="1px"}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Vt({type:e,selectors:[["bp-checkbox"]],inputs:{id:"id",label:"label",isSelected:"isSelected"},decls:4,vars:4,consts:[[1,"checkbox-div"],["type","checkbox","name","checkbox",1,"checkbox-input",3,"checked","change"],["name","selectiontext",1,"checkbox-span"]],template:function(n,i){1&n&&(le(0,"div",0)(1,"input",1),Ze("change",function(){return i.onChange}),pe(),le(2,"span",2),Je(3),pe()()),2&n&&(q(1),j("checked",i.isSelected),Cn("data-id",i.id),q(1),Cn("data-id",i.id),q(1),Co(" ",i.label," "))},styles:[".checkbox-div[_ngcontent-%COMP%]{text-align:left}.checkbox-input[_ngcontent-%COMP%]{font-size:12px;line-height:12px;vertical-align:middle;margin:0;padding:0}.checkbox-span[_ngcontent-%COMP%]{font-size:12px;line-height:12px;vertical-align:middle;margin:0;padding:0 0 0 2px}"]}),e})();class K${constructor(t={}){this.groupTitleFontSize="12px",this.groupTitleFontFamily="Arial",this.groupTitleFontWeight="normal",this.groupTitleFontStyle="normal",this.itemTitleSecondFontColor="#000080",this.itemTitleFirstFontColor="#ffffff",this.groupTitleOrientation=Gt.RotateRight,this.groupTitleHorizontalAlignment=Ln.Center,this.groupTitleVerticalAlignment=hn.Middle,this.groupTitleColor="#4169e1",Object.assign(this,t)}}let Mv=(()=>{class e{constructor(){this.options=new K$,this.itemConfig=new ji,this.width=0,this.height=0,this.divStyle=null,this.label=""}ngOnChanges(n){const i=this.itemConfig.groupTitleColor||this.options.groupTitleColor,r=tM(i,this.options.itemTitleSecondFontColor,this.options.itemTitleFirstFontColor);this.divStyle={backgroundColor:i,color:r,fontSize:this.options.groupTitleFontSize,fontFamily:this.options.groupTitleFontFamily,fontWeight:this.options.groupTitleFontWeight,fontStyle:this.options.groupTitleFontStyle},this.label=(this.itemConfig.groupTitle||"").replace("\n","<br/>")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Vt({type:e,selectors:[["bp-group-title"]],inputs:{options:"options",itemConfig:"itemConfig",width:"width",height:"height"},features:[un],decls:3,vars:7,consts:[[1,"group-title",3,"ngStyle"],[3,"width","height","orientation","horizontalAlignment","verticalAlignment"]],template:function(n,i){1&n&&(le(0,"div",0)(1,"rotated-text",1),Je(2),pe()()),2&n&&(j("ngStyle",i.divStyle),q(1),j("width",i.width)("height",i.height)("orientation",i.options.groupTitleOrientation)("horizontalAlignment",i.options.groupTitleHorizontalAlignment)("verticalAlignment",i.options.groupTitleVerticalAlignment),q(1),Wn(i.label))},dependencies:[Vu,ir],styles:[".group-title[_ngcontent-%COMP%]{position:absolute;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-webkit-touch-callout:none;user-select:none;box-sizing:content-box;border-radius:4px;background:royalblue;border-width:0;color:#fff;padding:0;width:100%;height:100%;left:-1px;top:-1px}"]}),e})();class Iv{constructor(t={}){this.name=null,this.isActive=!0,this.itemSize=new wt(120,100),this.itemBorderWidth=1,this.itemTemplate=null,this.minimizedItemShapeType=null,this.minimizedItemSize=new wt(4,4),this.minimizedItemCornerRadius=null,this.minimizedItemLineWidth=1,this.minimizedItemBorderColor=null,this.minimizedItemLineType=tn.Solid,this.minimizedItemFillColor=null,this.minimizedItemOpacity=1,this.highlightPadding=new Nn(2,2,2,2),this.highlightBorderWidth=1,this.highlightTemplate=null,this.cursorPadding=new Nn(3,3,3,3),this.cursorBorderWidth=2,this.cursorTemplate=null,this.buttonsTemplate=null,Object.assign(this,t)}}let kv=(()=>{class e{constructor(){this.templateConfig=new Iv,this.borderWidth="1px",this.width="0px",this.height="0px"}ngOnChanges(n){const{cursorPadding:i,itemSize:r,cursorBorderWidth:s}=this.templateConfig;this.width=r.width+i.left+i.right+"px",this.height=r.height+i.top+i.bottom+"px",this.borderWidth=s+"px"}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Vt({type:e,selectors:[["bp-cursor"]],inputs:{templateConfig:"templateConfig"},features:[un],decls:1,vars:5,consts:[[1,"cursor",3,"ngStyle"]],template:function(n,i){1&n&&Ye(0,"div",0),2&n&&j("ngStyle",LC(1,qU,i.width,i.height,i.borderWidth))},dependencies:[ir],styles:[".cursor[_ngcontent-%COMP%]{position:absolute;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-webkit-touch-callout:none;user-select:none;box-sizing:content-box;border-radius:4px;border:2px solid #fbd850;color:#eb8f00;width:100%;height:100%;left:-2px;top:-2px}"]}),e})(),Ev=(()=>{class e{constructor(){this.templateConfig=new Iv,this.borderWidth="1px"}ngOnChanges(n){const{highlightBorderWidth:i}=this.templateConfig;this.borderWidth=i+"px"}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Vt({type:e,selectors:[["bp-highlight"]],inputs:{templateConfig:"templateConfig"},features:[un],decls:1,vars:3,consts:[[1,"highlight",3,"ngStyle"]],template:function(n,i){1&n&&Ye(0,"div",0),2&n&&j("ngStyle",Vn(1,KU,i.borderWidth))},dependencies:[ir],styles:[".highlight[_ngcontent-%COMP%]{position:absolute;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-webkit-touch-callout:none;user-select:none;box-sizing:content-box;border-radius:4px;border:1px solid #fbcb09;background:#fdf5ce;color:#c77405;width:100%;height:100%;left:-1px;top:-1px}"]}),e})(),Av=(()=>{class e{constructor(){this.templateConfig=new Iv,this.divStyle={}}ngOnChanges(n){const{minimizedItemCornerRadius:i,highlightPadding:r,highlightBorderWidth:s,minimizedItemSize:o}=this.templateConfig;let a=0;a=null===i?Math.max(o.width/2,o.height/2)+r.left:i+r.left,this.divStyle={borderWidth:s+"px",left:-s+"px",top:-s+"px","-moz-border-radius":a+"px","-webkit-border-radius":a+"px","-khtml-border-radius":a+"px","border-radius":a+"px"}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Vt({type:e,selectors:[["bp-dot-highlight"]],inputs:{templateConfig:"templateConfig"},features:[un],decls:1,vars:1,consts:[[1,"dot-highlight",3,"ngStyle"]],template:function(n,i){1&n&&Ye(0,"div",0),2&n&&j("ngStyle",i.divStyle)},dependencies:[ir],styles:[".dot-highlight[_ngcontent-%COMP%]{position:absolute;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-webkit-touch-callout:none;user-select:none;box-sizing:content-box;border:1px solid #fbcb09;background:#fdf5ce;color:#c77405;width:100%;height:100%;left:0px;top:0px}"]}),e})();class kI{constructor(t={}){this.annotationType=gt.Level,this.levels=[],this.title=null,this.titleFontColor=null,this.titleColor=null,this.offset=new Nn(0,0,0,0),this.lineWidth=new Nn(0,0,0,0),this.opacity=1,this.borderColor=null,this.fillColor="#D4D4D4",this.lineType=tn.Solid,Object.assign(this,t)}}class X${constructor(t={}){this.levelTitleFontSize="12px",this.levelTitleFontFamily="Arial",this.levelTitleFontWeight="normal",this.levelTitleFontStyle="normal",this.levelTitleFontColor="#ffffff",this.levelTitleOrientation=Gt.Auto,this.levelTitleHorizontalAlignment=Ln.Center,this.levelTitleVerticalAlignment=hn.Middle,this.levelTitleColor="#4169e1",Object.assign(this,t)}}let xv=(()=>{class e{constructor(){this.options=new X$,this.annotationConfig=new kI,this.width=0,this.height=0,this.divStyle=null,this.label=""}ngOnChanges(n){this.divStyle={backgroundColor:this.annotationConfig.titleColor||this.options.levelTitleColor,color:this.annotationConfig.titleFontColor||this.options.levelTitleFontColor,fontSize:this.options.levelTitleFontSize,fontFamily:this.options.levelTitleFontFamily,fontWeight:this.options.levelTitleFontWeight,fontStyle:this.options.levelTitleFontStyle},this.label=(this.annotationConfig.title||"").replace("\n","<br/>")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Vt({type:e,selectors:[["bp-level-title"]],inputs:{options:"options",annotationConfig:"annotationConfig",width:"width",height:"height"},features:[un],decls:3,vars:7,consts:[[1,"level-title",3,"ngStyle"],[3,"width","height","orientation","horizontalAlignment","verticalAlignment"]],template:function(n,i){1&n&&(le(0,"div",0)(1,"rotated-text",1),Je(2),pe()()),2&n&&(j("ngStyle",i.divStyle),q(1),j("width",i.width)("height",i.height)("orientation",i.options.levelTitleOrientation)("horizontalAlignment",i.options.levelTitleHorizontalAlignment)("verticalAlignment",i.options.levelTitleVerticalAlignment),q(1),Wn(i.label))},dependencies:[Vu,ir],styles:[".level-title[_ngcontent-%COMP%]{position:absolute;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-webkit-touch-callout:none;user-select:none;box-sizing:content-box;border-radius:4px;background:royalblue;border-width:0;color:#fff;padding:0;width:100%;height:100%;left:-1px;top:-1px}"]}),e})();function Q$(e){var t=null;switch(e){case tn.Dotted:t="dotted";break;case tn.Dashed:t="dashed";break;default:t="solid"}return t}let Pv=(()=>{class e{constructor(){this.annotationConfig=new kI,this.divStyle={}}ngOnChanges(n){this.divStyle={opacity:this.annotationConfig.opacity,borderColor:this.annotationConfig.borderColor,backgroundColor:this.annotationConfig.fillColor,borderWidth:this.annotationConfig.lineWidth.toString(),borderStyle:Q$(this.annotationConfig.lineType)}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Vt({type:e,selectors:[["bp-level-background"]],inputs:{annotationConfig:"annotationConfig"},features:[un],decls:1,vars:1,consts:[[1,"level-background",3,"ngStyle"]],template:function(n,i){1&n&&Ye(0,"div",0),2&n&&j("ngStyle",i.divStyle)},dependencies:[ir],styles:[".level-background[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}"]}),e})();class Ov{constructor(t={}){this.autoSize=!1,this.controlSize=new wt,this.scale=1,this.frameMousePanelRect=new Yr,this.framePlaceholderSize=new wt,this.titlesMousePanelRect=new Yr,this.titlesPlaceholderSize=new wt,this.scrollPanelRect=new Yr,this.mousePanelSize=new wt,this.placeholderSize=new wt,Object.assign(this,t)}}class Y${constructor(){this.viewportSize=new wt(0,0),this.contentPosition=new Tv(0,0),this.centerOnCursor=!0,this.highlightItem=null,this.cursorItem=null,this.selectedItems=[]}}let EI=(()=>{class e{constructor(n,i,r){this.host=n,this.zone=i,this.centerOnCursor=!0,this.state=new Y$,this.layoutOptions=new Ov,this.timer=null,this.templatesHash={},this.placeholder=null,this.framePlaceholder=null,this.titlesPlaceholder=null,this.calloutPlaceholder=null,this.controlPanelStyle={},this.frameMousePanelStyle={},this.framePlaceholderStyle={},this.titlesMousePanelStyle={},this.titlesPlaceholderStyle={},this.scrollPanelStyle={},this.placeholderOffset=void 0,this.mousePanelStyle={},this.placeholderStyle={},this.calloutPlaceholderStyle={},this.taskManagerFactory=r,this.graphics=new R$(new wt(0,0));var s={AnnotationLabelTemplate:F$,ButtonsTemplate:L$,CheckBoxTemplate:N$,CursorTemplate:V$,DotHighlightTemplate:z$,GroupTitleTemplate:H$,HighlightTemplate:U$,ItemTemplate:j$,UserTemplate:q$,CustomRenderTemplate:B$,LabelAnnotationTemplate:$$,LevelTitleTemplate:G$,LevelBackgroundTemplate:W$};this.tasks=r.factory(this.getOptions.bind(this),this.getGraphics.bind(this),this.getLayout.bind(this),this.setLayout.bind(this),s),this.layoutOptions=new Ov}ngAfterViewInit(){var n=this.onSizeChanged.bind(this);this.observer=new ResizeObserver(()=>this.zone.run(()=>n())),this.observer.observe(this.controlPanelRef.nativeElement),this.fixPixelAlignment()}_onHighlightChanging(n,i,r){}_onHighlightChanged(n){}_onCursorChanging(n,i,r){}_onCursorChanged(n){}_onSelectionChanging(n,i,r){}_onSelectionChanged(n){}onItemRender(n){const{templateName:i}=n;return this.templatesHash[i].itemTemplate}onHighlightRender(n){const{templateName:i}=n;return this.templatesHash[i].highlightTemplate}onCursorRender(n){const{templateName:i}=n;return this.templatesHash[i].cursorTemplate}getOptions(){const{config:n}=this.state,i=n.templates||[];this.templatesHash={},i.forEach(l=>{this.templatesHash[l.name]=l});const r=i.map(l=>{const{buttonsTemplate:u}=l;return{...l,onButtonsRender:u?()=>u:null}}),{highlightItem:s,cursorItem:o,selectedItems:a}=this.state;return{...n,templates:r,highlightItem:s,cursorItem:o,selectedItems:a,onItemRender:this.onItemRender.bind(this),onCursorRender:this.onCursorRender.bind(this),onHighlightRender:this.onHighlightRender.bind(this),onGroupTitleRender:n.groupTitleTemplate?()=>n.groupTitleTemplate:null,onLevelBackgroundRender:n.levelBackgroundTemplate?()=>n.levelBackgroundTemplate:null,onLevelTitleRender:n.levelTitleTemplate?()=>n.levelTitleTemplate:null,onButtonsRender:n.buttonsTemplate?()=>n.buttonsTemplate:null}}getGraphics(){return this.graphics}getLayout(){var i=this.state.viewportSize,r=this.state.contentPosition;return{forceCenterOnCursor:this.state.centerOnCursor,scrollPanelSize:new wt(i.width,i.height),placeholderOffset:new Tv(r.x,r.y)}}setLayout(n){const{autoSize:i,controlSize:r,scale:s,frameMousePanelRect:o,framePlaceholderSize:a,titlesMousePanelRect:l,titlesPlaceholderSize:u,scrollPanelRect:c,mousePanelSize:h,placeholderSize:d}=n;this.layoutOptions=new Ov({autoSize:i,controlSize:new wt(r.width,r.height),scale:s,frameMousePanelRect:new Yr(o.x,o.y,o.width,o.height),framePlaceholderSize:new wt(a.width,a.height),titlesMousePanelRect:new Yr(l.x,l.y,l.width,l.height),titlesPlaceholderSize:new wt(u.width,u.height),scrollPanelRect:new Yr(c.x,c.y,c.width,c.height),mousePanelSize:new wt(h.width,h.height),placeholderSize:new wt(d.width,d.height)})}fixPixelAlignment(){const{nativeElement:n}=this.controlPanelRef;var i=function y3(e){var t=e.getBoundingClientRect(),n=t.top+document.body.scrollTop,i=t.left+document.body.scrollLeft;return new Fe(-i+Math.floor(i),-n+Math.floor(n))}(n);n.style.marginLeft=i.width+"px",n.style.marginTop=i.height+"px"}onSizeChanged(){const{width:n,height:i}=function _3(e){var t=window.getComputedStyle(e);return new Fe(parseInt(t.width,10),parseInt(t.height,10))}(this.controlPanelRef.nativeElement);this.setState({viewportSize:new wt(n,i),centerOnCursor:!0})}onScroll(n){null==this.timer&&(this.timer=window.setTimeout(this.onRefreshViewport.bind(this),100))}onRefreshViewport(){window.clearTimeout(this.timer),this.timer=null;const{scrollTop:n,scrollLeft:i}=this.scrollPanelRef.nativeElement;this.setState({contentPosition:new Tv(Math.floor(i),Math.floor(n)),centerOnCursor:!1})}onFrameMouseMove(n){const i=nl(this.frameMousePanelRef.nativeElement),r=n.pageX-i.left,s=n.pageY-i.top,o=this.tasks.getTask("ProjectItemsToFrameTask"),a=this.tasks.getTask("HighlightItemOptionTask");if(a.hasHighlightEnabled()){const l=o.getTreeItemForMousePosition(r,s,a.getGravityRadius());this.setHighlightItem(n,l)}}onFrameClick(n){const i=nl(this.frameMousePanelRef.nativeElement),r=n.pageX-i.left,s=n.pageY-i.top,o=this.tasks.getTask("ProjectItemsToFrameTask"),a=this.tasks.getTask("CursorItemOptionTask"),l=this.tasks.getTask("HighlightItemOptionTask"),u=o.getTreeItemForMousePosition(r,s,l.getGravityRadius());null!==u&&a.hasCursorEnabled()&&(this.setCursorItem(n,u),this.controlPanelRef.nativeElement.focus())}onMouseMove(n){const i=nl(this.mousePanelRef.nativeElement),r=n.pageX-i.left,s=n.pageY-i.top,o=this.tasks.getTask("CreateTransformTask"),a=this.tasks.getTask("HighlightItemOptionTask");if(a.hasHighlightEnabled()){const l=o.getTreeItemForMousePosition(r,s,a.getGravityRadius());this.setHighlightItem(n,l)}}getEventArgs(n,i,r=null){var c,h,d,s={},o=this.tasks.getTask("CombinedContextsTask"),a=this.tasks.getTask("AlignDiagramTask"),l=o.getConfig(n),u=o.getConfig(i);return l&&null!=l.id&&(s.oldContext=l),u&&null!=u.id&&(s.context=u,null!==u.parent&&(s.parentItem=o.getConfig(u.parent)),d=nl(this.mousePanelRef.nativeElement),h=nl(this.scrollPanelRef.nativeElement),c=a.getItemPosition(i),s.position=new Yr(c.actualPosition).translate(d.left,d.top).translate(-h.left,-h.top)),null!=r&&(s.name=r),s}setHighlightItem(n,i){let r;const{highlightItem:o}=this.state;i!==o&&(r=this._onHighlightChanging(n,o,i),r.cancel||(this.setState({highlightItem:i}),this._onHighlightChanged(r)))}setCursorItem(n,i){let r;const{cursorItem:o}=this.state;i!==o&&(r=this._onCursorChanging(n,o,i),r.cancel||(this.setState({cursorItem:i,centerOnCursor:!0}),this._onCursorChanged(r)))}onClick(n){var i=nl(this.mousePanelRef.nativeElement),r=n.pageX-i.left,s=n.pageY-i.top,o=this.tasks.getTask("CreateTransformTask"),a=this.tasks.getTask("CursorItemOptionTask"),l=this.tasks.getTask("HighlightItemOptionTask"),u=o.getTreeItemForMousePosition(r,s,l.getGravityRadius()),c=n.target;null!==u&&("checkbox"===c.getAttribute("name")||"selectiontext"===c.getAttribute("name")||a.hasCursorEnabled()&&(this.setCursorItem(n,u),this.controlPanelRef.nativeElement.focus()))}onCheckboxChange(n){let{selectedItems:i}=this.state,r=[];const s=n.target;var o=s.getAttribute("data-id");if(null!=o){r=s.checked?[...i,o]:i.filter(c=>c!=o);var u=this._onSelectionChanging(n,i,r);u.cancel||(this.setState({selectedItems:r}),this._onSelectionChanged(u))}}onKeyDown(n){var h,f,i=this.tasks.getTask("HighlightItemTask"),r=this.tasks.getTask("HighlightItemOptionTask"),s=this.tasks.getTask("CursorItemTask"),o=this.tasks.getTask("CursorItemOptionTask"),a=this.tasks.getTask("AlignDiagramTask"),u=this.tasks.getTask("CreateTransformTask").getTransform(),c=null,d=null;if(r.hasHighlightEnabled()&&o.hasCursorEnabled()?null===(c=i.getHighlightTreeItem())&&(c=s.getCursorTreeItem()):r.hasHighlightEnabled()?c=i.getHighlightTreeItem():o.hasCursorEnabled()&&(c=s.getCursorTreeItem()),null!=c){switch(n.which){case 13:o.hasCursorEnabled()&&(this.setCursorItem(n,c),n.preventDefault(),this.controlPanelRef.nativeElement.focus());break;case 40:d=Hi.Bottom;break;case 38:d=Hi.Top;break;case 37:d=Hi.Left;break;case 39:d=Hi.Right}if(null!=d){for(f=!1;!f;)f=!0,d=u.getOrientation(d),null!=(h=a.getNextItem(c,d))&&(n.preventDefault(),r.hasHighlightEnabled()?this.setHighlightItem(n,h):o.hasCursorEnabled()&&this.setCursorItem(n,h));this.controlPanelRef.nativeElement.focus()}}}setState(n={}){this.state={...this.state,...n},this.render()}ngOnInit(){this.render()}render(){this.tasks.process("OptionsTask",null,!1);const{placeholder:n,calloutplaceholder:i,frameplaceholder:r,titlesplaceholder:s}=this.graphics.placeholders;this.placeholder=n,this.titlesPlaceholder=s,this.framePlaceholder=r,this.calloutPlaceholder=i;const{autoSize:o,controlSize:a,scale:l,frameMousePanelRect:u,titlesMousePanelRect:c,scrollPanelRect:h,mousePanelSize:d}=this.layoutOptions;var f="scale("+l+","+l+")";this.controlPanelStyle=o?a.getCSS():{},this.frameMousePanelStyle=u.getCSS(),r&&(this.framePlaceholderStyle={...r.rect.getCSS(),transform:f,msTransform:f,WebkitTransform:f,OTransform:f,MozTransform:f}),this.titlesMousePanelStyle={...c.getCSS()},s&&(this.titlesPlaceholderStyle={...s.rect.getCSS(),transformOrigin:"0 0",transform:f,msTransform:f,WebkitTransform:f,OTransform:f,MozTransform:f}),this.scrollPanelStyle={...h.getCSS(),border:h.x>0?"1px dotted #dddddd":""},this.mousePanelStyle={...d.getCSS()},this.placeholderStyle={...n.rect.getCSS(),transform:f,msTransform:f,WebkitTransform:f,OTransform:f,MozTransform:f},i&&(this.calloutPlaceholderStyle={left:i.rect.x+"px",top:i.rect.y+"px"});const{centerOnCursor:p}=this.state;if(p){const m=this.tasks.getTask("CenterOnCursorTask");this.placeholderOffset=m.getPlaceholderOffset()}}ngOnDestroy(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.observer.disconnect()}}return e.\u0275fac=function(n){return new(n||e)(ne(Tn),ne(Lt),ne(Cv))},e.\u0275cmp=Vt({type:e,selectors:[["ng-component"]],viewQuery:function(n,i){if(1&n&&(zr(XU,5),zr(QU,5),zr(YU,5),zr(ZU,5),zr(JU,5),zr(ej,5),zr(tj,5),zr(nj,5),zr(ij,5)),2&n){let r;br(r=wr())&&(i.frameMousePanelRef=r.first),br(r=wr())&&(i.framePlaceholderRef=r.first),br(r=wr())&&(i.titlesMousePanelRef=r.first),br(r=wr())&&(i.titlesPlaceholderRef=r.first),br(r=wr())&&(i.scrollPanelRef=r.first),br(r=wr())&&(i.mousePanelRef=r.first),br(r=wr())&&(i.placeholderRef=r.first),br(r=wr())&&(i.calloutPlaceholderRef=r.first),br(r=wr())&&(i.controlPanelRef=r.first)}},inputs:{centerOnCursor:"centerOnCursor"},decls:14,vars:13,consts:[["tabIndex","0",1,"control-panel",3,"ngStyle","keydown"],["controlPanelRef",""],["class","frame-mouse-panel",3,"ngStyle","click","mousemove",4,"ngIf"],["class","titles-mouse-panel",3,"ngStyle","mousemove","click",4,"ngIf"],[1,"scroll-panel",3,"ngStyle","scrollLeft","scrollTop","scroll"],["scrollPanelRef",""],[1,"mouse-panel",3,"ngStyle","mousemove","click","change"],["mousePanelRef",""],[1,"placeholder",3,"ngStyle"],["placeholderRef",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","callout-placeholder",3,"ngStyle",4,"ngIf"],["layerTemplate",""],[1,"frame-mouse-panel",3,"ngStyle","click","mousemove"],["frameMousePanelRef",""],[1,"frame-placeholder",3,"ngStyle"],["framePlaceholderRef",""],[1,"titles-mouse-panel",3,"ngStyle","mousemove","click"],["titlesMousePanelRef",""],[1,"titles-placeholder",3,"ngStyle"],["titlesPlaceholderRef",""],[1,"callout-placeholder",3,"ngStyle"],["calloutPlaceholderRef",""],["class","layer",4,"ngFor","ngForOf"],[1,"layer"],[4,"ngIf"],["class","label",3,"ngStyle",4,"ngFor","ngForOf"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",3,"ngStyle",4,"ngIf"],["class","template",3,"ngStyle",4,"ngFor","ngForOf"],[1,"label",3,"ngStyle"],[3,"width","height","orientation","horizontalAlignment","verticalAlignment"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",3,"ngStyle"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"template",3,"ngStyle"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"itemConfig","itemTitleFirstFontColor","itemTitleSecondFontColor"],[3,"id","isSelected","label"],[3,"options","itemConfig","width","height"],[3,"templateConfig"],[3,"options","annotationConfig","width","height"],[3,"annotationConfig"],[1,"label-annotation"]],template:function(n,i){if(1&n&&(le(0,"div",0,1),Ze("keydown",function(s){return i.onKeyDown(s)}),ce(2,sj,5,6,"div",2),ce(3,aj,5,6,"div",3),le(4,"div",4,5),Ze("scroll",function(s){return i.onScroll(s)}),le(6,"div",6,7),Ze("mousemove",function(s){return i.onMouseMove(s)})("click",function(s){return i.onClick(s)})("change",function(s){return i.onCheckboxChange(s)}),le(8,"div",8,9),ce(10,lj,1,0,"ng-container",10),ce(11,cj,3,5,"div",11),pe()()()(),ce(12,Ej,1,1,"ng-template",null,12,Hr)),2&n){const r=Sn(13);j("ngStyle",i.controlPanelStyle),q(2),j("ngIf",i.framePlaceholder),q(1),j("ngIf",i.titlesPlaceholder),q(1),j("ngStyle",i.scrollPanelStyle)("scrollLeft",i.placeholderOffset?i.placeholderOffset.x:void 0)("scrollTop",i.placeholderOffset?i.placeholderOffset.y:void 0),q(2),j("ngStyle",i.mousePanelStyle),q(2),j("ngStyle",i.placeholderStyle),q(2),j("ngTemplateOutlet",r)("ngTemplateOutletContext",Vn(11,sr,i.placeholder)),q(1),j("ngIf",i.calloutPlaceholder)}},dependencies:[Vu,Sv,Dv,Mv,kv,Ev,Av,xv,Pv,ir,ja,lu,Oh,$a,Rh,Fh],styles:[".control-panel[_ngcontent-%COMP%]{position:relative;overflow:hidden;top:0px;left:0px;width:100%;height:100%;padding:0;margin-bottom:0;margin-right:0}.frame-mouse-panel[_ngcontent-%COMP%]{position:absolute;overflow:hidden}.frame-placeholder[_ngcontent-%COMP%]{position:absolute;overflow:hidden;transform-origin:0 0}.titles-mouse-panel[_ngcontent-%COMP%], .titles-placeholder[_ngcontent-%COMP%]{position:absolute;overflow:hidden}.scroll-panel[_ngcontent-%COMP%]{position:absolute;overflow:auto;-webkit-overflow-scrolling:touch}.mouse-panel[_ngcontent-%COMP%]{position:absolute;overflow:hidden}.placeholder[_ngcontent-%COMP%]{position:absolute;overflow:hidden;transform-origin:0 0}.callout-placeholder[_ngcontent-%COMP%]{position:absolute;overflow:visible}.layer[_ngcontent-%COMP%]{position:absolute;overflow:visible;left:0px;top:0px}.label[_ngcontent-%COMP%]{position:absolute;overflow:visible;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-webkit-touch-callout:none;user-select:none;box-sizing:content-box}.template[_ngcontent-%COMP%]{position:absolute;overflow:visible;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-webkit-touch-callout:none;user-select:none;box-sizing:content-box;padding:0;margin:0}.label-annotation[_ngcontent-%COMP%]{position:absolute;overflow:visible;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-webkit-touch-callout:none;user-select:none;box-sizing:content-box;width:100%;text-align:center}"]}),e})();class AI{constructor(t={}){this.oldContext=null,this.context=null,this.parentItems=[],this.childrenItems=[],this.position=null,this.name=null,this.cancel=!1,Object.assign(this,t)}}class xI{constructor(t={}){this.oldContext=null,this.context=null,this.parentItem=null,this.position=null,this.name=null,this.cancel=!1,Object.assign(this,t)}}class PI{constructor(t={}){this.selectedItems=[],this.newSelectedItems=[],this.cancel=!1,Object.assign(this,t)}}class Z${constructor(t={}){this.navigationMode=$o.Default,this.pageFitMode=Mi.FitToPage,this.alignBranches=!1,this.minimalVisibility=Er.Dot,this.minimumVisibleLevels=1,this.orientationType=Hi.Top,this.horizontalAlignment=Ln.Center,this.verticalAlignment=hn.Middle,this.arrowsDirection=zi.None,this.showExtraArrows=!1,this.extraArrowsMinimumSpace=30,this.connectorType=Fu.Squared,this.bevelSize=4,this.elbowType=jo.None,this.elbowDotSize=4,this.emptyDiagramMessage="Diagram is empty.",this.items=[],this.annotations=[],this.cursorItem=null,this.highlightItem=null,this.highlightGravityRadius=40,this.selectedItems=[],this.hasSelectorCheckbox=Tt.Auto,this.selectCheckBoxLabel="Selected",this.selectionPathMode=Wo.FullStack,this.templates=[],this.defaultTemplateName=null,this.hasButtons=Tt.Auto,this.buttonsTemplate=null,this.normalLevelShift=20,this.dotLevelShift=20,this.lineLevelShift=10,this.normalItemsInterval=10,this.dotItemsInterval=1,this.lineItemsInterval=2,this.cousinsIntervalMultiplier=5,this.itemTitleFirstFontColor="#ffffff",this.itemTitleSecondFontColor="#000080",this.minimizedItemShapeType=Ws.None,this.linesColor="#c0c0c0",this.linesWidth=1,this.linesType=tn.Solid,this.highlightLinesColor="#ff0000",this.highlightLinesWidth=1,this.highlightLinesType=tn.Solid,this.calloutMaximumVisibility=Er.Dot,this.showCallout=!0,this.calloutPlacementOffset=100,this.defaultCalloutTemplateName=null,this.calloutfillColor="#000000",this.calloutBorderColor=null,this.calloutOffset=4,this.calloutCornerRadius=4,this.calloutPointerWidth="10%",this.calloutLineWidth=1,this.calloutOpacity=.2,this.childrenPlacementType=js.Horizontal,this.leavesPlacementType=js.Horizontal,this.placeAssistantsAboveChildren=!0,this.placeAdvisersAboveChildren=!0,this.maximumColumnsInMatrix=6,this.buttonsPanelSize=28,this.groupTitlePanelSize=24,this.checkBoxPanelSize=24,this.groupTitlePlacementType=si.Left,this.groupTitleOrientation=Gt.RotateRight,this.groupTitleVerticalAlignment=hn.Middle,this.groupTitleHorizontalAlignment=Ln.Center,this.groupTitleFontSize="12px",this.groupTitleFontFamily="Arial",this.groupTitleColor="#4169e1",this.groupTitleFontWeight="normal",this.groupTitleFontStyle="normal",this.groupTitleTemplate=null,this.levelTitlePanelSize=24,this.levelTitlePlacementType=si.Left,this.levelTitlePlaceInside=!1,this.levelTitleOrientation=Gt.Auto,this.levelTitleVerticalAlignment=hn.Middle,this.levelTitleHorizontalAlignment=Ln.Center,this.levelTitleFontSize="12px",this.levelTitleFontFamily="Arial",this.levelTitleFontColor="#ffffff",this.levelTitleColor="#4169e1",this.levelTitleFontWeight="normal",this.levelTitleFontStyle="normal",this.levelTitleTemplate=null,this.levelBackgroundTemplate=null,this.distance=3,this.scale=1,this.minimumScale=.5,this.maximumScale=2,this.showLabels=Tt.Auto,this.labelSize=new wt(80,24),this.labelOffset=1,this.labelOrientation=Gt.Horizontal,this.labelPlacement=Ss.Top,this.labelFontSize="10px",this.labelFontFamily="Arial",this.labelColor="#000000",this.labelFontWeight="normal",this.labelFontStyle="normal",this.enablePanning=!0,this.autoSizeMinimum=new wt(800,600),this.autoSizeMaximum=new wt(1024,768),this.showFrame=!1,this.frameInnerPadding=new Nn(2,2,2,2),this.frameOuterPadding=new Nn(2,2,2,2),this.padding=new Nn(10,10,10,10),Object.assign(this,t)}}let Rv=(()=>{class e extends EI{constructor(n,i){super(n,i,new Cv(tU)),this.navigationMode=$o.Default,this.pageFitMode=Mi.FitToPage,this.alignBranches=!1,this.minimalVisibility=Er.Dot,this.minimumVisibleLevels=1,this.orientationType=Hi.Top,this.horizontalAlignment=Ln.Center,this.verticalAlignment=hn.Middle,this.arrowsDirection=zi.None,this.showExtraArrows=!1,this.extraArrowsMinimumSpace=30,this.connectorType=Fu.Squared,this.bevelSize=4,this.elbowType=jo.None,this.elbowDotSize=4,this.emptyDiagramMessage="Diagram is empty.",this.items=[],this.annotations=[],this.cursorItem=null,this.highlightItem=null,this.highlightGravityRadius=40,this.selectedItems=[],this.hasSelectorCheckbox=Tt.Auto,this.selectCheckBoxLabel="Selected",this.selectionPathMode=Wo.FullStack,this.templates=[],this.defaultTemplateName=null,this.hasButtons=Tt.Auto,this.buttonsTemplate=null,this.normalLevelShift=20,this.dotLevelShift=20,this.lineLevelShift=10,this.normalItemsInterval=10,this.dotItemsInterval=1,this.lineItemsInterval=2,this.cousinsIntervalMultiplier=5,this.itemTitleFirstFontColor="#ffffff",this.itemTitleSecondFontColor="#000080",this.minimizedItemShapeType=Ws.None,this.linesColor="#c0c0c0",this.linesWidth=1,this.linesType=tn.Solid,this.highlightLinesColor="#ff0000",this.highlightLinesWidth=1,this.highlightLinesType=tn.Solid,this.calloutMaximumVisibility=Er.Dot,this.showCallout=!0,this.calloutPlacementOffset=100,this.defaultCalloutTemplateName=null,this.calloutfillColor="#000000",this.calloutBorderColor=null,this.calloutOffset=4,this.calloutCornerRadius=4,this.calloutPointerWidth="10%",this.calloutLineWidth=1,this.calloutOpacity=.2,this.childrenPlacementType=js.Horizontal,this.leavesPlacementType=js.Horizontal,this.placeAssistantsAboveChildren=!0,this.placeAdvisersAboveChildren=!0,this.maximumColumnsInMatrix=6,this.buttonsPanelSize=28,this.groupTitlePanelSize=24,this.checkBoxPanelSize=24,this.groupTitlePlacementType=si.Left,this.groupTitleOrientation=Gt.RotateRight,this.groupTitleVerticalAlignment=hn.Middle,this.groupTitleHorizontalAlignment=Ln.Center,this.groupTitleFontSize="12px",this.groupTitleFontFamily="Arial",this.groupTitleColor="#4169e1",this.groupTitleFontWeight="normal",this.groupTitleFontStyle="normal",this.groupTitleTemplate=null,this.levelTitlePanelSize=24,this.levelTitlePlacementType=si.Left,this.levelTitlePlaceInside=!1,this.levelTitleOrientation=Gt.Auto,this.levelTitleVerticalAlignment=hn.Middle,this.levelTitleHorizontalAlignment=Ln.Center,this.levelTitleFontSize="12px",this.levelTitleFontFamily="Arial",this.levelTitleFontColor="#ffffff",this.levelTitleColor="#4169e1",this.levelTitleFontWeight="normal",this.levelTitleFontStyle="normal",this.levelTitleTemplate=null,this.levelBackgroundTemplate=null,this.distance=3,this.scale=1,this.minimumScale=.5,this.maximumScale=2,this.showLabels=Tt.Auto,this.labelSize=new wt(80,24),this.labelOffset=1,this.labelOrientation=Gt.Horizontal,this.labelPlacement=Ss.Top,this.labelFontSize="10px",this.labelFontFamily="Arial",this.labelColor="#000000",this.labelFontWeight="normal",this.labelFontStyle="normal",this.enablePanning=!0,this.autoSizeMinimum=new wt(800,600),this.autoSizeMaximum=new wt(1024,768),this.showFrame=!1,this.frameInnerPadding=new Nn(2,2,2,2),this.frameOuterPadding=new Nn(2,2,2,2),this.padding=new Nn(10,10,10,10),this.onHighlightChanging=new ft(!1),this.onHighlightChanged=new ft,this.onCursorChanging=new ft(!1),this.onCursorChanged=new ft,this.onSelectionChanging=new ft(!1),this.onSelectionChanged=new ft}ngOnChanges(n){var i=new Z$(this);const{highlightItem:r,cursorItem:s,selectedItems:o}=i;this.state={...this.state,config:i,highlightItem:r,cursorItem:s,selectedItems:o,centerOnCursor:this.centerOnCursor},this.render()}_onHighlightChanging(n,i,r){var s=new xI({...this.getEventArgs(i,r),event:n});return this.onHighlightChanging.emit(s),s}_onHighlightChanged(n){this.onHighlightChanged.emit(n)}_onCursorChanging(n,i,r){var s=new xI({...this.getEventArgs(i,r),event:n});return this.onCursorChanging.emit(s),s}_onCursorChanged(n){this.onCursorChanged.emit(n)}_onSelectionChanging(n,i,r){var s=new PI({selectedItems:i,newSelectedItems:r,event:n});return this.onSelectionChanging.emit(s),s}_onSelectionChanged(n){this.onSelectionChanged.emit(n)}}return e.\u0275fac=function(n){return new(n||e)(ne(Tn),ne(Lt))},e.\u0275cmp=Vt({type:e,selectors:[["org-diagram"]],inputs:{navigationMode:"navigationMode",pageFitMode:"pageFitMode",alignBranches:"alignBranches",minimalVisibility:"minimalVisibility",minimumVisibleLevels:"minimumVisibleLevels",orientationType:"orientationType",horizontalAlignment:"horizontalAlignment",verticalAlignment:"verticalAlignment",arrowsDirection:"arrowsDirection",showExtraArrows:"showExtraArrows",extraArrowsMinimumSpace:"extraArrowsMinimumSpace",connectorType:"connectorType",bevelSize:"bevelSize",elbowType:"elbowType",elbowDotSize:"elbowDotSize",emptyDiagramMessage:"emptyDiagramMessage",items:"items",annotations:"annotations",cursorItem:"cursorItem",highlightItem:"highlightItem",highlightGravityRadius:"highlightGravityRadius",selectedItems:"selectedItems",hasSelectorCheckbox:"hasSelectorCheckbox",selectCheckBoxLabel:"selectCheckBoxLabel",selectionPathMode:"selectionPathMode",templates:"templates",defaultTemplateName:"defaultTemplateName",hasButtons:"hasButtons",buttonsTemplate:"buttonsTemplate",normalLevelShift:"normalLevelShift",dotLevelShift:"dotLevelShift",lineLevelShift:"lineLevelShift",normalItemsInterval:"normalItemsInterval",dotItemsInterval:"dotItemsInterval",lineItemsInterval:"lineItemsInterval",cousinsIntervalMultiplier:"cousinsIntervalMultiplier",itemTitleFirstFontColor:"itemTitleFirstFontColor",itemTitleSecondFontColor:"itemTitleSecondFontColor",minimizedItemShapeType:"minimizedItemShapeType",linesColor:"linesColor",linesWidth:"linesWidth",linesType:"linesType",highlightLinesColor:"highlightLinesColor",highlightLinesWidth:"highlightLinesWidth",highlightLinesType:"highlightLinesType",calloutMaximumVisibility:"calloutMaximumVisibility",showCallout:"showCallout",calloutPlacementOffset:"calloutPlacementOffset",defaultCalloutTemplateName:"defaultCalloutTemplateName",calloutfillColor:"calloutfillColor",calloutBorderColor:"calloutBorderColor",calloutOffset:"calloutOffset",calloutCornerRadius:"calloutCornerRadius",calloutPointerWidth:"calloutPointerWidth",calloutLineWidth:"calloutLineWidth",calloutOpacity:"calloutOpacity",childrenPlacementType:"childrenPlacementType",leavesPlacementType:"leavesPlacementType",placeAssistantsAboveChildren:"placeAssistantsAboveChildren",placeAdvisersAboveChildren:"placeAdvisersAboveChildren",maximumColumnsInMatrix:"maximumColumnsInMatrix",buttonsPanelSize:"buttonsPanelSize",groupTitlePanelSize:"groupTitlePanelSize",checkBoxPanelSize:"checkBoxPanelSize",groupTitlePlacementType:"groupTitlePlacementType",groupTitleOrientation:"groupTitleOrientation",groupTitleVerticalAlignment:"groupTitleVerticalAlignment",groupTitleHorizontalAlignment:"groupTitleHorizontalAlignment",groupTitleFontSize:"groupTitleFontSize",groupTitleFontFamily:"groupTitleFontFamily",groupTitleColor:"groupTitleColor",groupTitleFontWeight:"groupTitleFontWeight",groupTitleFontStyle:"groupTitleFontStyle",groupTitleTemplate:"groupTitleTemplate",levelTitlePanelSize:"levelTitlePanelSize",levelTitlePlacementType:"levelTitlePlacementType",levelTitlePlaceInside:"levelTitlePlaceInside",levelTitleOrientation:"levelTitleOrientation",levelTitleVerticalAlignment:"levelTitleVerticalAlignment",levelTitleHorizontalAlignment:"levelTitleHorizontalAlignment",levelTitleFontSize:"levelTitleFontSize",levelTitleFontFamily:"levelTitleFontFamily",levelTitleFontColor:"levelTitleFontColor",levelTitleColor:"levelTitleColor",levelTitleFontWeight:"levelTitleFontWeight",levelTitleFontStyle:"levelTitleFontStyle",levelTitleTemplate:"levelTitleTemplate",levelBackgroundTemplate:"levelBackgroundTemplate",distance:"distance",scale:"scale",minimumScale:"minimumScale",maximumScale:"maximumScale",showLabels:"showLabels",labelSize:"labelSize",labelOffset:"labelOffset",labelOrientation:"labelOrientation",labelPlacement:"labelPlacement",labelFontSize:"labelFontSize",labelFontFamily:"labelFontFamily",labelColor:"labelColor",labelFontWeight:"labelFontWeight",labelFontStyle:"labelFontStyle",enablePanning:"enablePanning",autoSizeMinimum:"autoSizeMinimum",autoSizeMaximum:"autoSizeMaximum",showFrame:"showFrame",frameInnerPadding:"frameInnerPadding",frameOuterPadding:"frameOuterPadding",padding:"padding"},outputs:{onHighlightChanging:"onHighlightChanging",onHighlightChanged:"onHighlightChanged",onCursorChanging:"onCursorChanging",onCursorChanged:"onCursorChanged",onSelectionChanging:"onSelectionChanging",onSelectionChanged:"onSelectionChanged"},features:[bt,un],decls:14,vars:13,consts:[["tabIndex","0",1,"control-panel",3,"ngStyle","keydown"],["controlPanelRef",""],["class","frame-mouse-panel",3,"ngStyle","click","mousemove",4,"ngIf"],["class","titles-mouse-panel",3,"ngStyle","mousemove","click",4,"ngIf"],[1,"scroll-panel",3,"ngStyle","scrollLeft","scrollTop","scroll"],["scrollPanelRef",""],[1,"mouse-panel",3,"ngStyle","mousemove","click","change"],["mousePanelRef",""],[1,"placeholder",3,"ngStyle"],["placeholderRef",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","callout-placeholder",3,"ngStyle",4,"ngIf"],["layerTemplate",""],[1,"frame-mouse-panel",3,"ngStyle","click","mousemove"],["frameMousePanelRef",""],[1,"frame-placeholder",3,"ngStyle"],["framePlaceholderRef",""],[1,"titles-mouse-panel",3,"ngStyle","mousemove","click"],["titlesMousePanelRef",""],[1,"titles-placeholder",3,"ngStyle"],["titlesPlaceholderRef",""],[1,"callout-placeholder",3,"ngStyle"],["calloutPlaceholderRef",""],["class","layer",4,"ngFor","ngForOf"],[1,"layer"],[4,"ngIf"],["class","label",3,"ngStyle",4,"ngFor","ngForOf"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",3,"ngStyle",4,"ngIf"],["class","template",3,"ngStyle",4,"ngFor","ngForOf"],[1,"label",3,"ngStyle"],[3,"width","height","orientation","horizontalAlignment","verticalAlignment"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",3,"ngStyle"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"template",3,"ngStyle"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"itemConfig","itemTitleFirstFontColor","itemTitleSecondFontColor"],[3,"id","isSelected","label"],[3,"options","itemConfig","width","height"],[3,"templateConfig"],[3,"options","annotationConfig","width","height"],[3,"annotationConfig"],[1,"label-annotation"]],template:function(n,i){if(1&n&&(le(0,"div",0,1),Ze("keydown",function(s){return i.onKeyDown(s)}),ce(2,xj,5,6,"div",2),ce(3,Oj,5,6,"div",3),le(4,"div",4,5),Ze("scroll",function(s){return i.onScroll(s)}),le(6,"div",6,7),Ze("mousemove",function(s){return i.onMouseMove(s)})("click",function(s){return i.onClick(s)})("change",function(s){return i.onCheckboxChange(s)}),le(8,"div",8,9),ce(10,Rj,1,0,"ng-container",10),ce(11,Lj,3,5,"div",11),pe()()()(),ce(12,t$,1,1,"ng-template",null,12,Hr)),2&n){const r=Sn(13);j("ngStyle",i.controlPanelStyle),q(2),j("ngIf",i.framePlaceholder),q(1),j("ngIf",i.titlesPlaceholder),q(1),j("ngStyle",i.scrollPanelStyle)("scrollLeft",i.placeholderOffset?i.placeholderOffset.x:void 0)("scrollTop",i.placeholderOffset?i.placeholderOffset.y:void 0),q(2),j("ngStyle",i.mousePanelStyle),q(2),j("ngStyle",i.placeholderStyle),q(2),j("ngTemplateOutlet",r)("ngTemplateOutletContext",Vn(11,sr,i.placeholder)),q(1),j("ngIf",i.calloutPlaceholder)}},dependencies:[Vu,Sv,Dv,Mv,kv,Ev,Av,xv,Pv,ir,ja,lu,Oh,$a,Rh,Fh],styles:[II]}),e})();class J${constructor(t={}){this.navigationMode=$o.Default,this.pageFitMode=Mi.FitToPage,this.minimalVisibility=Er.Dot,this.minimumVisibleLevels=0,this.orientationType=Hi.Top,this.verticalAlignment=hn.Middle,this.arrowsDirection=zi.None,this.showExtraArrows=!0,this.extraArrowsMinimumSpace=30,this.groupByType=zi.Children,this.alignBylevels=!0,this.enableMatrixLayout=!1,this.minimumMatrixSize=4,this.maximumColumnsInMatrix=6,this.hideGrandParentsConnectors=!1,this.bevelSize=4,this.elbowType=jo.Round,this.elbowDotSize=4,this.emptyDiagramMessage="Diagram is empty.",this.items=[],this.annotations=[],this.cursorItem=null,this.highlightItem=null,this.highlightGravityRadius=40,this.selectedItems=[],this.hasSelectorCheckbox=Tt.Auto,this.selectCheckBoxLabel="Selected",this.selectionPathMode=Wo.None,this.neighboursSelectionMode=Nu.ParentsAndChildren,this.templates=[],this.defaultTemplateName=null,this.defaultLabelAnnotationTemplate=null,this.hasButtons=Tt.Auto,this.buttonsTemplate=null,this.normalLevelShift=20,this.dotLevelShift=20,this.lineLevelShift=10,this.normalItemsInterval=10,this.dotItemsInterval=1,this.lineItemsInterval=2,this.cousinsIntervalMultiplier=5,this.itemTitleFirstFontColor="#ffffff",this.itemTitleSecondFontColor="#000080",this.minimizedItemShapeType=Ws.None,this.linesColor="#c0c0c0",this.linesWidth=1,this.linesType=tn.Solid,this.showNeigboursConnectorsHighlighted=!1,this.highlightLinesColor="#ff0000",this.highlightLinesWidth=1,this.highlightLinesType=tn.Solid,this.linesPalette=[],this.calloutMaximumVisibility=Er.Dot,this.showCallout=!0,this.calloutPlacementOffset=100,this.defaultCalloutTemplateName=null,this.calloutfillColor="#000000",this.calloutBorderColor=null,this.calloutOffset=4,this.calloutCornerRadius=4,this.calloutPointerWidth="10%",this.calloutLineWidth=1,this.calloutOpacity=.2,this.buttonsPanelSize=28,this.groupTitlePanelSize=24,this.checkBoxPanelSize=24,this.groupTitlePlacementType=si.Left,this.groupTitleOrientation=Gt.RotateRight,this.groupTitleVerticalAlignment=hn.Middle,this.groupTitleHorizontalAlignment=Ln.Center,this.groupTitleFontSize="12px",this.groupTitleFontFamily="Arial",this.groupTitleColor="#4169e1",this.groupTitleFontWeight="normal",this.groupTitleFontStyle="normal",this.groupTitleTemplate=null,this.levelTitlePanelSize=24,this.levelTitlePlacementType=si.Left,this.levelTitlePlaceInside=!1,this.levelTitleOrientation=Gt.Auto,this.levelTitleVerticalAlignment=hn.Middle,this.levelTitleHorizontalAlignment=Ln.Center,this.levelTitleFontSize="12px",this.levelTitleFontFamily="Arial",this.levelTitleFontColor="#ffffff",this.levelTitleColor="#4169e1",this.levelTitleFontWeight="normal",this.levelTitleFontStyle="normal",this.levelTitleTemplate=null,this.levelBackgroundTemplate=null,this.distance=3,this.scale=1,this.minimumScale=.5,this.maximumScale=1,this.showLabels=Tt.Auto,this.labelSize=new wt(80,24),this.labelOffset=1,this.labelOrientation=Gt.Horizontal,this.labelPlacement=Ss.Top,this.labelFontSize="10px",this.labelFontFamily="Arial",this.labelColor="#000000",this.labelFontWeight="normal",this.labelFontStyle="normal",this.enablePanning=!0,this.autoSizeMinimum=new wt(800,600),this.autoSizeMaximum=new wt(1024,768),this.showFrame=!1,this.frameInnerPadding=new Nn(2,2,2,2),this.frameOuterPadding=new Nn(2,2,2,2),this.padding=new Nn(10,10,10,10),Object.assign(this,t)}}let Fv,Ld=(()=>{class e extends EI{constructor(n,i){super(n,i,new Cv(NU)),this.navigationMode=$o.Default,this.pageFitMode=Mi.FitToPage,this.minimalVisibility=Er.Dot,this.minimumVisibleLevels=0,this.orientationType=Hi.Top,this.verticalAlignment=hn.Middle,this.arrowsDirection=zi.None,this.showExtraArrows=!0,this.extraArrowsMinimumSpace=30,this.groupByType=zi.Children,this.alignBylevels=!0,this.enableMatrixLayout=!1,this.minimumMatrixSize=4,this.maximumColumnsInMatrix=6,this.hideGrandParentsConnectors=!1,this.bevelSize=4,this.elbowType=jo.Round,this.elbowDotSize=4,this.emptyDiagramMessage="Diagram is empty.",this.items=[],this.annotations=[],this.cursorItem=null,this.highlightItem=null,this.highlightGravityRadius=40,this.selectedItems=[],this.hasSelectorCheckbox=Tt.Auto,this.selectCheckBoxLabel="Selected",this.selectionPathMode=Wo.None,this.neighboursSelectionMode=Nu.ParentsAndChildren,this.templates=[],this.defaultTemplateName=null,this.defaultLabelAnnotationTemplate=null,this.hasButtons=Tt.Auto,this.buttonsTemplate=null,this.normalLevelShift=20,this.dotLevelShift=20,this.lineLevelShift=10,this.normalItemsInterval=10,this.dotItemsInterval=1,this.lineItemsInterval=2,this.cousinsIntervalMultiplier=5,this.itemTitleFirstFontColor="#ffffff",this.itemTitleSecondFontColor="#000080",this.minimizedItemShapeType=Ws.None,this.linesColor="#c0c0c0",this.linesWidth=1,this.linesType=tn.Solid,this.showNeigboursConnectorsHighlighted=!1,this.highlightLinesColor="#ff0000",this.highlightLinesWidth=1,this.highlightLinesType=tn.Solid,this.linesPalette=[],this.calloutMaximumVisibility=Er.Dot,this.showCallout=!0,this.calloutPlacementOffset=100,this.defaultCalloutTemplateName=null,this.calloutfillColor="#000000",this.calloutBorderColor=null,this.calloutOffset=4,this.calloutCornerRadius=4,this.calloutPointerWidth="10%",this.calloutLineWidth=1,this.calloutOpacity=.2,this.buttonsPanelSize=28,this.groupTitlePanelSize=24,this.checkBoxPanelSize=24,this.groupTitlePlacementType=si.Left,this.groupTitleOrientation=Gt.RotateRight,this.groupTitleVerticalAlignment=hn.Middle,this.groupTitleHorizontalAlignment=Ln.Center,this.groupTitleFontSize="12px",this.groupTitleFontFamily="Arial",this.groupTitleColor="#4169e1",this.groupTitleFontWeight="normal",this.groupTitleFontStyle="normal",this.groupTitleTemplate=null,this.levelTitlePanelSize=24,this.levelTitlePlacementType=si.Left,this.levelTitlePlaceInside=!1,this.levelTitleOrientation=Gt.Auto,this.levelTitleVerticalAlignment=hn.Middle,this.levelTitleHorizontalAlignment=Ln.Center,this.levelTitleFontSize="12px",this.levelTitleFontFamily="Arial",this.levelTitleFontColor="#ffffff",this.levelTitleColor="#4169e1",this.levelTitleFontWeight="normal",this.levelTitleFontStyle="normal",this.levelTitleTemplate=null,this.levelBackgroundTemplate=null,this.distance=3,this.scale=1,this.minimumScale=.5,this.maximumScale=1,this.showLabels=Tt.Auto,this.labelSize=new wt(80,24),this.labelOffset=1,this.labelOrientation=Gt.Horizontal,this.labelPlacement=Ss.Top,this.labelFontSize="10px",this.labelFontFamily="Arial",this.labelColor="#000000",this.labelFontWeight="normal",this.labelFontStyle="normal",this.enablePanning=!0,this.autoSizeMinimum=new wt(800,600),this.autoSizeMaximum=new wt(1024,768),this.showFrame=!1,this.frameInnerPadding=new Nn(2,2,2,2),this.frameOuterPadding=new Nn(2,2,2,2),this.padding=new Nn(10,10,10,10),this.onHighlightChanging=new ft(!1),this.onHighlightChanged=new ft,this.onCursorChanging=new ft(!1),this.onCursorChanged=new ft,this.onSelectionChanging=new ft(!1),this.onSelectionChanged=new ft}ngOnChanges(n){var i=new J$(this);const{highlightItem:r,cursorItem:s,selectedItems:o}=i;this.state={...this.state,config:i,highlightItem:r,cursorItem:s,selectedItems:o,centerOnCursor:this.centerOnCursor},this.render()}_onHighlightChanging(n,i,r){var s=new AI({...this.getEventArgs(i,r),event:n});return this.onHighlightChanging.emit(s),s}_onHighlightChanged(n){this.onHighlightChanged.emit(n)}_onCursorChanging(n,i,r){var s=new AI({...this.getEventArgs(i,r),event:n});return this.onCursorChanging.emit(s),s}_onCursorChanged(n){this.onCursorChanged.emit(n)}_onSelectionChanging(n,i,r){var s=new PI({selectedItems:i,newSelectedItems:r,event:n});return this.onSelectionChanging.emit(s),s}_onSelectionChanged(n){this.onSelectionChanged.emit(n)}}return e.\u0275fac=function(n){return new(n||e)(ne(Tn),ne(Lt))},e.\u0275cmp=Vt({type:e,selectors:[["fam-diagram"]],inputs:{navigationMode:"navigationMode",pageFitMode:"pageFitMode",minimalVisibility:"minimalVisibility",minimumVisibleLevels:"minimumVisibleLevels",orientationType:"orientationType",verticalAlignment:"verticalAlignment",arrowsDirection:"arrowsDirection",showExtraArrows:"showExtraArrows",extraArrowsMinimumSpace:"extraArrowsMinimumSpace",groupByType:"groupByType",alignBylevels:"alignBylevels",enableMatrixLayout:"enableMatrixLayout",minimumMatrixSize:"minimumMatrixSize",maximumColumnsInMatrix:"maximumColumnsInMatrix",hideGrandParentsConnectors:"hideGrandParentsConnectors",bevelSize:"bevelSize",elbowType:"elbowType",elbowDotSize:"elbowDotSize",emptyDiagramMessage:"emptyDiagramMessage",items:"items",annotations:"annotations",cursorItem:"cursorItem",highlightItem:"highlightItem",highlightGravityRadius:"highlightGravityRadius",selectedItems:"selectedItems",hasSelectorCheckbox:"hasSelectorCheckbox",selectCheckBoxLabel:"selectCheckBoxLabel",selectionPathMode:"selectionPathMode",neighboursSelectionMode:"neighboursSelectionMode",templates:"templates",defaultTemplateName:"defaultTemplateName",defaultLabelAnnotationTemplate:"defaultLabelAnnotationTemplate",hasButtons:"hasButtons",buttonsTemplate:"buttonsTemplate",normalLevelShift:"normalLevelShift",dotLevelShift:"dotLevelShift",lineLevelShift:"lineLevelShift",normalItemsInterval:"normalItemsInterval",dotItemsInterval:"dotItemsInterval",lineItemsInterval:"lineItemsInterval",cousinsIntervalMultiplier:"cousinsIntervalMultiplier",itemTitleFirstFontColor:"itemTitleFirstFontColor",itemTitleSecondFontColor:"itemTitleSecondFontColor",minimizedItemShapeType:"minimizedItemShapeType",linesColor:"linesColor",linesWidth:"linesWidth",linesType:"linesType",showNeigboursConnectorsHighlighted:"showNeigboursConnectorsHighlighted",highlightLinesColor:"highlightLinesColor",highlightLinesWidth:"highlightLinesWidth",highlightLinesType:"highlightLinesType",linesPalette:"linesPalette",calloutMaximumVisibility:"calloutMaximumVisibility",showCallout:"showCallout",calloutPlacementOffset:"calloutPlacementOffset",defaultCalloutTemplateName:"defaultCalloutTemplateName",calloutfillColor:"calloutfillColor",calloutBorderColor:"calloutBorderColor",calloutOffset:"calloutOffset",calloutCornerRadius:"calloutCornerRadius",calloutPointerWidth:"calloutPointerWidth",calloutLineWidth:"calloutLineWidth",calloutOpacity:"calloutOpacity",buttonsPanelSize:"buttonsPanelSize",groupTitlePanelSize:"groupTitlePanelSize",checkBoxPanelSize:"checkBoxPanelSize",groupTitlePlacementType:"groupTitlePlacementType",groupTitleOrientation:"groupTitleOrientation",groupTitleVerticalAlignment:"groupTitleVerticalAlignment",groupTitleHorizontalAlignment:"groupTitleHorizontalAlignment",groupTitleFontSize:"groupTitleFontSize",groupTitleFontFamily:"groupTitleFontFamily",groupTitleColor:"groupTitleColor",groupTitleFontWeight:"groupTitleFontWeight",groupTitleFontStyle:"groupTitleFontStyle",groupTitleTemplate:"groupTitleTemplate",levelTitlePanelSize:"levelTitlePanelSize",levelTitlePlacementType:"levelTitlePlacementType",levelTitlePlaceInside:"levelTitlePlaceInside",levelTitleOrientation:"levelTitleOrientation",levelTitleVerticalAlignment:"levelTitleVerticalAlignment",levelTitleHorizontalAlignment:"levelTitleHorizontalAlignment",levelTitleFontSize:"levelTitleFontSize",levelTitleFontFamily:"levelTitleFontFamily",levelTitleFontColor:"levelTitleFontColor",levelTitleColor:"levelTitleColor",levelTitleFontWeight:"levelTitleFontWeight",levelTitleFontStyle:"levelTitleFontStyle",levelTitleTemplate:"levelTitleTemplate",levelBackgroundTemplate:"levelBackgroundTemplate",distance:"distance",scale:"scale",minimumScale:"minimumScale",maximumScale:"maximumScale",showLabels:"showLabels",labelSize:"labelSize",labelOffset:"labelOffset",labelOrientation:"labelOrientation",labelPlacement:"labelPlacement",labelFontSize:"labelFontSize",labelFontFamily:"labelFontFamily",labelColor:"labelColor",labelFontWeight:"labelFontWeight",labelFontStyle:"labelFontStyle",enablePanning:"enablePanning",autoSizeMinimum:"autoSizeMinimum",autoSizeMaximum:"autoSizeMaximum",showFrame:"showFrame",frameInnerPadding:"frameInnerPadding",frameOuterPadding:"frameOuterPadding",padding:"padding"},outputs:{onHighlightChanging:"onHighlightChanging",onHighlightChanged:"onHighlightChanged",onCursorChanging:"onCursorChanging",onCursorChanged:"onCursorChanged",onSelectionChanging:"onSelectionChanging",onSelectionChanged:"onSelectionChanged"},features:[bt,un],decls:14,vars:13,consts:[["tabIndex","0",1,"control-panel",3,"ngStyle","keydown"],["controlPanelRef",""],["class","frame-mouse-panel",3,"ngStyle","click","mousemove",4,"ngIf"],["class","titles-mouse-panel",3,"ngStyle","mousemove","click",4,"ngIf"],[1,"scroll-panel",3,"ngStyle","scrollLeft","scrollTop","scroll"],["scrollPanelRef",""],[1,"mouse-panel",3,"ngStyle","mousemove","click","change"],["mousePanelRef",""],[1,"placeholder",3,"ngStyle"],["placeholderRef",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","callout-placeholder",3,"ngStyle",4,"ngIf"],["layerTemplate",""],[1,"frame-mouse-panel",3,"ngStyle","click","mousemove"],["frameMousePanelRef",""],[1,"frame-placeholder",3,"ngStyle"],["framePlaceholderRef",""],[1,"titles-mouse-panel",3,"ngStyle","mousemove","click"],["titlesMousePanelRef",""],[1,"titles-placeholder",3,"ngStyle"],["titlesPlaceholderRef",""],[1,"callout-placeholder",3,"ngStyle"],["calloutPlaceholderRef",""],["class","layer",4,"ngFor","ngForOf"],[1,"layer"],[4,"ngIf"],["class","label",3,"ngStyle",4,"ngFor","ngForOf"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",3,"ngStyle",4,"ngIf"],["class","template",3,"ngStyle",4,"ngFor","ngForOf"],[1,"label",3,"ngStyle"],[3,"width","height","orientation","horizontalAlignment","verticalAlignment"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",3,"ngStyle"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"template",3,"ngStyle"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"itemConfig","itemTitleFirstFontColor","itemTitleSecondFontColor"],[3,"id","isSelected","label"],[3,"options","itemConfig","width","height"],[3,"templateConfig"],[3,"options","annotationConfig","width","height"],[3,"annotationConfig"],[1,"label-annotation"]],template:function(n,i){if(1&n&&(le(0,"div",0,1),Ze("keydown",function(s){return i.onKeyDown(s)}),ce(2,i$,5,6,"div",2),ce(3,s$,5,6,"div",3),le(4,"div",4,5),Ze("scroll",function(s){return i.onScroll(s)}),le(6,"div",6,7),Ze("mousemove",function(s){return i.onMouseMove(s)})("click",function(s){return i.onClick(s)})("change",function(s){return i.onCheckboxChange(s)}),le(8,"div",8,9),ce(10,o$,1,0,"ng-container",10),ce(11,l$,3,5,"div",11),pe()()()(),ce(12,I$,1,1,"ng-template",null,12,Hr)),2&n){const r=Sn(13);j("ngStyle",i.controlPanelStyle),q(2),j("ngIf",i.framePlaceholder),q(1),j("ngIf",i.titlesPlaceholder),q(1),j("ngStyle",i.scrollPanelStyle)("scrollLeft",i.placeholderOffset?i.placeholderOffset.x:void 0)("scrollTop",i.placeholderOffset?i.placeholderOffset.y:void 0),q(2),j("ngStyle",i.mousePanelStyle),q(2),j("ngStyle",i.placeholderStyle),q(2),j("ngTemplateOutlet",r)("ngTemplateOutletContext",Vn(11,sr,i.placeholder)),q(1),j("ngIf",i.calloutPlaceholder)}},dependencies:[Vu,Sv,Dv,Mv,kv,Ev,Av,xv,Pv,ir,ja,lu,Oh,$a,Rh,Fh],styles:[II]}),e})(),e4=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=An({type:e}),e.\u0275inj=wn({imports:[[Lh]]}),e})();class st{constructor(t={}){this.id=null,this.parents=[],this.title=null,this.description=null,this.image=null,this.context=null,this.itemTitleColor="#4169e1",this.minimizedItemShapeType=null,this.groupTitle=null,this.groupTitleColor="#4169e1",this.isActive=!0,this.hasSelectorCheckbox=Tt.Auto,this.hasButtons=Tt.Auto,this.templateName=null,this.showCallout=Tt.Auto,this.calloutTemplateName=null,this.label=null,this.showLabel=Tt.Auto,this.labelSize=null,this.labelOrientation=Gt.Auto,this.labelPlacement=Ss.Auto,this.primaryParent=null,this.relativeItem=null,this.position=null,this.placementType=si.Right,this.matrixId=null,this.addToMatrix=!0,Object.assign(this,t)}}class t4{constructor(t={}){this.annotationType=gt.Connector,this.zOrderType=Go.Foreground,this.fromItem=null,this.toItem=null,this.connectorShapeType=Ru.OneWay,this.connectorPlacementType=Ou.Offbeat,this.labelPlacementType=Rd.Between,this.offset=new Nn(0,0,0,0),this.lineWidth=2,this.color="#000000",this.lineType=tn.Solid,this.selectItems=!0,this.label=null,this.size=new wt(60,30),Object.assign(this,t)}}class qt{constructor(t={}){this.annotationType=gt.Label,this.fromItem=null,this.toItems=[],this.title=null,this.itemTitleColor="#4169e1",this.templateName=null,Object.assign(this,t)}}class Bu{constructor(){this.title="First Family Chart",this.PageFitMode=Mi,this.Enabled=Tt,this.GroupByType=zi,this.photos={a:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAA8CAIAAACrV36WAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGnSURBVGhD7dnBbQJBDAVQk1o2QjlQwKYGzpSwKQfq4IxICRTB9jLZHCJFwWv7/7EiDt6zmX2yPYMHNq01eb7n5flI36JiIXWpbFW2kAwgsdVblS0kA0hs9db/ZWs+vW/Wno9PxPE3dhls6Od+HI1XT1d64Sb8R5utEulwdbA8VY+LZ/kqkfF456pBHxDz5Xxze/p2vsxukBbAshTVOE0PO4B2cUlWKrgUTKsrV0eut3RVU/cm5aKKqPXVbjuIDPtDUh2JImq1+jmjkupIFNFStXadHncWXkecpb3393me4oJZnionXyjLV6W4QFZEleHCWNG+0eKggQJiRVV6vhAXwoqrul0AC1H1uuIsTLUyukYH1jBL7WJ8lgq6oqwkVXSQDrLSVEFXjJWoirlCrFRVyBVhJasirgCr65tEv7a5A5jL0tcN7vNl9OVcHqtXRbocVr+Kc9k3H/3qPL69Ise7dh0SsS+2JmtFddgvdy/gGbY7Jdp2GRcyrlu1BfUjxtiPRm/lqVbGHOMHnU39zQm0I/UbBLA+GVosJHGVrcoWkgEktnoLydYXkF/LiXG21MwAAAAASUVORK5CYII="},this.items=[new st({id:1,title:"Thomas Williams",label:"Thomas Williams",description:"1st husband",image:this.photos.a}),new st({id:2,title:"Mary Spencer",label:"Mary Spencer",description:"The Mary",image:this.photos.a}),new st({id:3,title:"David Kirby",label:"David Kirby",description:"2nd Husband",image:this.photos.a}),new st({id:4,parents:[1,2],title:"Brad Williams",label:"Brad Williams",description:"1st son",image:this.photos.a}),new st({id:5,parents:[2,3],title:"Mike Kirby",label:"Mike Kirby",description:"2nd son, having 2 spouses",image:this.photos.a}),new st({id:6,title:"Lynette Maloney",label:"Lynette Maloney",description:"Spouse I",image:this.photos.a}),new st({id:11,parents:[5,6],title:"Steven Powell",label:"Steven Powell",description:"1st son",image:this.photos.a}),new st({id:7,title:"Sara Kemp",label:"Sara Kemp",description:"Spouse II",image:this.photos.a}),new st({id:12,parents:[5,7],title:"John Smith",label:"John Smith",description:"2ns son",image:this.photos.a}),new st({id:8,parents:[7],title:"Leon Kemp",label:"Leon Kemp",description:"",image:this.photos.a})]}}Bu.\u0275fac=function(t){return new(t||Bu)},Bu.\u0275cmp=Vt({type:Bu,selectors:[["app-simple-chart"]],decls:5,vars:16,consts:[[1,"content",2,"text-align","center"],[1,"sample"],[3,"items","pageFitMode","cursorItem","linesWidth","arrowsDirection","showExtraArrows","linesColor","normalLevelShift","dotLevelShift","lineLevelShift","normalItemsInterval","dotItemsInterval","lineItemsInterval","hasSelectorCheckbox","centerOnCursor"]],template:function(t,n){1&t&&(le(0,"div",0)(1,"h1"),Je(2),pe()(),le(3,"div",1),Ye(4,"fam-diagram",2),pe()),2&t&&(q(2),Co(" Welcome to ",n.title,"! "),q(2),j("items",n.items)("pageFitMode",n.PageFitMode.AutoSize)("cursorItem",2)("linesWidth",1)("arrowsDirection",n.GroupByType.Parents)("showExtraArrows",!0)("linesColor","black")("normalLevelShift",20)("dotLevelShift",20)("lineLevelShift",20)("normalItemsInterval",10)("dotItemsInterval",30)("lineItemsInterval",30)("hasSelectorCheckbox",n.Enabled.True)("centerOnCursor",!0))},dependencies:[Ld]});class zu{constructor(){this.title="First Organizational Chart",this.PageFitMode=Mi,this.Enabled=Tt,this.photos={a:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAA8CAIAAACrV36WAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGnSURBVGhD7dnBbQJBDAVQk1o2QjlQwKYGzpSwKQfq4IxICRTB9jLZHCJFwWv7/7EiDt6zmX2yPYMHNq01eb7n5flI36JiIXWpbFW2kAwgsdVblS0kA0hs9db/ZWs+vW/Wno9PxPE3dhls6Od+HI1XT1d64Sb8R5utEulwdbA8VY+LZ/kqkfF456pBHxDz5Xxze/p2vsxukBbAshTVOE0PO4B2cUlWKrgUTKsrV0eut3RVU/cm5aKKqPXVbjuIDPtDUh2JImq1+jmjkupIFNFStXadHncWXkecpb3393me4oJZnionXyjLV6W4QFZEleHCWNG+0eKggQJiRVV6vhAXwoqrul0AC1H1uuIsTLUyukYH1jBL7WJ8lgq6oqwkVXSQDrLSVEFXjJWoirlCrFRVyBVhJasirgCr65tEv7a5A5jL0tcN7vNl9OVcHqtXRbocVr+Kc9k3H/3qPL69Ise7dh0SsS+2JmtFddgvdy/gGbY7Jdp2GRcyrlu1BfUjxtiPRm/lqVbGHOMHnU39zQm0I/UbBLA+GVosJHGVrcoWkgEktnoLydYXkF/LiXG21MwAAAAASUVORK5CYII="},this.items=[new ji({id:0,parent:null,title:"James Smith",description:"VP, Public Sector",image:this.photos.a}),new ji({id:1,parent:0,title:"Ted Lucas",description:"VP, Human Resources",image:this.photos.a}),new ji({id:2,parent:0,title:"Fritz Stuger",description:"Business Solutions, US",image:this.photos.a})]}}zu.\u0275fac=function(t){return new(t||zu)},zu.\u0275cmp=Vt({type:zu,selectors:[["app-example1"]],decls:5,vars:6,consts:[[1,"content",2,"text-align","center"],[1,"sample"],[3,"items","pageFitMode","cursorItem","hasSelectorCheckbox","centerOnCursor"]],template:function(t,n){1&t&&(le(0,"div",0)(1,"h1"),Je(2),pe()(),le(3,"div",1),Ye(4,"org-diagram",2),pe()),2&t&&(q(2),Co(" Welcome to ",n.title,"! "),q(2),j("items",n.items)("pageFitMode",n.PageFitMode.AutoSize)("cursorItem",0)("hasSelectorCheckbox",n.Enabled.True)("centerOnCursor",!0))},dependencies:[Rv]});class Hu{constructor(){this.PageFitMode=Mi,this.Enabled=Tt,this.GroupByType=zi,this.items=[new st({id:1,title:"David Dalton",groupTitle:"Family 1",label:"David Dalton",description:"1, Chief Executive Officer (CEO)",image:"./assets/photos/q.png",itemTitleColor:"#4169e1"}),new st({id:2,relativeItem:1,placementType:si.Right,position:1,title:"Steven Lacombe",label:"Steven Lacombe",description:"2, GM, Platform Strategy",image:"./assets/photos/a.png",itemTitleColor:"#4b0082"}),new st({id:3,parents:[1,2],title:"Nancy Smith",label:"Nancy Smith",description:"3, GM, Strategic Marketing and Communications",image:"./assets/photos/s.png",itemTitleColor:"#4b0082"}),new st({id:4,parents:[3],title:"Ann Smith",label:"Nancy Smith",description:"4, GM, Strategic Marketing and Communications",image:"./assets/photos/s.png",itemTitleColor:"#4b0082"}),new st({id:5,parents:[3],title:"Ella Smith",label:"Nancy Smith",description:"5, GM, Strategic Marketing and Communications",image:"./assets/photos/s.png",itemTitleColor:"#4b0082"}),new st({id:10,relativeItem:1,placementType:si.Right,position:1,title:"David Dalton",groupTitle:"Family 2",label:"David Dalton",description:"Chief Executive Officer (CEO)",image:"./assets/photos/q.png",itemTitleColor:"#4169e1"}),new st({id:20,relativeItem:10,placementType:si.Right,position:1,title:"Steven Lacombe",label:"Steven Lacombe",description:"GM, Platform Strategy",image:"./assets/photos/a.png",itemTitleColor:"#4b0082"}),new st({id:30,parents:[10,20],title:"Nancy Smith",label:"Nancy Smith",description:"GM, Strategic Marketing and Communications",image:"./assets/photos/s.png",itemTitleColor:"#4b0082"}),new st({id:40,parents:[30],title:"Ann Smith",label:"Nancy Smith",description:"GM, Strategic Marketing and Communications",image:"./assets/photos/s.png",itemTitleColor:"#4b0082"}),new st({id:50,parents:[30],title:"Ella Smith",label:"Nancy Smith",description:"GM, Strategic Marketing and Communications",image:"./assets/photos/s.png",itemTitleColor:"#4b0082"})],this.annotations=[new t4({annotationType:gt.Connector,fromItem:3,toItem:30,label:"3",size:new wt(40,20),connectorShapeType:Ru.OneWay,color:Od.Red,offset:0,lineWidth:2,lineType:tn.Dashed,connectorPlacementType:Ou.Offbeat,selectItems:!1})]}}Hu.\u0275fac=function(t){return new(t||Hu)},Hu.\u0275cmp=Vt({type:Hu,selectors:[["app-example2"]],decls:4,vars:16,consts:[[1,"sample"],[3,"items","pageFitMode","cursorItem","linesWidth","arrowsDirection","showExtraArrows","linesColor","normalLevelShift","dotLevelShift","lineLevelShift","normalItemsInterval","dotItemsInterval","lineItemsInterval","hasSelectorCheckbox","annotations","centerOnCursor"]],template:function(t,n){1&t&&(le(0,"h1"),Je(1,"Families ordering"),pe(),le(2,"div",0),Ye(3,"fam-diagram",1),pe()),2&t&&(q(3),j("items",n.items)("pageFitMode",n.PageFitMode.AutoSize)("cursorItem",2)("linesWidth",1)("arrowsDirection",n.GroupByType.Parents)("showExtraArrows",!0)("linesColor","black")("normalLevelShift",20)("dotLevelShift",20)("lineLevelShift",20)("normalItemsInterval",10)("dotItemsInterval",30)("lineItemsInterval",30)("hasSelectorCheckbox",n.Enabled.True)("annotations",n.annotations)("centerOnCursor",!0))},dependencies:[Ld]});try{Fv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Fv=!1}let Uu,OI=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?function kV(e){return e===fS}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Fv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(n){return new(n||e)(ge(Um))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Nd(e){return function r4(){if(null==Uu&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Uu=!0}))}finally{Uu=Uu||!1}return Uu}()?e:!!e.capture}function FI(e){return Array.isArray(e)?e:[e]}function LI(e){return e instanceof Tn?e.nativeElement:e}class m4 extends bi{constructor(t,n){super()}schedule(t,n=0){return this}}const Bd={setInterval(e,t,...n){const{delegate:i}=Bd;return i?.setInterval?i.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=Bd;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},NI={now:()=>(NI.delegate||Date).now(),delegate:void 0};class ju{constructor(t,n=ju.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,i){return new this.schedulerActionCtor(this,t).schedule(i,n)}}ju.now=NI.now;const y4=new class v4 extends ju{constructor(t,n=ju.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}}}(class g4 extends m4{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,i=0){return Bd.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,n,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return n;null!=n&&Bd.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,n);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ea(i,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}});function b4(e){return _n((t,n)=>{ki(e).subscribe(fn(n,()=>n.complete(),Cf)),!n.closed&&t.subscribe(n)})}const VI=new Set;let al,w4=(()=>{class e{constructor(n){this._platform=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):C4}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function T4(e){if(!VI.has(e))try{al||(al=document.createElement("style"),al.setAttribute("type","text/css"),document.head.appendChild(al)),al.sheet&&(al.sheet.insertRule(`@media ${e} {body{ }}`,0),VI.add(e))}catch(t){console.error(t)}}(n),this._matchMedia(n)}}return e.\u0275fac=function(n){return new(n||e)(ge(OI))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function C4(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let S4=(()=>{class e{constructor(n,i){this._mediaMatcher=n,this._zone=i,this._queries=new Map,this._destroySubject=new cr}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return BI(FI(n)).some(r=>this._registerQuery(r).mql.matches)}observe(n){let s=Eg(BI(FI(n)).map(o=>this._registerQuery(o).observable));return s=jh(s.pipe(ko(1)),s.pipe(function p4(e){return Wr((t,n)=>e<=n)}(1),function _4(e,t=y4){return _n((n,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const u=s;s=null,i.next(u)}};function l(){const u=o+e,c=t.now();if(c<u)return r=this.schedule(void 0,u-c),void i.add(r);a()}n.subscribe(fn(i,u=>{s=u,o=t.now(),r||(r=t.schedule(l,e),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}(0))),s.pipe(Ge(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:u})=>{a.matches=a.matches||l,a.breakpoints[u]=l}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const i=this._mediaMatcher.matchMedia(n),s={observable:new dn(o=>{const a=l=>this._zone.run(()=>o.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(WS(i),Ge(({matches:o})=>({query:n,matches:o})),b4(this._destroySubject)),mql:i};return this._queries.set(n,s),s}}return e.\u0275fac=function(n){return new(n||e)(ge(w4),ge(Lt))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function BI(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}const jI="cdk-high-contrast-black-on-white",$I="cdk-high-contrast-white-on-black",Vv="cdk-high-contrast-active";let F4=(()=>{class e{constructor(n,i){this._platform=n,this._document=i,this._breakpointSubscription=ut(S4).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(n):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(Vv,jI,$I),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?n.add(Vv,jI):2===i&&n.add(Vv,$I)}}}return e.\u0275fac=function(n){return new(n||e)(ge(OI),ge(Xt))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),WI=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=An({type:e}),e.\u0275inj=wn({}),e})();const B4=new fe("mat-sanity-checks",{providedIn:"root",factory:function V4(){return!0}});let qs=(()=>{class e{constructor(n,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return!function a4(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}}return e.\u0275fac=function(n){return new(n||e)(ge(F4),ge(B4,8),ge(Xt))},e.\u0275mod=An({type:e}),e.\u0275inj=wn({imports:[WI,WI]}),e})();function z4(e,t){return class extends e{get color(){return this._color}set color(n){const i=n||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...n){super(...n),this.defaultColor=t,this.color=t}}}class U4{constructor(t,n,i,r=!1){this._renderer=t,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const KI=Nd({passive:!0,capture:!0});class j4{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const n=function o4(e){return e.composedPath?e.composedPath()[0]:e.target}(t);n&&this._events.get(t.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,n,i,r){const s=this._events.get(n);if(s){const o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,KI)})}removeHandler(t,n,i){const r=this._events.get(t);if(!r)return;const s=r.get(n);s&&(s.delete(i),0===s.size&&r.delete(n),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,KI)))}}const XI={enterDuration:225,exitDuration:150},QI=Nd({passive:!0,capture:!0}),YI=["mousedown","touchstart"],ZI=["mouseup","mouseleave","touchend","touchcancel"];class zd{constructor(t,n,i,r){this._target=t,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=LI(i))}fadeInRipple(t,n,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...XI,...i.animation};i.centered&&(t=r.left+r.width/2,n=r.top+r.height/2);const o=i.radius||function W4(e,t,n){const i=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),r=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(i*i+r*r)}(t,n,r),a=t-r.left,l=n-r.top,u=s.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=a-o+"px",c.style.top=l-o+"px",c.style.height=2*o+"px",c.style.width=2*o+"px",null!=i.color&&(c.style.backgroundColor=i.color),c.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(c);const h=window.getComputedStyle(c),f=h.transitionDuration,p="none"===h.transitionProperty||"0s"===f||"0s, 0s"===f||0===r.width&&0===r.height,m=new U4(this,c,i,p);c.style.transform="scale3d(1, 1, 1)",m.state=0,i.persistent||(this._mostRecentTransientRipple=m);let g=null;return!p&&(u||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const _=()=>this._finishRippleTransition(m),b=()=>this._destroyRipple(m);c.addEventListener("transitionend",_),c.addEventListener("transitioncancel",b),g={onTransitionEnd:_,onTransitionCancel:b}}),this._activeRipples.set(m,g),(p||!u)&&this._finishRippleTransition(m),m}fadeOutRipple(t){if(2===t.state||3===t.state)return;const n=t.element,i={...XI,...t.config.animation};n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const n=LI(t);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,YI.forEach(i=>{zd._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{ZI.forEach(n=>{this._triggerElement.addEventListener(n,this,QI)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const n=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!n||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const n=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==n&&(t.element.removeEventListener("transitionend",n.onTransitionEnd),t.element.removeEventListener("transitioncancel",n.onTransitionCancel)),t.element.remove()}_onMousedown(t){const n=function P4(e){return 0===e.buttons||0===e.offsetX&&0===e.offsetY}(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!function O4(e){const t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=t.changedTouches;for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(YI.forEach(n=>zd._eventManager.removeHandler(n,t,this)),this._pointerUpEventsRegistered&&ZI.forEach(n=>t.removeEventListener(n,this,QI)))}}zd._eventManager=new j4;let G4=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=An({type:e}),e.\u0275inj=wn({imports:[qs,qs]}),e})();class Bv{}class Ks{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(n=>{const i=n.indexOf(":");if(i>0){const r=n.slice(0,i),s=r.toLowerCase(),o=n.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(n=>{let i=t[n];const r=n.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(n,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ks?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new Ks;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Ks?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,n);const r=("a"===t.op?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class q4{encodeKey(t){return tk(t)}encodeValue(t){return tk(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const X4=/%(\d[a-f0-9])/gi,Q4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function tk(e){return encodeURIComponent(e).replace(X4,(t,n)=>Q4[n]??t)}function Hd(e){return`${e}`}class Xs{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new q4,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function K4(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const i=t.fromObject[n],r=Array.isArray(i)?i.map(Hd):[Hd(i)];this.map.set(n,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{n.push({param:i,value:s,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new Xs({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(Hd(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Hd(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Y4{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function nk(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function ik(e){return typeof Blob<"u"&&e instanceof Blob}function rk(e){return typeof FormData<"u"&&e instanceof FormData}class Wu{constructor(t,n,i,r){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Z4(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ks),this.context||(this.context=new Y4),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new Xs,this.urlWithParams=n}serializeBody(){return null===this.body?null:nk(this.body)||ik(this.body)||rk(this.body)||function J4(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||rk(this.body)?null:ik(this.body)?this.body.type||null:nk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,u=t.params||this.params;const c=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((h,d)=>h.set(d,t.setHeaders[d]),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((h,d)=>h.set(d,t.setParams[d]),u)),new Wu(n,i,s,{params:u,headers:l,context:c,reportProgress:a,responseType:r,withCredentials:o})}}var Yn=(()=>((Yn=Yn||{})[Yn.Sent=0]="Sent",Yn[Yn.UploadProgress=1]="UploadProgress",Yn[Yn.ResponseHeader=2]="ResponseHeader",Yn[Yn.DownloadProgress=3]="DownloadProgress",Yn[Yn.Response=4]="Response",Yn[Yn.User=5]="User",Yn))();class e8{constructor(t,n=200,i="OK"){this.headers=t.headers||new Ks,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class zv extends e8{constructor(t={}){super(t),this.type=Yn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new zv({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function Hv(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let Uv=(()=>{class e{constructor(n){this.handler=n}request(n,i,r={}){let s;if(n instanceof Wu)s=n;else{let l,u;l=r.headers instanceof Ks?r.headers:new Ks(r.headers),r.params&&(u=r.params instanceof Xs?r.params:new Xs({fromObject:r.params})),s=new Wu(n,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=Oe(s).pipe(Ns(l=>this.handler.handle(l)));if(n instanceof Wu||"events"===r.observe)return o;const a=o.pipe(Wr(l=>l instanceof zv));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Ge(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Ge(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Ge(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Ge(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:(new Xs).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,Hv(r,i))}post(n,i,r={}){return this.request("POST",n,Hv(r,i))}put(n,i,r={}){return this.request("PUT",n,Hv(r,i))}}return e.\u0275fac=function(n){return new(n||e)(ge(Bv))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})();const f8=["*"];let jd;function Gu(e){return function p8(){if(void 0===jd&&(jd=null,typeof window<"u")){const e=window;void 0!==e.trustedTypes&&(jd=e.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return jd}()?.createHTML(e)||e}function dk(e){return Error(`Unable to find icon with the name "${e}"`)}function fk(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function pk(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class Ko{constructor(t,n,i){this.url=t,this.svgText=n,this.options=i}}let $d=(()=>{class e{constructor(n,i,r,s){this._httpClient=n,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(n,i,r){return this.addSvgIconInNamespace("",n,i,r)}addSvgIconLiteral(n,i,r){return this.addSvgIconLiteralInNamespace("",n,i,r)}addSvgIconInNamespace(n,i,r,s){return this._addSvgIconConfig(n,i,new Ko(r,null,s))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,i,r,s){const o=this._sanitizer.sanitize(Dt.HTML,r);if(!o)throw pk(r);const a=Gu(o);return this._addSvgIconConfig(n,i,new Ko("",a,s))}addSvgIconSet(n,i){return this.addSvgIconSetInNamespace("",n,i)}addSvgIconSetLiteral(n,i){return this.addSvgIconSetLiteralInNamespace("",n,i)}addSvgIconSetInNamespace(n,i,r){return this._addSvgIconSetConfig(n,new Ko(i,null,r))}addSvgIconSetLiteralInNamespace(n,i,r){const s=this._sanitizer.sanitize(Dt.HTML,i);if(!s)throw pk(i);const o=Gu(s);return this._addSvgIconSetConfig(n,new Ko("",o,r))}registerFontClassAlias(n,i=n){return this._fontCssClassesByAlias.set(n,i),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(...n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){const i=this._sanitizer.sanitize(Dt.RESOURCE_URL,n);if(!i)throw fk(n);const r=this._cachedIconsByUrl.get(i);return r?Oe(Wd(r)):this._loadSvgIconFromConfig(new Ko(n,null)).pipe(Fn(s=>this._cachedIconsByUrl.set(i,s)),Ge(s=>Wd(s)))}getNamedSvgIcon(n,i=""){const r=mk(i,n);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,n),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(n,o):Wa(dk(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?Oe(Wd(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe(Ge(i=>Wd(i)))}_getSvgFromIconSetConfigs(n,i){const r=this._extractIconWithNameFromAnySet(n,i);return r?Oe(r):function JI(...e){const t=r_(e),{args:n,keys:i}=BS(e),r=new dn(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let l=o,u=o;for(let c=0;c<o;c++){let h=!1;ki(n[c]).subscribe(fn(s,d=>{h||(h=!0,u--),a[c]=d},()=>l--,void 0,()=>{(!l||!h)&&(u||s.next(i?HS(i,a):a),s.complete())}))}});return t?r.pipe(zS(t)):r}(i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(gs(a=>{const u=`Loading icon set URL: ${this._sanitizer.sanitize(Dt.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(u)),Oe(null)})))).pipe(Ge(()=>{const o=this._extractIconWithNameFromAnySet(n,i);if(!o)throw dk(n);return o}))}_extractIconWithNameFromAnySet(n,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(n)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,n,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe(Fn(i=>n.svgText=i),Ge(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?Oe(null):this._fetchIcon(n).pipe(Fn(i=>n.svgText=i))}_extractSvgIconFromSet(n,i,r){const s=n.querySelector(`[id="${i}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const a=this._svgElementFromString(Gu("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,r)}_svgElementFromString(n){const i=this._document.createElement("DIV");i.innerHTML=n;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(n){const i=this._svgElementFromString(Gu("<svg></svg>")),r=n.attributes;for(let s=0;s<r.length;s++){const{name:o,value:a}=r[s];"id"!==o&&i.setAttribute(o,a)}for(let s=0;s<n.childNodes.length;s++)n.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(n.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(n,i){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),i&&i.viewBox&&n.setAttribute("viewBox",i.viewBox),n}_fetchIcon(n){const{url:i,options:r}=n,s=r?.withCredentials??!1;if(!this._httpClient)throw function m8(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const o=this._sanitizer.sanitize(Dt.RESOURCE_URL,i);if(!o)throw fk(i);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Ge(u=>Gu(u)),Wh(()=>this._inProgressUrlFetches.delete(o)),l_());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(n,i,r){return this._svgIconConfigs.set(mk(n,i),r),this}_addSvgIconSetConfig(n,i){const r=this._iconSetConfigs.get(n);return r?r.push(i):this._iconSetConfigs.set(n,[i]),this}_svgElementFromConfig(n){if(!n.svgElement){const i=this._svgElementFromString(n.svgText);this._setSvgAttributes(i,n.options),n.svgElement=i}return n.svgElement}_getIconConfigFromResolvers(n,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,n);if(s)return v8(s)?new Ko(s.url,null,s.options):new Ko(s,null)}}}return e.\u0275fac=function(n){return new(n||e)(ge(Uv,8),ge(kg),ge(Xt,8),ge(us))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Wd(e){return e.cloneNode(!0)}function mk(e,t){return e+":"+t}function v8(e){return!(!e.url||!e.options)}const y8=z4(class{constructor(e){this._elementRef=e}}),_8=new fe("MAT_ICON_DEFAULT_OPTIONS"),b8=new fe("mat-icon-location",{providedIn:"root",factory:function w8(){const e=ut(Xt),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),gk=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],T8=gk.map(e=>`[${e}]`).join(", "),C8=/^url\(['"]?#(.*?)['"]?\)$/;let S8=(()=>{class e extends y8{get inline(){return this._inline}set inline(n){this._inline=function Nv(e){return null!=e&&"false"!=`${e}`}(n)}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){const i=this._cleanupFontValue(n);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){const i=this._cleanupFontValue(n);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(n,i,r,s,o,a){super(n),this._iconRegistry=i,this._location=s,this._errorHandler=o,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=bi.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||n.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];const i=n.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const n=this._elementsWithExternalReferences;if(n&&n.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){const n=this._elementRef.nativeElement;let i=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=n.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const n=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>n.classList.remove(r)),i.forEach(r=>n.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return"string"==typeof n?n.trim().split(" ")[0]:n}_prependPathToReferences(n){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${n}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(n){const i=n.querySelectorAll(T8),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)gk.forEach(o=>{const a=i[s],l=a.getAttribute(o),u=l?l.match(C8):null;if(u){let c=r.get(a);c||(c=[],r.set(a,c)),c.push({name:o,value:u[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){const[i,r]=this._splitIconName(n);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(ko(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return e.\u0275fac=function(n){return new(n||e)(ne(Tn),ne($d),function Al(e){return function ZA(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const i=n.length;let r=0;for(;r<i;){const s=n[r];if($_(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(s===t)return n[r+1];r+=2}}}return null}(jn(),e)}("aria-hidden"),ne(b8),ne(us),ne(_8,8))},e.\u0275cmp=Vt({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(n,i){2&n&&(Cn("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),To("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[bt],ngContentSelectors:f8,decls:1,vars:0,template:function(n,i){1&n&&(Ra(),Nr(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),e})(),D8=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=An({type:e}),e.\u0275inj=wn({imports:[qs,qs]}),e})();function M8(e,t){if(1&e){const n=Ps();le(0,"button",3),Ze("click",function(){const s=hi(n).context;return di(Te().onAddButtonClick(s))}),le(1,"mat-icon"),Je(2,"person_add_alt_1"),pe()(),le(3,"button",4),Ze("click",function(){const s=hi(n).context;return di(Te().onRemoveButtonClick(s))}),le(4,"mat-icon"),Je(5,"person_off"),pe()()}}class qu{constructor(){this.PageFitMode=Mi,this.Enabled=Tt,this.cursorItem=0,this.items=[new ji({id:0,parent:null,title:"James Smith",description:"VP, Public Sector",image:"./assets/photos/a.png"}),new ji({id:1,parent:0,title:"Ted Lucas",description:"VP, Human Resources",image:"./assets/photos/b.png"}),new ji({id:2,parent:0,title:"Fritz Stuger",description:"Business Solutions, US",image:"./assets/photos/c.png"}),new ji({id:3,parent:0,title:"Lynne Rathinam",description:"GM, Enterprise Services",image:"./assets/photos/d.png"})],this.index=4}onAddButtonClick(t){const n=this.items;var i=new ji({id:this.index++,parent:t.id,title:"New Title",description:"New Description",image:"./assets/photos/z.png"});this.items=[...n,i],this.cursorItem=i.id}onRemoveButtonClick(t){const{items:n,cursorItem:i}=this.getDeletedItems(this.items,[t.id]);this.items=n,this.cursorItem=i}getDeletedItems(t=[],n=[]){const i=this.getTree(t),r={};n.forEach(a=>{r[a]=!0});const s=this.getDeletedItemsParent(i,n,r),o=[];return i.loopLevels(this,(a,l)=>{if(r[a])return i.SKIP;o.push(l)}),{items:o,cursorItem:s}}getDeletedItemsParent(t,n,i){let r=null;const s=function i4(e){var r,t=[],n=[],i={};return function s(){var a=0;e.loopEulerWalk(this,function(l,u,c){t.push(l),n.push(c),i.hasOwnProperty(l)||(i[l]=a),a+=1}),r=function n4(e){var t=[],n=Math.log(2);function r(o,a){var l=Math.floor(Math.log(a-o+1)/n);return e[t[o][l]]<=e[t[a-(1<<l)+1][l]]?t[o][l]:t[a-(1<<l)+1][l]}return function i(){for(var o,a=0,l=e.length;a<l;a+=1)t[a]=[a];for(o=1,l=e.length;1<<o<l;o+=1)for(a=0;a+(1<<o)-1<l;a+=1)t[a][o]=e[t[a][o-1]]<e[t[a+(1<<o-1)][o-1]]?t[a][o-1]:t[a+(1<<o-1)][o-1]}(),{getRangeMinimumIndex:r,getRangeMinimum:function s(o,a){return e[r(o,a)]}}}(n)}(),{getLowestCommonAncestor:function o(a,l){var h,u=i[a],c=i[l];return h=u<c?r.getRangeMinimumIndex(u,c):r.getRangeMinimumIndex(c,u),t[h]}}}(t);return r=n.reduce((o,a)=>null==o?a:s.getLowestCommonAncestor(o,a),null),i[r]&&(r=t.parentid(r)),r}getTree(t=[]){const n=Ir();for(let i=0;i<t.length;i+=1){const r=t[i];n.add(r.parent,r.id,r)}return n}}function I8(e,t){if(1&e&&(le(0,"div",3),Je(1),pe()),2&e){const n=t.context;q(1),Wn(n.title)}}qu.\u0275fac=function(t){return new(t||qu)},qu.\u0275cmp=Vt({type:qu,selectors:[["app-example3"]],decls:6,vars:10,consts:[[1,"sample"],[3,"items","hasSelectorCheckbox","hasButtons","buttonsPanelSize","centerOnCursor","buttonsTemplate","pageFitMode","cursorItem"],["buttonsTemplate",""],["mat-icon-button","","aria-label","Add node",3,"click"],["mat-icon-button","","aria-label","Remove node",3,"click"]],template:function(t,n){if(1&t&&(le(0,"h1"),Je(1,"Adding new items to chart at runtime"),pe(),le(2,"div",0),Ye(3,"org-diagram",1),pe(),ce(4,M8,6,0,"ng-template",null,2,Hr)),2&t){const i=Sn(5);q(3),j("items",n.items)("hasSelectorCheckbox",n.Enabled.True)("hasButtons",n.Enabled.True)("buttonsPanelSize",40)("centerOnCursor",!0)("buttonsTemplate",i)("pageFitMode",n.PageFitMode.AutoSize)("cursorItem",0)("hasSelectorCheckbox",n.Enabled.True)("centerOnCursor",!0)}},dependencies:[S8,Rv],styles:[".placeholder[_ngcontent-%COMP%]{display:inline-block;min-height:1em}"]});const k8=function(){return{width:60,height:20}},E8=function(){return{width:3,height:3}},A8=function(){return{left:2,top:2,right:2,bottom:2}},x8=function(e,t,n,i){return{name:"LabelAnnotationTemplate",itemSize:e,minimizedItemSize:t,highlightPadding:n,itemTemplate:i}},P8=function(e){return[e]};class Ku{constructor(){this.PageFitMode=Mi,this.Enabled=Tt,this.GroupByType=zi,this.items=[new st({id:1,parents:[],title:"1",label:"1",description:"",image:"./assets/photos/z.png"}),new st({id:2,parents:[1,101,102,103],title:"2",label:"2",description:"",image:"./assets/photos/a.png"}),new st({id:3,parents:[1,101,102,103],title:"3",label:"3",description:"",image:"./assets/photos/b.png"}),new st({id:4,parents:[1,101,102,103],title:"4",label:"4",description:"",image:"./assets/photos/c.png"}),new st({id:6,parents:[1,101,102,103],title:"6",label:"6",description:"",image:"./assets/photos/e.png"}),new st({id:7,parents:[1,101,102,103],title:"7",label:"7",description:"",image:"./assets/photos/f.png"}),new st({id:8,parents:[1,101,102,103],title:"8",label:"8",description:"",image:"./assets/photos/g.png"}),new st({id:10,parents:[1,101,102,103],title:"10",label:"10",description:"",image:"./assets/photos/i.png"}),new st({id:11,parents:[1,101,102,103],title:"11",label:"11",description:"",image:"./assets/photos/b.png"}),new st({id:12,parents:[11],title:"12",label:"12",description:"",image:"./assets/photos/b.png"}),new st({id:33,parents:[2,3,4,6,7,8,10,12],title:"33",label:"33",description:"",image:"./assets/photos/m.png"})],this.annotations=[new qt({annotationType:gt.Label,fromItem:1,toItems:[2],title:"1->2"}),new qt({annotationType:gt.Label,fromItem:1,toItems:[3],title:"1->3"}),new qt({annotationType:gt.Label,fromItem:1,toItems:[4],title:"1->4"}),new qt({annotationType:gt.Label,fromItem:1,toItems:[6],title:"1->6"}),new qt({annotationType:gt.Label,fromItem:1,toItems:[7],title:"1->7"}),new qt({annotationType:gt.Label,fromItem:1,toItems:[8],title:"1->8"}),new qt({annotationType:gt.Label,fromItem:1,toItems:[10],title:"1->10"}),new qt({annotationType:gt.Label,fromItem:33,toItems:[2],title:"33->2"}),new qt({annotationType:gt.Label,fromItem:33,toItems:[3],title:"33->3"}),new qt({annotationType:gt.Label,fromItem:33,toItems:[4],title:"33->4"}),new qt({annotationType:gt.Label,fromItem:33,toItems:[6],title:"33->6"}),new qt({annotationType:gt.Label,fromItem:33,toItems:[7],title:"33->7"}),new qt({annotationType:gt.Label,fromItem:33,toItems:[8],title:"33->8"})]}}function O8(e,t){if(1&e&&(et(0),le(1,"p")(2,"span"),Je(3,"User set highlight to:"),pe(),Je(4),pe(),tt()),2&e){const n=Te();q(4),Co("\xa0",n.title,"")}}Ku.\u0275fac=function(t){return new(t||Ku)},Ku.\u0275cmp=Vt({type:Ku,selectors:[["app-example4"]],decls:6,vars:28,consts:[[1,"sample"],[3,"items","pageFitMode","cursorItem","linesWidth","groupByType","defaultLabelAnnotationTemplate","arrowsDirection","showExtraArrows","linesColor","normalLevelShift","dotLevelShift","lineLevelShift","normalItemsInterval","dotItemsInterval","lineItemsInterval","hasSelectorCheckbox","centerOnCursor","templates"],["labelAnnotationTemplate",""],[1,"label-annotation"]],template:function(t,n){if(1&t&&(le(0,"h1"),Je(1,"Labels over matrix shaped nodes connection lines"),pe(),le(2,"div",0),Ye(3,"fam-diagram",1),pe(),ce(4,I8,2,1,"ng-template",null,2,Hr)),2&t){const i=Sn(5);q(3),j("items",n.items)("pageFitMode",n.PageFitMode.AutoSize)("cursorItem",2)("linesWidth",1)("groupByType",n.GroupByType.Parents)("defaultLabelAnnotationTemplate","LabelAnnotationTemplate")("arrowsDirection",n.GroupByType.Parents)("showExtraArrows",!0)("linesColor","black")("normalLevelShift",20)("dotLevelShift",20)("lineLevelShift",20)("normalItemsInterval",10)("dotItemsInterval",30)("lineItemsInterval",30)("hasSelectorCheckbox",n.Enabled.True)("centerOnCursor",!0)("templates",Vn(26,P8,km(21,x8,Do(18,k8),Do(19,E8),Do(20,A8),i)))}},dependencies:[Ld],styles:[".label-annotation[_ngcontent-%COMP%]{position:absolute;overflow:visible;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-webkit-touch-callout:none;user-select:none;box-sizing:content-box;width:100%;text-align:center}"]});class Xu{constructor(){this.PageFitMode=Mi,this.Enabled=Tt,this.highlightItem=0,this.items=[new ji({id:0,parent:null,title:"James Smith",description:"VP, Public Sector",image:"./assets/photos/a.png"}),new ji({id:1,parent:0,title:"Ted Lucas",description:"VP, Human Resources",image:"./assets/photos/b.png"}),new ji({id:2,parent:0,title:"Fritz Stuger",description:"Business Solutions, US",image:"./assets/photos/c.png"})]}onHighlightChanged(t){const{context:n}=t;n&&(this.title=n.title+" ")}update(t=null){this.highlightItem=t}}function R8(e,t){if(1&e&&(le(0,"div",3),Je(1),pe()),2&e){const n=t.context;q(1),Wn(n.title)}}Xu.\u0275fac=function(t){return new(t||Xu)},Xu.\u0275cmp=Vt({type:Xu,selectors:[["app-example5"]],decls:20,vars:6,consts:[["mat-raised-button","",3,"click"],[4,"ngIf"],[1,"sample"],[3,"items","highlightItem","pageFitMode","hasSelectorCheckbox","centerOnCursor","onHighlightChanged"]],template:function(t,n){1&t&&(le(0,"h1"),Je(1,"Selecting Highlight Item"),pe(),le(2,"p")(3,"span"),Je(4,"Set highlight to: \xa0"),pe(),le(5,"button",0),Ze("click",function(){return n.update(0)}),Je(6,"James Smith"),pe(),Je(7,"\xa0 "),le(8,"button",0),Ze("click",function(){return n.update(1)}),Je(9,"Ted Lucas"),pe(),Je(10,"\xa0 "),le(11,"button",0),Ze("click",function(){return n.update(2)}),Je(12,"Fritz Stuger"),pe(),Je(13,"\xa0 "),le(14,"button",0),Ze("click",function(){return n.update(null)}),Je(15,"Unselect"),pe()(),le(16,"p"),ce(17,O8,5,1,"ng-container",1),pe(),le(18,"div",2)(19,"org-diagram",3),Ze("onHighlightChanged",function(r){return n.onHighlightChanged(r)}),pe()()),2&t&&(q(17),j("ngIf",n.title),q(2),j("items",n.items)("highlightItem",n.highlightItem)("pageFitMode",n.PageFitMode.AutoSize)("hasSelectorCheckbox",n.Enabled.True)("centerOnCursor",!0))},dependencies:[ja,Rv]});const F8=function(){return{width:60,height:20}},L8=function(){return{width:3,height:3}},N8=function(){return{left:2,top:2,right:2,bottom:2}},V8=function(e,t,n,i){return{name:"LabelAnnotationTemplate",itemSize:e,minimizedItemSize:t,highlightPadding:n,itemTemplate:i}},B8=function(e){return[e]};class Qu{constructor(){this.PageFitMode=Mi,this.Enabled=Tt,this.GroupByType=zi,this.items=[new st({id:1,parents:[],title:"1",label:"1",description:"",image:"./assets/photos/z.png"}),new st({id:2,parents:[1,101,102,103],title:"2",label:"2",description:"",image:"./assets/photos/a.png"}),new st({id:3,parents:[1,101,102,103],title:"3",label:"3",description:"",image:"./assets/photos/b.png"}),new st({id:4,parents:[1,101,102,103],title:"4",label:"4",description:"",image:"./assets/photos/c.png"}),new st({id:6,parents:[1,101,102,103],title:"6",label:"6",description:"",image:"./assets/photos/e.png"}),new st({id:7,parents:[1,101,102,103],title:"7",label:"7",description:"",image:"./assets/photos/f.png"}),new st({id:8,parents:[1,101,102,103],title:"8",label:"8",description:"",image:"./assets/photos/g.png"}),new st({id:10,parents:[1,101,102,103],title:"10",label:"10",description:"",image:"./assets/photos/i.png"}),new st({id:11,parents:[1,101,102,103],title:"11",label:"11",description:"",image:"./assets/photos/b.png"}),new st({id:12,parents:[11],title:"12",label:"12",description:"",image:"./assets/photos/b.png"}),new st({id:33,parents:[2,3,4,6,7,8,10,12],title:"33",label:"33",description:"",image:"./assets/photos/m.png"})],this.annotations=[new qt({annotationType:gt.Label,fromItem:1,toItems:[2],title:"1->2"}),new qt({annotationType:gt.Label,fromItem:1,toItems:[3],title:"1->3"}),new qt({annotationType:gt.Label,fromItem:1,toItems:[4],title:"1->4"}),new qt({annotationType:gt.Label,fromItem:1,toItems:[6],title:"1->6"}),new qt({annotationType:gt.Label,fromItem:1,toItems:[7],title:"1->7"}),new qt({annotationType:gt.Label,fromItem:1,toItems:[8],title:"1->8"}),new qt({annotationType:gt.Label,fromItem:1,toItems:[10],title:"1->10"}),new qt({annotationType:gt.Label,fromItem:33,toItems:[2],title:"33->2"}),new qt({annotationType:gt.Label,fromItem:33,toItems:[3],title:"33->3"}),new qt({annotationType:gt.Label,fromItem:33,toItems:[4],title:"33->4"}),new qt({annotationType:gt.Label,fromItem:33,toItems:[6],title:"33->6"}),new qt({annotationType:gt.Label,fromItem:33,toItems:[7],title:"33->7"}),new qt({annotationType:gt.Label,fromItem:33,toItems:[8],title:"33->8"})]}}Qu.\u0275fac=function(t){return new(t||Qu)},Qu.\u0275cmp=Vt({type:Qu,selectors:[["app-example6"]],decls:6,vars:30,consts:[[1,"sample"],[3,"items","annotations","pageFitMode","cursorItem","linesWidth","enableMatrixLayout","groupByType","arrowsDirection","showExtraArrows","linesColor","normalLevelShift","dotLevelShift","lineLevelShift","normalItemsInterval","dotItemsInterval","lineItemsInterval","hasSelectorCheckbox","centerOnCursor","defaultLabelAnnotationTemplate","templates"],["labelAnnotationTemplate",""],[1,"label-annotation"]],template:function(t,n){if(1&t&&(le(0,"h1"),Je(1,"Labels over matrix shaped nodes connection lines"),pe(),le(2,"div",0),Ye(3,"fam-diagram",1),pe(),ce(4,R8,2,1,"ng-template",null,2,Hr)),2&t){const i=Sn(5);q(3),j("items",n.items)("annotations",n.annotations)("pageFitMode",n.PageFitMode.AutoSize)("cursorItem",1)("linesWidth",1)("enableMatrixLayout",!0)("groupByType",n.GroupByType.Parents)("arrowsDirection",n.GroupByType.Parents)("showExtraArrows",!0)("linesColor","black")("normalLevelShift",20)("dotLevelShift",20)("lineLevelShift",20)("normalItemsInterval",30)("dotItemsInterval",30)("lineItemsInterval",30)("hasSelectorCheckbox",n.Enabled.True)("centerOnCursor",!0)("defaultLabelAnnotationTemplate","LabelAnnotationTemplate")("templates",Vn(28,B8,km(23,V8,Do(20,F8),Do(21,L8),Do(22,N8),i)))}},dependencies:[Ld],styles:[".label-annotation[_ngcontent-%COMP%] {\n        position: absolute;\n        overflow: visible;\n        font-family: Trebuchet MS, Tahoma, Verdana, Arial, sans-serif;\n        -webkit-tap-highlight-color: rgba(0,0,0,0);\n        -webkit-user-select: none;\n        -webkit-touch-callout: none;\n        -khtml-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        box-sizing: content-box;\n        width: 100%;\n        text-align: center;\n    }"]});const z8=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Bu},{path:"example1",component:zu},{path:"example2",component:Hu},{path:"example3",component:qu},{path:"example4",component:Ku},{path:"example5",component:Xu},{path:"example6",component:Qu}];class cl{}cl.\u0275fac=function(t){return new(t||cl)},cl.\u0275mod=An({type:cl}),cl.\u0275inj=wn({imports:[JD.forRoot(z8),JD]});class Yu{constructor(t){this.router=t,this.title="First Family Chart"}home(){this.router.navigate(["home"])}example1(){this.router.navigate(["example1"])}example2(){this.router.navigate(["example2"])}example3(){this.router.navigate(["example3"])}example4(){this.router.navigate(["example4"])}example5(){this.router.navigate(["example5"])}example6(){this.router.navigate(["example6"])}}Yu.\u0275fac=function(t){return new(t||Yu)(ne(Di))},Yu.\u0275cmp=Vt({type:Yu,selectors:[["app-root"]],decls:29,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"navbar-brand",3,"click"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item","active"],[1,"nav-link",3,"click"],[1,"nav-item"]],template:function(t,n){1&t&&(le(0,"nav",0)(1,"a",1),Ze("click",function(){return n.home()}),Je(2,"Navbar"),pe(),le(3,"button",2),Ye(4,"span",3),pe(),le(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),Ze("click",function(){return n.home()}),Je(9," Simple Data"),pe()(),le(10,"li",8)(11,"a",7),Ze("click",function(){return n.example1()}),Je(12,"Example 1"),pe()(),le(13,"li",8)(14,"a",7),Ze("click",function(){return n.example2()}),Je(15,"Example 2"),pe()(),le(16,"li",8)(17,"a",7),Ze("click",function(){return n.example3()}),Je(18,"Example 3"),pe()(),le(19,"li",8)(20,"a",7),Ze("click",function(){return n.example4()}),Je(21,"Example 4"),pe()(),le(22,"li",8)(23,"a",7),Ze("click",function(){return n.example5()}),Je(24,"Example 4"),pe()(),le(25,"li",8)(26,"a",7),Ze("click",function(){return n.example6()}),Je(27,"Example 4"),pe()()()()(),Ye(28,"router-outlet"))},dependencies:[Wg]});class vk{}class H8{}const Ds="*";function yk(e,t=null){return{type:2,steps:e,options:t}}function _k(e){return{type:6,styles:e,offset:null}}function bk(e){Promise.resolve().then(e)}class Zu{constructor(t=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){bk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class wk{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let n=0,i=0,r=0;const s=this.players.length;0==s?bk(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const n=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((n,i)=>null===n||i.totalTime>n.totalTime?i:n,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}function Tk(e){return new Y(3e3,!1)}function TW(){return typeof window<"u"&&typeof window.document<"u"}function Wv(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Qs(e){switch(e.length){case 0:return new Zu;case 1:return e[0];default:return new wk(e)}}function Ck(e,t,n,i,r=new Map,s=new Map){const o=[],a=[];let l=-1,u=null;if(i.forEach(c=>{const h=c.get("offset"),d=h==l,f=d&&u||new Map;c.forEach((p,m)=>{let g=m,_=p;if("offset"!==m)switch(g=t.normalizePropertyName(g,o),_){case"!":_=r.get(m);break;case Ds:_=s.get(m);break;default:_=t.normalizeStyleValue(m,g,_,o)}f.set(g,_)}),d||a.push(f),u=f,l=h}),o.length)throw function cW(e){return new Y(3502,!1)}();return a}function Gv(e,t,n,i){switch(t){case"start":e.onStart(()=>i(n&&qv(n,"start",e)));break;case"done":e.onDone(()=>i(n&&qv(n,"done",e)));break;case"destroy":e.onDestroy(()=>i(n&&qv(n,"destroy",e)))}}function qv(e,t,n){const s=Kv(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,n.totalTime??e.totalTime,!!n.disabled),o=e._data;return null!=o&&(s._data=o),s}function Kv(e,t,n,i,r="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function $i(e,t,n){let i=e.get(t);return i||e.set(t,i=n),i}function Sk(e){const t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}let Xv=(e,t)=>!1,Dk=(e,t,n)=>[],Mk=null;function Qv(e){const t=e.parentNode||e.host;return t===Mk?null:t}(Wv()||typeof Element<"u")&&(TW()?(Mk=(()=>document.documentElement)(),Xv=(e,t)=>{for(;t;){if(t===e)return!0;t=Qv(t)}return!1}):Xv=(e,t)=>e.contains(t),Dk=(e,t,n)=>{if(n)return Array.from(e.querySelectorAll(t));const i=e.querySelector(t);return i?[i]:[]});let Xo=null,Ik=!1;const kk=Xv,Ek=Dk;let Ak=(()=>{class e{validateStyleProperty(n){return function SW(e){Xo||(Xo=function DW(){return typeof document<"u"?document.body:null}()||{},Ik=!!Xo.style&&"WebkitAppearance"in Xo.style);let t=!0;return Xo.style&&!function CW(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in Xo.style,!t&&Ik&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Xo.style)),t}(n)}matchesElement(n,i){return!1}containsElement(n,i){return kk(n,i)}getParentElement(n){return Qv(n)}query(n,i,r){return Ek(n,i,r)}computeStyle(n,i,r){return r||""}animate(n,i,r,s,o,a=[],l){return new Zu(r,s)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})(),Yv=(()=>{class e{}return e.NOOP=new Ak,e})();const Zv="ng-enter",Gd="ng-leave",qd="ng-trigger",Kd=".ng-trigger",Pk="ng-animating",Jv=".ng-animating";function Ms(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:ey(parseFloat(t[1]),t[2])}function ey(e,t){return"s"===t?1e3*e:e}function Xd(e,t,n){return e.hasOwnProperty("duration")?e:function kW(e,t,n){let r,s=0,o="";if("string"==typeof e){const a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(Tk()),{duration:0,delay:0,easing:""};r=ey(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=ey(parseFloat(l),a[4]));const u=a[5];u&&(o=u)}else r=e;if(!n){let a=!1,l=t.length;r<0&&(t.push(function U8(){return new Y(3100,!1)}()),a=!0),s<0&&(t.push(function j8(){return new Y(3101,!1)}()),a=!0),a&&t.splice(l,0,Tk())}return{duration:r,delay:s,easing:o}}(e,t,n)}function Ju(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function Ok(e){const t=new Map;return Object.keys(e).forEach(n=>{t.set(n,e[n])}),t}function Ys(e,t=new Map,n){if(n)for(let[i,r]of n)t.set(i,r);for(let[i,r]of e)t.set(i,r);return t}function Fk(e,t,n){return n?t+":"+n+";":""}function Lk(e){let t="";for(let n=0;n<e.style.length;n++){const i=e.style.item(n);t+=Fk(0,i,e.style.getPropertyValue(i))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=Fk(0,PW(n),e.style[n]));e.setAttribute("style",t)}function Zr(e,t,n){e.style&&(t.forEach((i,r)=>{const s=ny(r);n&&!n.has(r)&&n.set(r,e.style[s]),e.style[s]=i}),Wv()&&Lk(e))}function Qo(e,t){e.style&&(t.forEach((n,i)=>{const r=ny(i);e.style[r]=""}),Wv()&&Lk(e))}function ec(e){return Array.isArray(e)?1==e.length?e[0]:yk(e):e}const ty=new RegExp("{{\\s*(.+?)\\s*}}","g");function Nk(e){let t=[];if("string"==typeof e){let n;for(;n=ty.exec(e);)t.push(n[1]);ty.lastIndex=0}return t}function tc(e,t,n){const i=e.toString(),r=i.replace(ty,(s,o)=>{let a=t[o];return null==a&&(n.push(function W8(e){return new Y(3003,!1)}()),a=""),a.toString()});return r==i?e:r}function Qd(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const xW=/-+([a-z0-9])/g;function ny(e){return e.replace(xW,(...t)=>t[1].toUpperCase())}function PW(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Wi(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw function G8(e){return new Y(3004,!1)}()}}function Vk(e,t){return window.getComputedStyle(e)[t]}function VW(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(i=>function BW(e,t,n){if(":"==e[0]){const l=function zW(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return t.push(function oW(e){return new Y(3016,!1)}()),"* => *"}}(e,n);if("function"==typeof l)return void t.push(l);e=l}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(function sW(e){return new Y(3015,!1)}()),t;const r=i[1],s=i[2],o=i[3];t.push(Bk(r,o));"<"==s[0]&&!("*"==r&&"*"==o)&&t.push(Bk(o,r))}(i,n,t)):n.push(e),n}const ef=new Set(["true","1"]),tf=new Set(["false","0"]);function Bk(e,t){const n=ef.has(e)||tf.has(e),i=ef.has(t)||tf.has(t);return(r,s)=>{let o="*"==e||e==r,a="*"==t||t==s;return!o&&n&&"boolean"==typeof r&&(o=r?ef.has(e):tf.has(e)),!a&&i&&"boolean"==typeof s&&(a=s?ef.has(t):tf.has(t)),o&&a}}const HW=new RegExp("s*:selfs*,?","g");function iy(e,t,n,i){return new UW(e).build(t,n,i)}class UW{constructor(t){this._driver=t}build(t,n,i){const r=new WW(n);return this._resetContextStyleTimingState(r),Wi(this,ec(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,n){let i=n.queryCount=0,r=n.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&n.errors.push(function K8(){return new Y(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(c=>{l.name=c,s.push(this.visitState(l,n))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,n);i+=l.queryCount,r+=l.depCount,o.push(l)}else n.errors.push(function X8(){return new Y(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,n){const i=this.visitStyle(t.styles,n),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Nk(l).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&(Qd(s.values()),n.errors.push(function Q8(e,t){return new Y(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,n){n.queryCount=0,n.depCount=0;const i=Wi(this,ec(t.animation),n);return{type:1,matchers:VW(t.expr,n.errors),animation:i,queryCount:n.queryCount,depCount:n.depCount,options:Yo(t.options)}}visitSequence(t,n){return{type:2,steps:t.steps.map(i=>Wi(this,i,n)),options:Yo(t.options)}}visitGroup(t,n){const i=n.currentTime;let r=0;const s=t.steps.map(o=>{n.currentTime=i;const a=Wi(this,o,n);return r=Math.max(r,n.currentTime),a});return n.currentTime=r,{type:3,steps:s,options:Yo(t.options)}}visitAnimate(t,n){const i=function qW(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return ry(Xd(e,t).duration,0,"");const n=e;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=ry(0,0,"");return s.dynamic=!0,s.strValue=n,s}const r=Xd(n,t);return ry(r.duration,r.delay,r.easing)}(t.timings,n.errors);n.currentAnimateTimings=i;let r,s=t.styles?t.styles:_k({});if(5==s.type)r=this.visitKeyframes(s,n);else{let o=t.styles,a=!1;if(!o){a=!0;const u={};i.easing&&(u.easing=i.easing),o=_k(u)}n.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,n);l.isEmptyStep=a,r=l}return n.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,n){const i=this._makeStyleAst(t,n);return this._validateStyleAst(i,n),i}_makeStyleAst(t,n){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Ds?i.push(a):n.errors.push(new Y(3002,!1)):i.push(Ok(a));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,n){const i=n.currentAnimateTimings;let r=n.currentTime,s=n.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const u=n.collectedStyles.get(n.currentQuerySelector),c=u.get(l);let h=!0;c&&(s!=r&&s>=c.startTime&&r<=c.endTime&&(n.errors.push(function Z8(e,t,n,i,r){return new Y(3010,!1)}()),h=!1),s=c.startTime),h&&u.set(l,{startTime:s,endTime:r}),n.options&&function AW(e,t,n){const i=t.params||{},r=Nk(e);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||n.push(function $8(e){return new Y(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(t,n){const i={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function J8(){return new Y(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,u=0;const c=t.steps.map(_=>{const b=this._makeStyleAst(_,n);let y=null!=b.offset?b.offset:function GW(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(n=>{if(n instanceof Map&&n.has("offset")){const i=n;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}return t}(b.styles),v=0;return null!=y&&(s++,v=b.offset=y),l=l||v<0||v>1,a=a||v<u,u=v,o.push(v),b});l&&n.errors.push(function eW(){return new Y(3012,!1)}()),a&&n.errors.push(function tW(){return new Y(3200,!1)}());const h=t.steps.length;let d=0;s>0&&s<h?n.errors.push(function nW(){return new Y(3202,!1)}()):0==s&&(d=1/(h-1));const f=h-1,p=n.currentTime,m=n.currentAnimateTimings,g=m.duration;return c.forEach((_,b)=>{const y=d>0?b==f?1:d*b:o[b],v=y*g;n.currentTime=p+m.delay+v,m.duration=v,this._validateStyleAst(_,n),_.offset=y,i.styles.push(_)}),i}visitReference(t,n){return{type:8,animation:Wi(this,ec(t.animation),n),options:Yo(t.options)}}visitAnimateChild(t,n){return n.depCount++,{type:9,options:Yo(t.options)}}visitAnimateRef(t,n){return{type:10,animation:this.visitReference(t.animation,n),options:Yo(t.options)}}visitQuery(t,n){const i=n.currentQuerySelector,r=t.options||{};n.queryCount++,n.currentQuery=t;const[s,o]=function jW(e){const t=!!e.split(/\s*,\s*/).find(n=>":self"==n);return t&&(e=e.replace(HW,"")),e=e.replace(/@\*/g,Kd).replace(/@\w+/g,n=>Kd+"-"+n.slice(1)).replace(/:animating/g,Jv),[e,t]}(t.selector);n.currentQuerySelector=i.length?i+" "+s:s,$i(n.collectedStyles,n.currentQuerySelector,new Map);const a=Wi(this,ec(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Yo(t.options)}}visitStagger(t,n){n.currentQuery||n.errors.push(function iW(){return new Y(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Xd(t.timings,n.errors,!0);return{type:12,animation:Wi(this,ec(t.animation),n),timings:i,options:null}}}class WW{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Yo(e){return e?(e=Ju(e)).params&&(e.params=function $W(e){return e?Ju(e):null}(e.params)):e={},e}function ry(e,t,n){return{duration:e,delay:t,easing:n}}function sy(e,t,n,i,r,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class nf{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,n){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...n)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const QW=new RegExp(":enter","g"),ZW=new RegExp(":leave","g");function oy(e,t,n,i,r,s=new Map,o=new Map,a,l,u=[]){return(new JW).buildKeyframes(e,t,n,i,r,s,o,a,l,u)}class JW{buildKeyframes(t,n,i,r,s,o,a,l,u,c=[]){u=u||new nf;const h=new ay(t,n,u,r,s,c,[]);h.options=l;const d=l.delay?Ms(l.delay):0;h.currentTimeline.delayNextStep(d),h.currentTimeline.setStyles([o],null,h.errors,l),Wi(this,i,h);const f=h.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const g=f[m];if(g.element===n){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,h.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[sy(n,[],[],[],0,d,"",!1)]}visitTrigger(t,n){}visitState(t,n){}visitTransition(t,n){}visitAnimateChild(t,n){const i=n.subInstructions.get(n.element);if(i){const r=n.createSubContext(t.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=t}visitAnimateRef(t,n){const i=n.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],n,i),this.visitReference(t.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=t}_applyAnimationRefDelays(t,n,i){for(const r of t){const s=r?.delay;if(s){const o="number"==typeof s?s:Ms(tc(s,r?.params??{},n.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,n,i){let s=n.currentTimeline.currentTime;const o=null!=i.duration?Ms(i.duration):null,a=null!=i.delay?Ms(i.delay):null;return 0!==o&&t.forEach(l=>{const u=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(t,n){n.updateOptions(t.options,!0),Wi(this,t.animation,n),n.previousNode=t}visitSequence(t,n){const i=n.subContextCount;let r=n;const s=t.options;if(s&&(s.params||s.delay)&&(r=n.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=rf);const o=Ms(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Wi(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=t}visitGroup(t,n){const i=[];let r=n.currentTimeline.currentTime;const s=t.options&&t.options.delay?Ms(t.options.delay):0;t.steps.forEach(o=>{const a=n.createSubContext(t.options);s&&a.delayNextStep(s),Wi(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(r),n.previousNode=t}_visitTiming(t,n){if(t.dynamic){const i=t.strValue;return Xd(n.params?tc(i,n.params,n.errors):i,n.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,n){const i=n.currentAnimateTimings=this._visitTiming(t.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(i.duration),this.visitStyle(s,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=t}visitStyle(t,n){const i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,n.errors,n.options),n.previousNode=t}visitKeyframes(t,n){const i=n.currentAnimateTimings,r=n.currentTimeline.duration,s=i.duration,a=n.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(r+s),n.previousNode=t}visitQuery(t,n){const i=n.currentTimeline.currentTime,r=t.options||{},s=r.delay?Ms(r.delay):0;s&&(6===n.previousNode.type||0==i&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=rf);let o=i;const a=n.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((u,c)=>{n.currentQueryIndex=c;const h=n.createSubContext(t.options,u);s&&h.delayNextStep(s),u===n.element&&(l=h.currentTimeline),Wi(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,h.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=t}visitStagger(t,n){const i=n.parentContext,r=n.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const c=n.currentTimeline;l&&c.delayNextStep(l);const h=c.currentTime;Wi(this,t.animation,n),n.previousNode=t,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}}const rf={};class ay{constructor(t,n,i,r,s,o,a,l){this._driver=t,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new sf(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,n){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Ms(i.duration)),null!=i.delay&&(r.delay=Ms(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=tc(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const n=this.options.params;if(n){const i=t.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return t}createSubContext(t=null,n,i){const r=n||this.element,s=new ay(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=rf,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,n,i){const r={duration:n??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new eG(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,n,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(QW,"."+this._enterClassName)).replace(ZW,"."+this._leaveClassName);let u=this._driver.query(this.element,t,1!=i);0!==i&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!s&&0==a.length&&o.push(function rW(e){return new Y(3014,!1)}()),a}}class sf{constructor(t,n,i,r){this._driver=t,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+t),n&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,n){return this.applyStylesToKeyframe(),new sf(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,n){this._localTimelineStyles.set(t,n),this._globalTimelineStyles.set(t,n),this._styleSummary.set(t,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||Ds),this._currentKeyframe.set(n,Ds);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,n,i,r){n&&this._previousKeyframe.set("easing",n);const s=r&&r.params||{},o=function tG(e,t){const n=new Map;let i;return e.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)n.set(s,Ds)}else Ys(r,n)}),n}(t,this._globalTimelineStyles);for(let[a,l]of o){const u=tc(l,s,i);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ds),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,n)=>{this._currentKeyframe.set(n,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,t)}))}snapshotCurrentStyles(){for(let[t,n]of this._localTimelineStyles)this._pendingStyles.set(t,n),this._updateStyle(t,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let n in this._currentKeyframe)t.push(n);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((n,i)=>{const r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const u=Ys(a,new Map,this._backFill);u.forEach((c,h)=>{"!"===c?t.add(h):c===Ds&&n.add(h)}),i||u.set("offset",l/this.duration),r.push(u)});const s=t.size?Qd(t.values()):[],o=n.size?Qd(n.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return sy(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class eG extends sf{constructor(t,n,i,r,s,o,a=!1){super(t,n,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=i+n,a=n/o,l=Ys(t[0]);l.set("offset",0),s.push(l);const u=Ys(t[0]);u.set("offset",Uk(a)),s.push(u);const c=t.length-1;for(let h=1;h<=c;h++){let d=Ys(t[h]);const f=d.get("offset");d.set("offset",Uk((n+f*i)/o)),s.push(d)}i=o,n=0,r="",t=s}return sy(this.element,t,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}function Uk(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class ly{}const nG=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class iG extends ly{normalizePropertyName(t,n){return ny(t)}normalizeStyleValue(t,n,i,r){let s="";const o=i.toString().trim();if(nG.has(n)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function q8(e,t){return new Y(3005,!1)}())}return o+s}}function jk(e,t,n,i,r,s,o,a,l,u,c,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}const uy={};class $k{constructor(t,n,i){this._triggerName=t,this.ast=n,this._stateStyles=i}match(t,n,i,r){return function rG(e,t,n,i,r){return e.some(s=>s(t,n,i,r))}(this.ast.matchers,t,n,i,r)}buildStyles(t,n,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(n,i):new Map}build(t,n,i,r,s,o,a,l,u,c){const h=[],d=this.ast.options&&this.ast.options.params||uy,p=this.buildStyles(i,a&&a.params||uy,h),m=l&&l.params||uy,g=this.buildStyles(r,m,h),_=new Set,b=new Map,y=new Map,v="void"===r,w={params:sG(m,d),delay:this.ast.options?.delay},S=c?[]:oy(t,n,this.ast.animation,s,o,p,g,w,u,h);let T=0;if(S.forEach(M=>{T=Math.max(M.duration+M.delay,T)}),h.length)return jk(n,this._triggerName,i,r,v,p,g,[],[],b,y,T,h);S.forEach(M=>{const D=M.element,I=$i(b,D,new Set);M.preStyleProps.forEach(P=>I.add(P));const E=$i(y,D,new Set);M.postStyleProps.forEach(P=>E.add(P)),D!==n&&_.add(D)});const C=Qd(_.values());return jk(n,this._triggerName,i,r,v,p,g,S,C,b,y,T)}}function sG(e,t){const n=Ju(t);for(const i in e)e.hasOwnProperty(i)&&null!=e[i]&&(n[i]=e[i]);return n}class oG{constructor(t,n,i){this.styles=t,this.defaultParams=n,this.normalizer=i}buildStyles(t,n){const i=new Map,r=Ju(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=tc(o,r,n));const l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),i.set(a,o)})}),i}}class lG{constructor(t,n,i){this.name=t,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{this.states.set(r.name,new oG(r.style,r.options&&r.options.params||{},i))}),Wk(this.states,"true","1"),Wk(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new $k(t,r,this.states))}),this.fallbackTransition=function uG(e,t,n){return new $k(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,n,i,r){return this.transitionFactories.find(o=>o.match(t,n,i,r))||null}matchStyles(t,n,i){return this.fallbackTransition.buildStyles(t,n,i)}}function Wk(e,t,n){e.has(t)?e.has(n)||e.set(n,e.get(t)):e.has(n)&&e.set(t,e.get(n))}const cG=new nf;class hG{constructor(t,n,i){this.bodyNode=t,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,n){const i=[],s=iy(this._driver,n,i,[]);if(i.length)throw function hW(e){return new Y(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,n,i){const r=t.element,s=Ck(0,this._normalizer,0,t.keyframes,n,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,n,i={}){const r=[],s=this._animations.get(t);let o;const a=new Map;if(s?(o=oy(this._driver,n,s,Zv,Gd,new Map,new Map,i,cG,r),o.forEach(c=>{const h=$i(a,c.element,new Map);c.postStyleProps.forEach(d=>h.set(d,null))})):(r.push(function dW(){return new Y(3300,!1)}()),o=[]),r.length)throw function fW(e){return new Y(3504,!1)}();a.forEach((c,h)=>{c.forEach((d,f)=>{c.set(f,this._driver.computeStyle(h,f,Ds))})});const u=Qs(o.map(c=>{const h=a.get(c.element);return this._buildPlayer(c,new Map,h)}));return this._playersById.set(t,u),u.onDestroy(()=>this.destroy(t)),this.players.push(u),u}destroy(t){const n=this._getPlayer(t);n.destroy(),this._playersById.delete(t);const i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(t){const n=this._playersById.get(t);if(!n)throw function pW(e){return new Y(3301,!1)}();return n}listen(t,n,i,r){const s=Kv(n,"","","");return Gv(this._getPlayer(t),i,s,r),()=>{}}command(t,n,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,n,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Gk="ng-animate-queued",cy="ng-animate-disabled",gG=[],qk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},vG={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},or="__ng_removed";class hy{get params(){return this.options.params}constructor(t,n=""){this.namespaceId=n;const i=t&&t.hasOwnProperty("value");if(this.value=function wG(e){return e??null}(i?t.value:t),i){const s=Ju(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const n=t.params;if(n){const i=this.options.params;Object.keys(n).forEach(r=>{null==i[r]&&(i[r]=n[r])})}}}const nc="void",dy=new hy(nc);class yG{constructor(t,n,i){this.id=t,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ar(n,this._hostClassName)}listen(t,n,i,r){if(!this._triggers.has(n))throw function mW(e,t){return new Y(3302,!1)}();if(null==i||0==i.length)throw function gW(e){return new Y(3303,!1)}();if(!function TG(e){return"start"==e||"done"==e}(i))throw function vW(e,t){return new Y(3400,!1)}();const s=$i(this._elementListeners,t,[]),o={name:n,phase:i,callback:r};s.push(o);const a=$i(this._engine.statesByElement,t,new Map);return a.has(n)||(ar(t,qd),ar(t,qd+"-"+n),a.set(n,dy)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(t,n){return!this._triggers.has(t)&&(this._triggers.set(t,n),!0)}_getTrigger(t){const n=this._triggers.get(t);if(!n)throw function yW(e){return new Y(3401,!1)}();return n}trigger(t,n,i,r=!0){const s=this._getTrigger(n),o=new fy(this.id,n,t);let a=this._engine.statesByElement.get(t);a||(ar(t,qd),ar(t,qd+"-"+n),this._engine.statesByElement.set(t,a=new Map));let l=a.get(n);const u=new hy(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(n,u),l||(l=dy),u.value!==nc&&l.value===u.value){if(!function DG(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const s=n[r];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}(l.params,u.params)){const m=[],g=s.matchStyles(l.value,l.params,m),_=s.matchStyles(u.value,u.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Qo(t,g),Zr(t,_)})}return}const d=$i(this._engine.playersByElement,t,[]);d.forEach(m=>{m.namespaceId==this.id&&m.triggerName==n&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,u.value,t,u.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:f,fromState:l,toState:u,player:o,isFallbackTransition:p}),p||(ar(t,Gk),o.onStart(()=>{hl(t,Gk)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(t);if(g){let _=g.indexOf(o);_>=0&&g.splice(_,1)}}),this.players.push(o),d.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(n=>n.delete(t)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const n=this._engine.playersByElement.get(t);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,n){const i=this._engine.driver.query(t,Kd,!0);i.forEach(r=>{if(r[or])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,n,i,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(s.forEach((l,u)=>{if(o.set(u,l.value),this._triggers.has(u)){const c=this.trigger(t,u,nc,r);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,n,o),i&&Qs(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const n=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(n&&i){const r=new Set;n.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,u=i.get(o)||dy,c=new hy(nc),h=new fy(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:u,toState:c,player:h,isFallbackTransition:!0})})}}removeNode(t,n){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,n),this.triggerLeaveAnimation(t,n,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,n);else{const s=t[or];(!s||s===qk)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,n))}}insertNode(t,n){ar(t,this._hostClassName)}drainQueuedTransitions(t){const n=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=Kv(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,Gv(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let n=!1;return this._elementListeners.has(t)&&(n=!0),n=!!this._queue.find(i=>i.element===t)||n,n}}class _G{_onRemovalComplete(t,n){this.onRemovalComplete(t,n)}constructor(t,n,i){this.bodyNode=t,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,n){const i=new yG(t,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,n){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const l=r.get(a);if(l){const u=i.indexOf(l);i.splice(u+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return r.set(n,t),t}register(t,n){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,n)),i}registerTrigger(t,n,i){let r=this._namespaceLookup[t];r&&r.register(n,i)&&this.totalAnimations++}destroy(t,n){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(n))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const n=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&n.add(s)}return n}trigger(t,n,i,r){if(af(n)){const s=this._fetchNamespace(t);if(s)return s.trigger(n,i,r),!0}return!1}insertNode(t,n,i,r){if(!af(n))return;const s=n[or];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,n){n?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ar(t,cy)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),hl(t,cy))}removeNode(t,n,i,r){if(af(n)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(n,r):this.markElementAsRemoved(t,n,!1,r),i){const o=this.namespacesByHostElement.get(n);o&&o.id!==t&&o.removeNode(n,r)}}else this._onRemovalComplete(n,r)}markElementAsRemoved(t,n,i,r,s){this.collectedLeaveElements.push(n),n[or]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,n,i,r,s){return af(n)?this._fetchNamespace(t).listen(n,i,r,s):()=>{}}_buildInstruction(t,n,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,n,s)}destroyInnerAnimations(t){let n=this.driver.query(t,Kd,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,Jv,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const n=this.playersByElement.get(t);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const n=this.playersByQueriedElement.get(t);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Qs(this.players).onDone(()=>t());t()})}processLeaveNode(t){const n=t[or];if(n&&n.setForRemoval){if(t[or]=qk,n.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}t.classList?.contains(cy)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ar(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{n=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],n.length?Qs(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function _W(e){return new Y(3402,!1)}()}_flushAnimations(t,n){const i=new nf,r=[],s=new Map,o=[],a=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(k=>{c.add(k);const x=this.driver.query(k,".ng-animate-queued",!0);for(let F=0;F<x.length;F++)c.add(x[F])});const h=this.bodyNode,d=Array.from(this.statesByElement.keys()),f=Qk(d,this.collectedEnterElements),p=new Map;let m=0;f.forEach((k,x)=>{const F=Zv+m++;p.set(x,F),k.forEach(z=>ar(z,F))});const g=[],_=new Set,b=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const x=this.collectedLeaveElements[k],F=x[or];F&&F.setForRemoval&&(g.push(x),_.add(x),F.hasAnimation?this.driver.query(x,".ng-star-inserted",!0).forEach(z=>_.add(z)):b.add(x))}const y=new Map,v=Qk(d,Array.from(_));v.forEach((k,x)=>{const F=Gd+m++;y.set(x,F),k.forEach(z=>ar(z,F))}),t.push(()=>{f.forEach((k,x)=>{const F=p.get(x);k.forEach(z=>hl(z,F))}),v.forEach((k,x)=>{const F=y.get(x);k.forEach(z=>hl(z,F))}),g.forEach(k=>{this.processLeaveNode(k)})});const w=[],S=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(n).forEach(F=>{const z=F.player,W=F.element;if(w.push(z),this.collectedEnterElements.length){const G=W[or];if(G&&G.setForMove){if(G.previousTriggersValues&&G.previousTriggersValues.has(F.triggerName)){const ae=G.previousTriggersValues.get(F.triggerName),de=this.statesByElement.get(F.element);if(de&&de.has(F.triggerName)){const je=de.get(F.triggerName);je.value=ae,de.set(F.triggerName,je)}}return void z.destroy()}}const re=!h||!this.driver.containsElement(h,W),N=y.get(W),B=p.get(W),U=this._buildInstruction(F,i,B,N,re);if(U.errors&&U.errors.length)return void S.push(U);if(re)return z.onStart(()=>Qo(W,U.fromStyles)),z.onDestroy(()=>Zr(W,U.toStyles)),void r.push(z);if(F.isFallbackTransition)return z.onStart(()=>Qo(W,U.fromStyles)),z.onDestroy(()=>Zr(W,U.toStyles)),void r.push(z);const X=[];U.timelines.forEach(G=>{G.stretchStartingKeyframe=!0,this.disabledNodes.has(G.element)||X.push(G)}),U.timelines=X,i.append(W,U.timelines),o.push({instruction:U,player:z,element:W}),U.queriedElements.forEach(G=>$i(a,G,[]).push(z)),U.preStyleProps.forEach((G,ae)=>{if(G.size){let de=l.get(ae);de||l.set(ae,de=new Set),G.forEach((je,Ot)=>de.add(Ot))}}),U.postStyleProps.forEach((G,ae)=>{let de=u.get(ae);de||u.set(ae,de=new Set),G.forEach((je,Ot)=>de.add(Ot))})});if(S.length){const k=[];S.forEach(x=>{k.push(function bW(e,t){return new Y(3505,!1)}())}),w.forEach(x=>x.destroy()),this.reportError(k)}const T=new Map,C=new Map;o.forEach(k=>{const x=k.element;i.has(x)&&(C.set(x,x),this._beforeAnimationBuild(k.player.namespaceId,k.instruction,T))}),r.forEach(k=>{const x=k.element;this._getPreviousPlayers(x,!1,k.namespaceId,k.triggerName,null).forEach(z=>{$i(T,x,[]).push(z),z.destroy()})});const M=g.filter(k=>Zk(k,l,u)),D=new Map;Xk(D,this.driver,b,u,Ds).forEach(k=>{Zk(k,l,u)&&M.push(k)});const E=new Map;f.forEach((k,x)=>{Xk(E,this.driver,new Set(k),l,"!")}),M.forEach(k=>{const x=D.get(k),F=E.get(k);D.set(k,new Map([...Array.from(x?.entries()??[]),...Array.from(F?.entries()??[])]))});const P=[],O=[],V={};o.forEach(k=>{const{element:x,player:F,instruction:z}=k;if(i.has(x)){if(c.has(x))return F.onDestroy(()=>Zr(x,z.toStyles)),F.disabled=!0,F.overrideTotalTime(z.totalTime),void r.push(F);let W=V;if(C.size>1){let N=x;const B=[];for(;N=N.parentNode;){const U=C.get(N);if(U){W=U;break}B.push(N)}B.forEach(U=>C.set(U,W))}const re=this._buildAnimation(F.namespaceId,z,T,s,E,D);if(F.setRealPlayer(re),W===V)P.push(F);else{const N=this.playersByElement.get(W);N&&N.length&&(F.parentPlayer=Qs(N)),r.push(F)}}else Qo(x,z.fromStyles),F.onDestroy(()=>Zr(x,z.toStyles)),O.push(F),c.has(x)&&r.push(F)}),O.forEach(k=>{const x=s.get(k.element);if(x&&x.length){const F=Qs(x);k.setRealPlayer(F)}}),r.forEach(k=>{k.parentPlayer?k.syncPlayerEvents(k.parentPlayer):k.destroy()});for(let k=0;k<g.length;k++){const x=g[k],F=x[or];if(hl(x,Gd),F&&F.hasAnimation)continue;let z=[];if(a.size){let re=a.get(x);re&&re.length&&z.push(...re);let N=this.driver.query(x,Jv,!0);for(let B=0;B<N.length;B++){let U=a.get(N[B]);U&&U.length&&z.push(...U)}}const W=z.filter(re=>!re.destroyed);W.length?CG(this,x,W):this.processLeaveNode(x)}return g.length=0,P.forEach(k=>{this.players.push(k),k.onDone(()=>{k.destroy();const x=this.players.indexOf(k);this.players.splice(x,1)}),k.play()}),P}elementContainsData(t,n){let i=!1;const r=n[or];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(n)&&(i=!0),this.playersByQueriedElement.has(n)&&(i=!0),this.statesByElement.has(n)&&(i=!0),this._fetchNamespace(t).elementContainsData(n)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,n,i,r,s){let o=[];if(n){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==nc;a.forEach(u=>{u.queued||!l&&u.triggerName!=r||o.push(u)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,n,i){const s=n.element,o=n.isRemovalTransition?void 0:t,a=n.isRemovalTransition?void 0:n.triggerName;for(const l of n.timelines){const u=l.element,c=u!==s,h=$i(i,u,[]);this._getPreviousPlayers(u,c,o,a,n.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),h.push(f)})}Qo(s,n.fromStyles)}_buildAnimation(t,n,i,r,s,o){const a=n.triggerName,l=n.element,u=[],c=new Set,h=new Set,d=n.timelines.map(p=>{const m=p.element;c.add(m);const g=m[or];if(g&&g.removedBeforeQueried)return new Zu(p.duration,p.delay);const _=m!==l,b=function SG(e){const t=[];return Yk(e,t),t}((i.get(m)||gG).map(T=>T.getRealPlayer())).filter(T=>!!T.element&&T.element===m),y=s.get(m),v=o.get(m),w=Ck(0,this._normalizer,0,p.keyframes,y,v),S=this._buildPlayer(p,w,b);if(p.subTimeline&&r&&h.add(m),_){const T=new fy(t,a,m);T.setRealPlayer(S),u.push(T)}return S});u.forEach(p=>{$i(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function bG(e,t,n){let i=e.get(t);if(i){if(i.length){const r=i.indexOf(n);i.splice(r,1)}0==i.length&&e.delete(t)}return i}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>ar(p,Pk));const f=Qs(d);return f.onDestroy(()=>{c.forEach(p=>hl(p,Pk)),Zr(l,n.toStyles)}),h.forEach(p=>{$i(r,p,[]).push(f)}),f}_buildPlayer(t,n,i){return n.length>0?this.driver.animate(t.element,n,t.duration,t.delay,t.easing,i):new Zu(t.duration,t.delay)}}class fy{constructor(t,n,i){this.namespaceId=t,this.triggerName=n,this.element=i,this._player=new Zu,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>Gv(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const n=this._player;n.triggerCallback&&t.onStart(()=>n.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,n){$i(this._queuedCallbacks,t,[]).push(n)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const n=this._player;n.triggerCallback&&n.triggerCallback(t)}}function af(e){return e&&1===e.nodeType}function Kk(e,t){const n=e.style.display;return e.style.display=t??"none",n}function Xk(e,t,n,i,r){const s=[];n.forEach(l=>s.push(Kk(l)));const o=[];i.forEach((l,u)=>{const c=new Map;l.forEach(h=>{const d=t.computeStyle(u,h,r);c.set(h,d),(!d||0==d.length)&&(u[or]=vG,o.push(u))}),e.set(u,c)});let a=0;return n.forEach(l=>Kk(l,s[a++])),o}function Qk(e,t){const n=new Map;if(e.forEach(a=>n.set(a,[])),0==t.length)return n;const r=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const u=a.parentNode;return l=n.has(u)?u:r.has(u)?1:o(u),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&n.get(l).push(a)}),n}function ar(e,t){e.classList?.add(t)}function hl(e,t){e.classList?.remove(t)}function CG(e,t,n){Qs(n).onDone(()=>e.processLeaveNode(t))}function Yk(e,t){for(let n=0;n<e.length;n++){const i=e[n];i instanceof wk?Yk(i.players,t):t.push(i)}}function Zk(e,t,n){const i=n.get(e);if(!i)return!1;let r=t.get(e);return r?i.forEach(s=>r.add(s)):t.set(e,i),n.delete(e),!0}class lf{constructor(t,n,i){this.bodyNode=t,this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new _G(t,n,i),this._timelineEngine=new hG(t,n,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,n,i,r,s){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],c=iy(this._driver,s,l,[]);if(l.length)throw function uW(e,t){return new Y(3404,!1)}();a=function aG(e,t,n){return new lG(e,t,n)}(r,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,r,a)}register(t,n){this._transitionEngine.register(t,n)}destroy(t,n){this._transitionEngine.destroy(t,n)}onInsert(t,n,i,r){this._transitionEngine.insertNode(t,n,i,r)}onRemove(t,n,i,r){this._transitionEngine.removeNode(t,n,r||!1,i)}disableAnimations(t,n){this._transitionEngine.markElementAsDisabled(t,n)}process(t,n,i,r){if("@"==i.charAt(0)){const[s,o]=Sk(i);this._timelineEngine.command(s,n,o,r)}else this._transitionEngine.trigger(t,n,i,r)}listen(t,n,i,r,s){if("@"==i.charAt(0)){const[o,a]=Sk(i);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(t,n,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let IG=(()=>{class e{constructor(n,i,r){this._element=n,this._startStyles=i,this._endStyles=r,this._state=0;let s=e.initialStylesByElement.get(n);s||e.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Zr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zr(this._element,this._initialStyles),this._endStyles&&(Zr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Qo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qo(this._element,this._endStyles),this._endStyles=null),Zr(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function py(e){let t=null;return e.forEach((n,i)=>{(function kG(e){return"display"===e||"position"===e})(i)&&(t=t||new Map,t.set(i,n))}),t}class Jk{constructor(t,n,i,r){this.element=t,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const n=[];return t.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(t,n,i){return t.animate(this._convertKeyframesToObject(n),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:Vk(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const n="start"===t?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class EG{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,n){return!1}containsElement(t,n){return kk(t,n)}getParentElement(t){return Qv(t)}query(t,n,i){return Ek(t,n,i)}computeStyle(t,n,i){return window.getComputedStyle(t)[n]}animate(t,n,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const u=new Map,c=o.filter(f=>f instanceof Jk);(function OW(e,t){return 0===e||0===t})(i,r)&&c.forEach(f=>{f.currentSnapshot.forEach((p,m)=>u.set(m,p))});let h=function EW(e){return e.length?e[0]instanceof Map?e:e.map(t=>Ok(t)):[]}(n).map(f=>Ys(f));h=function RW(e,t,n){if(n.size&&t.length){let i=t[0],r=[];if(n.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,Vk(e,a)))}}return t}(t,h,u);const d=function MG(e,t){let n=null,i=null;return Array.isArray(t)&&t.length?(n=py(t[0]),t.length>1&&(i=py(t[t.length-1]))):t instanceof Map&&(n=py(t)),n||i?new IG(e,n,i):null}(t,h);return new Jk(t,h,l,d)}}let AG=(()=>{class e extends vk{constructor(n,i){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(i.body,{id:"0",encapsulation:dr.None,styles:[],data:{animation:[]}})}build(n){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(n)?yk(n):n;return e1(this._renderer,null,i,"register",[r]),new xG(i,this._renderer)}}return e.\u0275fac=function(n){return new(n||e)(ge(Ul),ge(Xt))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})();class xG extends H8{constructor(t,n){super(),this._id=t,this._renderer=n}create(t,n){return new PG(this._id,t,n||{},this._renderer)}}class PG{constructor(t,n,i,r){this.id=t,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,n){return this._renderer.listen(this.element,`@@${this.id}:${t}`,n)}_command(t,...n){return e1(this._renderer,this.element,this.id,t,n)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function e1(e,t,n,i,r){return e.setProperty(t,`@@${n}:${i}`,r)}const t1="@.disabled";let OG=(()=>{class e{constructor(n,i,r){this.delegate=n,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(n,i){const s=this.delegate.createRenderer(n,i);if(!(n&&i&&i.data&&i.data.animation)){let c=this._rendererCache.get(s);return c||(c=new n1("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,c)),c}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(o,a,n,c.name,c)};return i.data.animation.forEach(l),new RG(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,i,r){n>=0&&n<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(n){return new(n||e)(ge(Ul),ge(lf),ge(Lt))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})();class n1{constructor(t,n,i,r){this.namespaceId=t,this.delegate=n,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>n.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,n){this.delegate.appendChild(t,n),this.engine.onInsert(this.namespaceId,n,t,!1)}insertBefore(t,n,i,r=!0){this.delegate.insertBefore(t,n,i),this.engine.onInsert(this.namespaceId,n,t,r)}removeChild(t,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate,i)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,i,r){this.delegate.setAttribute(t,n,i,r)}removeAttribute(t,n,i){this.delegate.removeAttribute(t,n,i)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,i,r){this.delegate.setStyle(t,n,i,r)}removeStyle(t,n,i){this.delegate.removeStyle(t,n,i)}setProperty(t,n,i){"@"==n.charAt(0)&&n==t1?this.disableAnimations(t,!!i):this.delegate.setProperty(t,n,i)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,i){return this.delegate.listen(t,n,i)}disableAnimations(t,n){this.engine.disableAnimations(t,n)}}class RG extends n1{constructor(t,n,i,r,s){super(n,i,r,s),this.factory=t,this.namespaceId=n}setProperty(t,n,i){"@"==n.charAt(0)?"."==n.charAt(1)&&n==t1?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,n.slice(1),i):this.delegate.setProperty(t,n,i)}listen(t,n,i){if("@"==n.charAt(0)){const r=function FG(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function LG(e){const t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,n,i)}}const r1=[{provide:vk,useClass:AG},{provide:ly,useFactory:function VG(){return new iG}},{provide:lf,useClass:(()=>{class e extends lf{constructor(n,i,r,s){super(n.body,i,r)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(n){return new(n||e)(ge(Xt),ge(Yv),ge(ly),ge(ru))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e})()},{provide:Ul,useFactory:function BG(e,t,n){return new OG(e,t,n)},deps:[Hh,lf,Lt]}],my=[{provide:Yv,useFactory:()=>new EG},{provide:_0,useValue:"BrowserAnimations"},...r1],s1=[{provide:Yv,useClass:Ak},{provide:_0,useValue:"NoopAnimations"},...r1];let zG=(()=>{class e{static withConfig(n){return{ngModule:e,providers:n.disableAnimations?s1:my}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=An({type:e}),e.\u0275inj=wn({providers:my,imports:[RS]}),e})();const fl=new fe("CallSetDisabledState",{providedIn:"root",factory:()=>mf}),mf="always";let G1=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=An({type:e}),e.\u0275inj=wn({}),e})(),H6=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=An({type:e}),e.\u0275inj=wn({imports:[G1]}),e})(),j6=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:fl,useValue:n.callSetDisabledState??mf}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=An({type:e}),e.\u0275inj=wn({imports:[H6]}),e})(),Z6=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=An({type:e}),e.\u0275inj=wn({imports:[qs,Lh,G4]}),e})(),_5=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=An({type:e}),e.\u0275inj=wn({imports:[qs,Lh,qs]}),e})(),w5=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=An({type:e}),e.\u0275inj=wn({imports:[qs]}),e})();class pl{}pl.\u0275fac=function(t){return new(t||pl)},pl.\u0275mod=An({type:pl,bootstrap:[Yu]}),pl.\u0275inj=wn({imports:[RS,cl,D8,Z6,zG,_5,j6,e4,w5]}),MB().bootstrapModule(pl).catch(e=>console.error(e))}},Ht=>{Ht(Ht.s=104)}]);